!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=6)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingCommon=t.CachedLogEntry=t.CachedLogEntryType=t.InitializeLogger=t.MMR_ASSERT=t.MMR_WARN=t.MMR_ERR=t.MMR_LOG=void 0;var n=i(2),o=null;t.MMR_LOG=function(e){o.Log(e)},t.MMR_ERR=function(e){o.Error(e)},t.MMR_WARN=function(e){o.Warn(e)},t.MMR_ASSERT=function(e){o.Assert(e)},t.InitializeLogger=function(e){o=e},function(e){e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO"}(t.CachedLogEntryType||(t.CachedLogEntryType={}));var r=function(e,t){this.type=e,this.logString=t};t.CachedLogEntry=r;var a=function(){function e(){}return e.Assert=function(e){return!!e},e.GetAssertLog=function(){var t=(new Error).stack.split("at ")[4].toString().trim(),i=new Object;i.type=e.ASSERT_FAILURE_MESSAGE_TYPE,i.messageType=n.ProxyCommon.BG_HOST_ASSERT_FAILURE_MESSAGE_TYPE,i.fileName=t;var o=t.match(/:(?:\d+):(\d+)[^\d]*$/);return i.line=o?o[1]:0,console.log("MMR_ASSERT: "+t+" Line: "+i.line+" Line object: "+o),i},e.LOGGING_PAGE_TO_CONTENT_EVENT="MsRdcMmrLoggingPageToContent_Message",e.LOGGING_CONTENT_TO_PAGE_EVENT="MsRdcMmrLoggingContentToPage_Message",e.LOGGING_CONTENT_BACKGROUND_PORT="MsRdcMmrLoggingBackgroundComm",e.ASSERT_FAILURE_BACKGROUND_PORT="MsRdcMmrAssertBackgroundComm",e.ASSERT_FAILURE_MESSAGE_TYPE="reportAssertFailure",e.FLUSH_LOGS_MESSAGE_TYPE="flushLogEntries",e}();t.LoggingCommon=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mmrWebRtcStatusToDOMError=t.tryJsonStringify=t.ShimCommon=t.PlaybackPathMode=t.getShimObject=t.shimProxyPropertyName=t.shimPropertyName=t.SourceBufferListProxy=t.TextTrackListProxy=t.createTimeRanges=void 0;var n=i(0);t.createTimeRanges=function(e){var t=e;null==t.forEach&&(t=new Array),t.forEach((function(e,t,i){null==e.start&&(i[t].start=1/0),null==e.end&&(i[t].end=1/0)}));var i=Object.create(TimeRanges.prototype);return Object.defineProperty(i,"length",{get:function(){return t.length}}),i.start=function(e){return t[e].start},i.end=function(e){return t[e].end},i};var o=function(){function e(){this.length=0}return e.prototype.getTrackById=function(e){throw new Error("Method not implemented.")},e.prototype.item=function(e){throw new Error("Method not implemented.")},e.prototype.addEventListener=function(e,t,i){throw new Error("Method not implemented.")},e.prototype.removeEventListener=function(e,t,i){throw new Error("Method not implemented.")},e.prototype[Symbol.iterator]=function(){throw new Error("Method not implemented.")},e.prototype.dispatchEvent=function(e){throw new Error("Method not implemented.")},e}();t.TextTrackListProxy=o;var r,a=function(){function e(t){var i=this;this.sourceBuffers=new Array,this.eventListeners=new Map,this.length=0,this.parentMediaSource=t,e.eventHandlers.forEach((function(e){var t="_on"+e+"eventHandler";Object.defineProperty(i,"on"+e,{get:function(){return this[t]||null},set:function(i){this[t]&&(this.removeEventListener(e,this[t],null),delete this[t]),i&&(this[t]=i,this.addEventListener(e,this[t],null))}})}))}return e.prototype.addEventListener=function(e,t,i){n.MMR_LOG("SourceBufferListProxy::addEventListener - type: "+e),this.eventListeners.has(e)||this.eventListeners.set(e,new Array),this.eventListeners.get(e).push(t),this.parentMediaSource.addEventListener(e,t,i)},e.prototype.removeEventListener=function(e,t,i){n.MMR_LOG("SourceBufferListProxy::removeEventListener - type: "+e);var o=this.eventListeners.get(e);if(null!=o){var r=o.indexOf(t);null!=r&&o.splice(r,1)}this.parentMediaSource.removeEventListener(e,t,i)},e.prototype[Symbol.iterator]=function(){return n.MMR_LOG("SourceBufferListProxy::iterator"),this.sourceBuffers.values()},e.prototype.dispatchEvent=function(e){n.MMR_LOG("SourceBufferListProxy::dispatchEvent - event type: "+e.type);var t=this.eventListeners.get(e.type),i=!1,o=this;return null!=t&&t.forEach((function(t,n,r){null!=t.handleEvent?i=!t.handleEvent():(Object.defineProperty(e,"target",{value:o}),Object.defineProperty(e,"currentTarget",{value:o}),i=!t.apply(o,[e]))})),!(i=i&&e.cancelable)},e.prototype.addSourceBuffer=function(e){n.MMR_LOG("SourceBufferListProxy::addSourceBuffer"),this.sourceBuffers.push(e),this.updateSourceBuffers(),this.dispatchEvent(new CustomEvent("addsourcebuffer"))},e.prototype.removeSourceBuffer=function(e){n.MMR_LOG("SourceBufferListProxy::removeSourceBuffer");var t=this.sourceBuffers.indexOf(e);t>-1&&(this.sourceBuffers.splice(t,1),this.updateSourceBuffers(),this.dispatchEvent(new CustomEvent("removesourcebuffer")))},e.prototype.setSourceBuffers=function(e){this.sourceBuffers=e,this.updateSourceBuffers(),n.MMR_LOG("SourceBufferListProxy::setSourceBuffers - this.length="+this.length)},e.prototype.updateSourceBuffers=function(){var e=this;this.sourceBuffers.forEach((function(t,i,n){e[i]=t})),this.length=this.sourceBuffers.length},e.eventHandlers=["addsourcebuffer","removesourcebuffer"],e}();t.SourceBufferListProxy=a,t.shimPropertyName="MSRDC_MMR_Shim",t.shimProxyPropertyName=t.shimPropertyName+"_Proxy",t.getShimObject=function(e){if(null!=e&&null!=e[t.shimPropertyName])return e[t.shimPropertyName]},function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOCAL=1]="LOCAL",e[e.REMOTE=2]="REMOTE"}(r=t.PlaybackPathMode||(t.PlaybackPathMode={}));var c=function(){function e(){}return e.initialPlaybackPathMode=r.UNKNOWN,e}();t.ShimCommon=c,t.tryJsonStringify=function(e){var t="<failed JSON.stringify parse>";try{t=JSON.stringify(e)}catch(t){n.MMR_LOG("tryJsonStringify failed for obj="+e)}return t},t.mmrWebRtcStatusToDOMError=function(e){var t="The operation failed for an unknown reason",i="UnknownError";switch(e){case-1:t="The object cannot be found",i="NotFoundError";break;case-2:t="The operation is not supported",i="NotSupportedError";break;case-3:t="The object is in an invalid state",i="InvalidStateError";break;case-4:t="The string did not match the expected pattern",i="SyntaxError";break;case-5:t="The object cannot be modified in this way",i="InvalidModificationError";break;case-6:t="The object does not support the operation or argument",i="InvalidAccessError";break;case-7:return TypeError("The type of the object does not match the expected type");case-8:t="A network error occurred",i="NetworkError";break;case-9:t="The operation was aborted",i="AbortError";break;case-10:t="The operation timed out",i="TimeoutError";break;case-11:t="The input/output read operation failed",i="NotReadableError";break;case-13:t="The constraint was not satisfied",i="ConstraintError";break;case-14:t="Provided data is inadequate",i="DataError";break;case-15:t="The operation failed for an operation-specific reason",i="OperationError";break;case-16:t="Not allowed by the user agent",i="NotAllowedError"}return new DOMException(t,i)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconStatus=t.ProxyCommon=void 0;var n=function(){function e(){}return e.PROXY_RECEIVE_MESSAGE_EVENT="MsRdcMmrProxy_MessageReceived",e.PROXY_SEND_MESSAGE_EVENT="MsRdcMmrProxy_SendMessage",e.PROXY_SEND_MMR_ENGAGED="MsRdcMmrProxy_MmrEngageMessage",e.PROXY_SEND_SAME_ORIGIN_PARENT_ID="MsRdcMmrProxy_SameOriginParent",e.CONTENT_BG_PROXY_CONNECTION_NAME="MsRdcMmrBackgroundComm",e.CONTENT_BG_CLIENT_CONNECTED_MESSAGE_TYPE="MsRdcMmrBackgroundClientConnected",e.CONTENT_BG_MMR_ACTIVE_MESSAGE_TYPE="MsRdcMmrActive",e.CONTENT_BG_SAME_ORIGIN_PARENT_MESSAGE_TYPE="MsRdcMmrSameOriginParent",e.CONTENT_BG_RECONNECT_MESSAGE_TYPE="MsRdcMmrReconnect",e.NATIVE_MESSAGING_APP_NAME="com.microsoft.msrdcmmrnativehost",e.BG_PROXY_CONVERT_TAB_TITLE_TO_WINDOW="__BG_ConvertTabTitleToWindowFlag__",e.POPUP_BG_PROXY_CONNECTION_NAME="MsRdcMmrProxyBgComm",e.BG_HOST_START_TRACING_MESSAGE_TYPE="startFullTracing",e.BG_HOST_STOP_TRACING_MESSAGE_TYPE="stopFullTracing",e.BG_HOST_FLUSH_LOGS_MESSAGE_TYPE="flushLogs",e.BG_HOST_ASSERT_FAILURE_MESSAGE_TYPE="reportAssertFailure",e.HOST_BG_TRACING_STARTED_MESSAGE_TYPE="onTracingStarted",e.HOST_BG_TRACING_STOPPED_MESSAGE_TYPE="onTracingStopped",e.HOST_BG_LOGS_FLUSH_MESSAGE_TYPE="onFlushLogs",e}();t.ProxyCommon=n,function(e){e[e.NotLoaded=0]="NotLoaded",e[e.LoadFailed=1]="LoadFailed",e[e.Loaded=2]="Loaded",e[e.VideoRedirecting=3]="VideoRedirecting",e[e.CallRedirecting=4]="CallRedirecting"}(t.IconStatus||(t.IconStatus={}))},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedStringHandler=void 0;var n=i(0),o=new Object;o.disconnectedMessage="Please refresh page to resume video playback",o.redirectedMessage="Video is being redirected...",o.redirectionFailedMessage="Video redirection failed";var r=new Object;Object.getOwnPropertyNames(o).forEach((function(e){r[e]=o[e]}));var a=function(){function e(){}return e.dispatchLocalizedStrings=function(){n.MMR_LOG("LocalizedStringHandler::dispatchLocalizedStrings");var e=new Object;Object.getOwnPropertyNames(o).forEach((function(t){e[t]=chrome.i18n.getMessage(t)})),document.dispatchEvent(new CustomEvent("MsRdcMmrProxy_LocalizedStrings",{detail:e}))},e.listenForLocalizedStrings=function(){n.MMR_LOG("LocalizedStringHandler::listenForLocalizedStrings"),document.addEventListener("MsRdcMmrProxy_LocalizedStrings",(function(e){var t=e.detail;Object.getOwnPropertyNames(t).forEach((function(e){r[e]=t[e]}))}))},e.getLocalizedStrings=function(){return r},e}();t.LocalizedStringHandler=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackObjectManager=t.QueueType=void 0;var n,o=i(0);!function(e){e[e.FALLBACK=0]="FALLBACK",e[e.POSTFALLBACK=1]="POSTFALLBACK"}(n=t.QueueType||(t.QueueType={}));var r=function(){function e(){this.nextLocalObjectId=0,this.urlToIdMap=new Map,this.elementToSourceMap=new Map,this.idToMediaSourceMap=new Map,this.fallbackFunctionQueue=new Array,this.postFallbackFunctionQueue=new Array}return e.prototype.addFallbackVideoElement=function(e){o.MMR_LOG("FallbackObjectManager::addFallbackVideoElement - id: "+this.nextLocalObjectId),e.setFallbackObjectId(this.nextLocalObjectId),this.nextLocalObjectId++},e.prototype.addFallbackMediaSource=function(e,t){o.MMR_LOG("FallbackObjectManager::addFallbackMediaSource - id: "+this.nextLocalObjectId+", url: "+t),e.setFallbackObjectId(this.nextLocalObjectId),this.urlToIdMap.set(t,this.nextLocalObjectId),this.idToMediaSourceMap.set(this.nextLocalObjectId,e),this.nextLocalObjectId++},e.prototype.addElementToSourceAssociation=function(e,t){o.MMR_ASSERT(e>=0&&e<this.nextLocalObjectId);var i=this.urlToIdMap.get(t);o.MMR_LOG("FallbackObjectManager::addElementToSourceAssociation - id: "+e+", url: "+t+", sourceId: "+i),null!=i?this.elementToSourceMap.set(e,i):o.MMR_LOG("FallbackObjectManager::addElementToSourceAssociation - mediaSource for url="+t+" does not exist yet")},e.prototype.queueFallbackFunction=function(e,t,i){switch(void 0===i&&(i=n.FALLBACK),o.MMR_ASSERT(e>=0&&e<this.nextLocalObjectId),i){case n.FALLBACK:this.fallbackFunctionQueue.push({id:e,function:t});break;case n.POSTFALLBACK:this.postFallbackFunctionQueue.push({id:e,function:t})}},e.prototype.switchToLocal=function(e){o.MMR_LOG("FallbackObjectManager::switchToLocal - id: "+e),o.MMR_ASSERT(e>=0&&e<this.nextLocalObjectId);var t=this.elementToSourceMap.get(e);if(this.fallbackFunctionQueue=this.filterAndExecuteFunctionQueue(e,t,this.fallbackFunctionQueue),null!=t){var i=this.idToMediaSourceMap.get(t);o.MMR_ASSERT(null!=i),i.switchToLocal()}this.postFallbackFunctionQueue=this.filterAndExecuteFunctionQueue(e,t,this.postFallbackFunctionQueue)},e.prototype.switchToRemote=function(e){o.MMR_LOG("FallbackObjectManager::switchToRemote - id: "+e),o.MMR_ASSERT(e>=0&&e<this.nextLocalObjectId);var t=this.elementToSourceMap.get(e);if(this.fallbackFunctionQueue=this.filterFunctionQueue(e,t,this.fallbackFunctionQueue),null!=t){var i=this.idToMediaSourceMap.get(t);o.MMR_ASSERT(null!=i),i.switchToRemote()}this.postFallbackFunctionQueue=this.filterFunctionQueue(e,t,this.postFallbackFunctionQueue)},e.prototype.filterAndExecuteFunctionQueue=function(e,t,i){return i.filter((function(i){var n=i.id;o.MMR_ASSERT(null!=n);var r=i.function;return o.MMR_ASSERT(null!=r),n!=e&&n!=t||(r(),!1)}))},e.prototype.filterFunctionQueue=function(e,t,i){return i.filter((function(i){var n=i.id;o.MMR_ASSERT(null!=n);var r=i.function;return o.MMR_ASSERT(null!=r),n!=e&&n!=t}))},e}();t.FallbackObjectManager=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MmrInjectionParameterHandler=void 0;var n=i(0),o=function(){function e(){}return e.setParams=function(e){var t=document.createElement("mmr-enabled");t.innerText=e.enableShimming.toString()+";"+e.occlusionSupportVersion.toString()+";"+e.enablePassthrough.toString()+";"+e.webrtcSupportVersion.toString()+";"+e.mmrSupportVersion.toString()+";"+e.contentPortId.toString()+";"+e.enableVideoStatusOverlay.toString()+";"+e.enableVideoOutlines.toString(),(document.head||document.documentElement).prepend(t)},e.readParams=function(){var e={enableShimming:!1,occlusionSupportVersion:0,enablePassthrough:!1,webrtcSupportVersion:0,mmrSupportVersion:0,contentPortId:-1,enableVideoStatusOverlay:!1,enableVideoOutlines:!1},t=document.getElementsByTagName("mmr-enabled");if(0==t.length)n.MMR_ERR("MMR readInjectionParameters: input parameter element missing.");else{var i=t[0].innerText;n.MMR_LOG("MMR readInjectionParameters: input parameters: "+i);var o=i.split(";");"true"===o[0]?e.enableShimming=!0:"false"===o[0]?e.enableShimming=!1:n.MMR_ERR("MMR readInjectionParameters: unexpected input parameter text: "+i),e.occlusionSupportVersion=parseInt(o[1]),"true"===o[2]?e.enablePassthrough=!0:"false"===o[2]?e.enablePassthrough=!1:n.MMR_ERR("MMR readInjectionParameters: unexpected input parameter text: "+i),e.webrtcSupportVersion=parseInt(o[3]),e.mmrSupportVersion=parseInt(o[4]),e.contentPortId=parseInt(o[5]),"true"===o[6]?e.enableVideoStatusOverlay=!0:"false"===o[6]?e.enableVideoStatusOverlay=!1:n.MMR_ERR("MMR readInjectionParameters: unexpected input parameter text: "+i),"true"===o[7]?e.enableVideoOutlines=!0:"false"===o[7]?e.enableVideoOutlines=!1:n.MMR_ERR("MMR readInjectionParameters: unexpected input parameter text: "+i)}return e},e}();t.MmrInjectionParameterHandler=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupShims=t.rootWindowInfoTracker=void 0;var n=i(17),o=i(20),r=i(23),a=i(24),c=i(25),s=i(0),d=i(26),l=i(5),u=i(3),h=i(4),p=i(1),m=i(27),f=i(28),M=i(30),b=i(7),g=i(12);c.RegisterPageLogger();var O=l.MmrInjectionParameterHandler.readParams(),v=O.enableShimming,R=O.occlusionSupportVersion,E=O.webrtcSupportVersion,y=O.mmrSupportVersion,S=O.enableVideoStatusOverlay,L=O.enableVideoOutlines;s.MMR_LOG("MSRDC MMR main loaded - shim enabled: "+v+", occlusion support version: "+R+", WebRTC support version: "+E+", MMR support version: "+y+", videoStatusOverlayEnabled: "+S+", videoOutlinesEnabled: "+L);var T=new r.NativeMessagingPageProxy(O.contentPortId),j=null,k=null,I=new d.RootWindowInfoTracker(T);function _(e){if(y>0||E>1){var t=e.querySelectorAll("video");if(t&&t.length>0){s.MMR_LOG("Shimming existing elements...");for(var i=0;i<t.length;i++)null!=p.getShimObject(t[i])?s.MMR_LOG("Ignoring video node as it is already shimmed."):(s.MMR_LOG("Shimming new video element"),n.setupVideoElementShims(j,k,R,t[i],S,L,E))}}if(E>0){var o=e.querySelectorAll("audio");if(o&&o.length>0){s.MMR_LOG("Shimming existing audio elements...");for(i=0;i<o.length;i++)null!=p.getShimObject(o[i])?s.MMR_LOG("Ignoring audio node as it is already shimmed."):(s.MMR_LOG("Shimming new audio element"),f.setupAudioElementShims(j,k,R,o[i]))}}}function P(){j=new a.RemoteObjectManager(T,E),k=new h.FallbackObjectManager,_(document.documentElement);var e=document.createElement;if(document.createElement_original=e,document.createElement=function(t){if("video"===t||"VIDEO"===t){if(y>0||E>1){var i=e.apply(document,["VIDEO"]);return s.MMR_LOG("Shimming new element..."),n.setupVideoElementShims(j,k,R,i,S,L,E)}}else if(("audio"===t||"AUDIO"===t)&&E>0){i=e.apply(document,["AUDIO"]);return s.MMR_LOG("Shimming new audio element..."),f.setupAudioElementShims(j,k,R,i)}return e.apply(document,arguments)},E>0&&(m.setupMediaDevicesShims(j,k,R),M.setupRTCPeerConnectionShims(j,k,R),b.setupMediaStreamShim(),g.setupWebAudioShims(),f.shimAudioClass(j,k,R)),y>0){var t=URL.createObjectURL;MediaSource;URL.createObjectURL=function(e){s.MMR_LOG("URL.createObjectURL");return 1==e.isMSRDCObject?e.blobURL:t(e)},o.setupMediaSourceShims(j,k)}var i=document;new MutationObserver((function(e,t){for(var i=0,o=e;i<o.length;i++){var r=o[i];if("childList"===r.type)for(var a=0,c=r.addedNodes;a<c.length;a++){var d=c[a];"VIDEO"==d.nodeName?(y>0||E>1)&&(null!=p.getShimObject(d)?s.MMR_LOG("Ignoring added video node as it is already shimmed."):(s.MMR_LOG("Shimming new video element from mutation observer"),n.setupVideoElementShims(j,k,R,d,S,L,E))):"AUDIO"==d.nodeName?E>0&&(null!=p.getShimObject(d)?s.MMR_LOG("Ignoring added audio node as it is already shimmed."):(s.MMR_LOG("Shimming new audio element from mutation observer"),f.setupAudioElementShims(j,k,R,d))):"SOURCE"==d.nodeName?s.MMR_LOG("New video element source node."):"DIV"==d.nodeName?(s.MMR_LOG("Mutation observer found DIV node with id: "+d.id),_(d)):"CNX"==d.nodeName&&(s.MMR_LOG("Mutation observer found CNX node with id: "+d.id),_(d))}}})).observe(i,{childList:!0,subtree:!0})}t.rootWindowInfoTracker=I,u.LocalizedStringHandler.listenForLocalizedStrings(),p.ShimCommon.initialPlaybackPathMode=O.enablePassthrough?p.PlaybackPathMode.LOCAL:p.PlaybackPathMode.UNKNOWN,t.setupShims=P,v&&P()},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0}),t.createTrackRedirectOnMediaStream=t.setupMediaStreamShim=t.createMediaStreamShim=t.MmrMediaStream=t.MmrEventTarget=void 0;var r=i(11),a=i(0),c=function(){function e(){this.eventListeners=new Map}return e.prototype.addEventListener=function(e,t,i){a.MMR_LOG("MmrEventTarget::addEventListener - type: "+e),null==this.eventListeners[e]&&(this.eventListeners[e]=new Array),this.eventListeners[e].push(t)},e.prototype.removeEventListener=function(e,t,i){a.MMR_LOG("MmrEventTarget::removeEventListener");var n=this.eventListeners[e];if(null!=n){var o=n.indexOf(t);null!=o?(a.MMR_LOG("MmrEventTarget::removeEventListener - removing listener for type: "+e),n.splice(o,1)):a.MMR_WARN("MmrEventTarget::removeEventListener - specified listener not found for type: "+e)}else a.MMR_WARN("MmrEventTarget::removeEventListener - no event listeners registered for type: "+e)},e.prototype.dispatchEvent=function(e){if(a.MMR_LOG("MmrEventTarget::dispatchEvent - event.type: "+e.type),null==e.type)throw"UNSPECIFIED_EVENT_TYPE_ERR";if(null!=this.eventListeners[e.type]){var t=this,i=!1;return this.eventListeners[e.type].forEach((function(n,o,r){i=!t.invokeEventListener(e,n)})),!(i=i&&e.cancelable)}a.MMR_LOG("MmrEventTarget::dispatchEvent - no listeners registered for type: "+e.type)},e.prototype.invokeEventListener=function(e,t){return a.MMR_LOG("MmrEventTarget::invokeEventListener - type: "+e.type),null!=t.handleEvent?t.handleEvent():(Object.defineProperty(e,"target",{value:this.eventTarget}),Object.defineProperty(e,"currentTarget",{value:this.eventTarget}),t(e)),!0},e.prototype.shimEventHandlers=function(e,t){t.forEach((function(t){var i="_on"+t+"eventHandler";Object.defineProperty(e,"on"+t,{get:function(){return e[i]||null},set:function(n){e[i]&&(e.removeEventListener(t,e[i],null),delete e[i]),n&&(e[i]=n,e.addEventListener(t,e[i],null))}})}))},e}();t.MmrEventTarget=c;var s=function(e){function t(t){var i=e.call(this)||this;if(i.isMSRDCObject=!0,i.tracks=[],i.eventTarget=i,i.shimEventHandlers(i,["addtrack","removetrack"]),null==t)a.MMR_LOG("MmrMediaStream: empty constructor");else if(null!=t.length){a.MMR_LOG("MmrMediaStream: constructor called with array of tracks"),t.forEach((function(e){null!=i.getTrackById(e.id)||i.tracks.push(e)}))}else{a.MMR_LOG("MmrMediaStream: constructor called with MediaStream "+t.id),t.getTracks().forEach((function(e){null!=i.getTrackById(e.id)||i.tracks.push(e)}))}return i.id=crypto.randomUUID(),a.MMR_LOG("MmrMediaStream: assigned this id to the new stream: "+i.id),i}return o(t,e),Object.defineProperty(t.prototype,"active",{get:function(){return null!=this.tracks.find((function(e){return"ended"!==e.readyState}))},enumerable:!1,configurable:!0}),t.prototype.addTrack=function(e){a.MMR_LOG("MediaStreamShim::addTrack: stream id: "+this.id+" track id: "+e.id),null!=this.getTrackById(e.id)||(this.tracks.push(e),this.dispatchEvent(new MediaStreamTrackEvent("addtrack",{track:e})))},t.prototype.clone=function(){return a.MMR_LOG("MediaStreamShim::clone, cloning stream with id "+this.id),new MediaStream(this)},t.prototype.getAudioTracks=function(){return a.MMR_LOG("getAudioTracks called on stream with id "+this.id),this.tracks.filter((function(e){return"audio"===e.kind}))},t.prototype.getTrackById=function(e){var t=this.tracks.find((function(t){return t.id===e}));return null!=t?t:null},t.prototype.getTracks=function(){return this.tracks},t.prototype.getVideoTracks=function(){return this.tracks.filter((function(e){return"video"===e.kind}))},t.prototype.removeTrack=function(e){a.MMR_LOG("MediaStreamShim::removeTrack: stream id: "+this.id+" track id: "+e.id);for(var t=-1,i=0;i<this.tracks.length;i++)if(this.tracks[i].id==e.id){t=i;break}-1!=t&&(this.tracks.splice(t,1),this.dispatchEvent(new MediaStreamTrackEvent("removetrack",{track:e})))},t.originalMediaStreamClass=MediaStream,t}(c);t.MmrMediaStream=s,t.createMediaStreamShim=function(e,t){return a.MMR_LOG("Creating shimmed media stream with id "+t),e.id=t,e},t.setupMediaStreamShim=function(){a.MMR_LOG("Shimming MediaStream"),window.MediaStream=s},t.createTrackRedirectOnMediaStream=function(e,t,i,n,o,c){a.MMR_LOG("createTrackRedirectOnMediaStream: Creating MediaStreamTrack with ID: "+i),t.addTrack(r.createTrackRedirect(e,i,n,o,c,!0))}},,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupPassthroughSourceBufferShim=t.setupSourceBufferShim=t.SourceBufferShim=void 0;var n=i(22),o=i(1),r=i(0),a=function(){function e(t,i,a){var c=this;this.remoteObjectManager=t,this.mimeType=i,this.playbackPathMode=o.ShimCommon.initialPlaybackPathMode,r.MMR_LOG("SourceBufferShim::SourceBufferShim - mimeType: "+i),this.sourceBufferRedirect=new n.SourceBufferRedirect(t,this,i,a),this.fallbackFunctionQueue=new Array,this.postFallbackFunctionQueue=new Array,e.eventHandlers.forEach((function(e){var t="_on"+e+"eventHandler";Object.defineProperty(c,"on"+e,{get:function(){return(o.getShimObject(this)?o.getShimObject(this):this)[t]||null},set:function(i){var n=o.getShimObject(this)?o.getShimObject(this):this;n[t]&&(n.removeEventListener(e,n[t],null),delete n[t]),i&&(n[t]=i,n.addEventListener(e,n[t],null))}})}))}return e.prototype.localOrRemoteExecute=function(t,i){var n=o.getShimObject(this)?o.getShimObject(this):this,a=void 0,c=function(){a=n.originalSourceBuffer[t].apply(n.originalSourceBuffer,i)};switch(this.playbackPathMode){case o.PlaybackPathMode.REMOTE:a=n.sourceBufferRedirect[t].apply(n.sourceBufferRedirect,i);break;case o.PlaybackPathMode.UNKNOWN:a=n.sourceBufferRedirect[t].apply(n.sourceBufferRedirect,i),e.postFallbackQueueMethods.includes(t)?n.postFallbackFunctionQueue.push(c):n.fallbackFunctionQueue.push(c);break;case o.PlaybackPathMode.LOCAL:a=c()}return r.MMR_LOG("SourceBufferShim::localOrRemoteExecute - functionName="+t+" args="+i+" return="+a),a},e.prototype.localOrRemoteExecuteFunctions=function(e,t){r.MMR_LOG("SourceBufferShim::localOrRemoteExecuteFunctions");var i=o.getShimObject(this)?o.getShimObject(this):this,n=void 0;switch(this.playbackPathMode){case o.PlaybackPathMode.REMOTE:n=t();break;case o.PlaybackPathMode.UNKNOWN:n=t(),i.fallbackFunctionQueue.push(e);break;case o.PlaybackPathMode.LOCAL:n=e()}return n},e.prototype.setMediaSourceOwner=function(e){r.MMR_LOG("SourceBufferShim:setMediaSourceOwner"),(o.getShimObject(this)?o.getShimObject(this):this).sourceBufferRedirect.setMediaSourceOwner(e)},e.prototype.setFallbackPathMode=function(e){r.MMR_LOG("SourceBufferShim:setFallbackPathMode"),(o.getShimObject(this)?o.getShimObject(this):this).playbackPathMode=e},e.prototype.switchToLocal=function(e){r.MMR_LOG("SourceBufferShim:switchToLocal - playbackPathMode="+this.playbackPathMode);var t=o.getShimObject(this)?o.getShimObject(this):this;t.originalSourceBuffer=e,t.playbackPathMode=o.PlaybackPathMode.LOCAL,t.fallbackFunctionQueue.forEach((function(e){e()})),t.fallbackFunctionQueue=void 0,t.postFallbackFunctionQueue.forEach((function(e){e()})),t.postFallbackFunctionQueue=void 0},e.prototype.switchToRemote=function(){r.MMR_LOG("SourceBufferShim:switchToRemote - playbackPathMode="+this.playbackPathMode);var e=o.getShimObject(this)?o.getShimObject(this):this;r.MMR_ASSERT(e.playbackPathMode==o.PlaybackPathMode.UNKNOWN),e.playbackPathMode=o.PlaybackPathMode.REMOTE,e.fallbackFunctionQueue=void 0,e.postFallbackFunctionQueue=void 0},e.prototype.abort=function(){r.MMR_LOG("SourceBufferShim::abort"),(o.getShimObject(this)?o.getShimObject(this):this).localOrRemoteExecute("abort",[])},e.prototype.appendBuffer=function(e){r.MMR_LOG("SourceBufferShim::appendBuffer"),(o.getShimObject(this)?o.getShimObject(this):this).localOrRemoteExecute("appendBuffer",[e])},e.prototype.remove=function(e,t){r.MMR_LOG("SourceBufferShim::remove"),(o.getShimObject(this)?o.getShimObject(this):this).localOrRemoteExecute("remove",[e,t])},e.prototype.changeType=function(e){var t=o.getShimObject(this)?o.getShimObject(this):this;return r.MMR_LOG("SourceBufferShim::changeType - type: "+e+", currentType: "+t.mimeType),t.mimeType=e,t.localOrRemoteExecute("changeType",[e])},e.prototype.addEventListener=function(e,t,i){r.MMR_LOG("SourceBufferShim::addEventListener - type: "+e);var n=o.getShimObject(this)?o.getShimObject(this):this;if(o.ShimCommon.initialPlaybackPathMode==o.PlaybackPathMode.LOCAL){this.originalSourceBuffer.addEventListener(e,(function(){r.MMR_LOG("SourceBufferShim::addEventListener[LOCAL]::addEventListener - type: "+e+" fired!")}),i)}n.localOrRemoteExecute("addEventListener",[e,t,i])},e.prototype.removeEventListener=function(e,t,i){r.MMR_LOG("SourceBufferShim::removeEventListener - type: "+e),(o.getShimObject(this)?o.getShimObject(this):this).localOrRemoteExecute("removeEventListener",[e,t,i])},e.prototype.dispatchEvent=function(e){return r.MMR_LOG("SourceBufferShim::dispatchEvent - type: "+e.type),(o.getShimObject(this)?o.getShimObject(this):this).localOrRemoteExecute("dispatchEvent",[e])},e.prototype.getLocalObjectId=function(){return(o.getShimObject(this)?o.getShimObject(this):this).sourceBufferRedirect.localObjectId},e.eventHandlers=["abort","error","update","updateend","updatestart"],e.postFallbackQueueMethods=["addEventListener","remoteEventListener"],e}();t.SourceBufferShim=a,t.setupSourceBufferShim=function(e,t,i){var c=new a(e,t,i);c[o.shimPropertyName]=c;var s={get:function(e,t,i){return t==o.shimPropertyName?c:n.SourceBufferRedirect.sourceBufferRedirectAttributes.includes(t)?c.playbackPathMode==o.PlaybackPathMode.LOCAL?(r.MMR_LOG("setupSourceBufferShim::get[LOCAL] - prop="+t),c.originalSourceBuffer[t]):c.sourceBufferRedirect[t]:c[t]},set:function(e,t,i){if(t==o.shimPropertyName)return!0;return c.localOrRemoteExecuteFunctions((function(){c.originalSourceBuffer[t]=i}),(function(){n.SourceBufferRedirect.sourceBufferRedirectAttributes.includes(t)?c.sourceBufferRedirect.setAttribute(t,i):c[t]=i})),!0}},d=new Proxy(c,s);return c[o.shimProxyPropertyName]=d,d},t.setupPassthroughSourceBufferShim=function(e){var t=e;return["abort","appendBuffer","remove","changeType","removeEventListener","dispatchEvent"].forEach((function(e){t[e+"_original"]=t[e],t[e]=function(){return r.MMR_LOG("SourceBufferShim::"+e+"[LOCAL]"),t[e+"_original"].apply(t,arguments)}})),t.addEventListener_original=t.addEventListener,t.addEventListener=function(e,i,n){r.MMR_LOG("SourceBufferShim::addEventListener - type: "+e);var o=function(){r.MMR_LOG("SourceBufferShim::addEventListener[LOCAL]::addEventListener - type: "+e+" fired!")};return t.addEventListener_original.apply(t,[e,o,n]),t.addEventListener_original.apply(t,arguments)},["appendWindowEnd","appendWindowStart","audioTracks","buffered","mode","textTracks","timestampOffset","updating","videoTracks"].forEach((function(e){var i=t.__lookupGetter__(e);null==i&&(i=function(){return t[e+"_noshim_"]});var n=t.__lookupSetter__(e);Object.defineProperty(t,e,{get:function(){var n=i.apply(t);return r.MMR_LOG("SourceBufferShim::get - "+e+"="+n),n},set:function(i){return r.MMR_LOG("SourceBufferShim::set - "+e+"="+i),n.apply(t,[i])}})})),t}},function(e,t,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.createTrackRedirect=t.MediaStreamTrackRedirect=void 0;var o=i(1),r=i(0),a=i(12),c=function(){function e(t,i,n,a,c,s,d){this.remoteObjectManager=t,this.originalTrack=d,this.isolated=!1,this.enabled=!0,this.muted=!1,this.readyState="live",this.localObjectId=0,this.remoteObjectActive=!1,this.settings=null,this.constraints={},r.MMR_LOG("MediaStreamTrackRedirect constructor"),this.label=n,this.id=i,this.kind=c,this.settings=a,this.isCaptureTrack=s,this.capabilities={deviceId:a.deviceId,groupId:a.groupId},d[o.shimPropertyName]=this;var l=this;e.shimmedMethods.forEach((function(e){d[e]=l[e]})),e.shimmedProperties.forEach((function(e){Object.defineProperty(d,e,{get:function(){return l[e]}})}));Object.defineProperty(d,"enabled",{get:function(){return l.enabled},set:function(e){return l.setIdlAttribute("enabled",!!e),!0}}),e.eventHandlers.forEach((function(e){var t="_on"+e+"eventHandler";Object.defineProperty(d,"on"+e,{get:function(){return l[t]||null},set:function(i){return null!=l[t]&&(l.removeEventListener(e,l[t],null),delete l[t]),null!=i&&(l[t]=i,l.addEventListener(e,l[t],null)),!0}})})),this.remoteObjectManager.createObject(this,"MediaStreamTrack",{trackId:i,kind:c,isCaptureTrack:s})}return e.prototype.setLocalObjectId=function(e){this.localObjectId=e},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.onRemoteObjectCreated=function(){this.remoteObjectActive=!0},e.prototype.invokeEvent=function(e){},e.prototype.invokeEventListener=function(e,t){r.MMR_LOG("MediaStreamTrackRedirect::invokeEventListener - type: "+e.type),"ended"===this.readyState?r.MMR_LOG("MediaStreamTrackRedirect::invokeEventListener: Ignoring event when track is in ended state."):("ended"==e.type?this.setIdlAttribute("readyState","ended"):"muted"==e.type?this.setIdlAttribute("muted",!0):"unmuted"==e.type&&this.setIdlAttribute("muted",!1),null!=t.handleEvent?t.handleEvent():t(e))},e.prototype.setIdlAttribute=function(e,t){if(r.MMR_LOG("MediaStreamTrackRedirect::setIdlAttribute - name: "+e+", value: "+t),"enabled"==e){var i=this.enabled;this.enabled=t,"ended"!==this.readyState&&(i&&!t?this.remoteObjectManager.invokeMethod(this.localObjectId,"disabled",{},(function(e,t){})):!i&&t&&this.remoteObjectManager.invokeMethod(this.localObjectId,"enabled",{},(function(e,t){})))}else this[e]=t},e.prototype.onAttributeUpdate=function(e,t){r.MMR_LOG("MediaStreamTrackRedirect::onAttributeUpdate - name: "+e+", value: "+o.tryJsonStringify(t))},e.prototype.onConnectionEvent=function(e){"clientConnected"==e?r.MMR_LOG("MediaStreamTrackRedirect::onConnectionEvent - clientConnected"):"clientDisconnected"==e&&(this.remoteObjectActive=!1)},e.prototype.applyConstraints=function(e){r.MMR_LOG("MediaStreamTrackRedirect::applyConstraints[BEGIN] - options: "+JSON.stringify(e));var t=o.getShimObject(this)?o.getShimObject(this):this;return null==e&&(e={}),new Promise((function(i,n){r.MMR_LOG("MediaStreamTrackRedirect::applyConstraints[END]");var o=null;void 0!==e.deviceId&&e.deviceId!==t.capabilities.deviceId&&(o=new DOMException("The constraint could not be satisfied","ConstraintError")),void 0!==e.groupId&&e.groupId!==t.capabilities.groupId&&(o=new DOMException("The constraint could not be satisfied","ConstraintError")),null===o?(t.constraints=e,i()):n(o)}))},e.prototype.clone=function(){return r.MMR_LOG("MediaStreamTrackRedirect::clone - returning same track"),(o.getShimObject(this)?o.getShimObject(this):this).originalTrack},e.prototype.getCapabilities=function(){var e=o.getShimObject(this)?o.getShimObject(this):this;return n({},e.capabilities)},e.prototype.getConstraints=function(){var e=o.getShimObject(this)?o.getShimObject(this):this;return n({},e.constraints)},e.prototype.getSettings=function(){var e=o.getShimObject(this)?o.getShimObject(this):this;return n({},e.settings)},e.prototype.stop=function(){var e=o.getShimObject(this)?o.getShimObject(this):this;"ended"!==e.readyState&&(e.remoteObjectManager.invokeMethod(e.localObjectId,"stop",{},(function(e,t){})),e.setIdlAttribute("readyState","ended"))},e.prototype.addEventListener=function(e,t,i){r.MMR_LOG("MediaStreamTrackRedirect::addEventListener - type: "+e);var n=o.getShimObject(this)?o.getShimObject(this):this;n.remoteObjectManager.addEventListener(n.localObjectId,e,t,i)},e.prototype.removeEventListener=function(e,t,i){r.MMR_LOG("MediaStreamTrackRedirect::removeEventListener - type: "+e);var n=o.getShimObject(this)?o.getShimObject(this):this;n.remoteObjectManager.removeEventListener(n.localObjectId,e,t,i)},e.prototype.dispatchEvent=function(e){r.MMR_LOG("MediaStreamTrackRedirect::dispatchEvent - type: "+e.type);var t=o.getShimObject(this)?o.getShimObject(this):this;return t.remoteObjectManager.dispatchEvent(t.localObjectId,e)},e.audioContext=null,e.eventHandlers=["ended","mute","unmute"],e.shimmedMethods=["applyConstraints","clone","getCapabilities","getConstraints","getSettings","stop","addEventListener","removeEventListener","dispatchEvent"],e.shimmedProperties=["id","kind","label","muted","readyState"],e}();t.MediaStreamTrackRedirect=c,t.createTrackRedirect=function(e,t,i,n,o,s){r.MMR_LOG("createTrackRedirect: Creating MediaStreamTrack with ID: "+t),null==c.audioContext&&(c.audioContext=new a.MmrAudioContext.originalAudioContextClass);var d=c.audioContext.createMediaStreamDestination().stream.getAudioTracks()[0];return new c(e,t,i,n,o,s,d),d}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupWebAudioShims=t.MmrAudioContext=void 0;var n=i(1),o=i(0),r=function(){function e(t){this.audioContextInstance=new e.originalAudioContextClass(t)}return e.prototype.createMediaStreamSource=function(e){if(!0!==e.isMSRDCObject)return o.MMR_LOG("createMediaStreamSource: invoked with non-WebRTC stream"),this.audioContextInstance.createMediaStreamSource(e);var t=new MediaStreamAudioDestinationNode(this.audioContextInstance);o.MMR_LOG("createMediaStreamSource: replacing WebRTC stream with silent track id: "+t.stream.getAudioTracks()[0].id);var i=this.audioContextInstance.createMediaStreamSource(t.stream);return o.MMR_LOG("createMediaStreamSource: sourceNode has stream id: "+i.mediaStream.id+" and track id: "+i.mediaStream.getAudioTracks()[0].id),i},e.prototype.createMediaStreamTrackSource=function(e){if(null==e[n.shimPropertyName])return o.MMR_LOG("createMediaStreamTrackSource: invoked with non-WebRTC track"),this.audioContextInstance.createMediaStreamTrackSource(e);var t=new MediaStreamAudioDestinationNode(this.audioContextInstance).stream.getAudioTracks()[0];return o.MMR_LOG("createMediaStreamTrackSource: replacing WebRTC track with silent track id: "+t.id),this.audioContextInstance.createMediaStreamTrackSource(t)},e.prototype.createMediaStreamDestination=function(){return this.audioContextInstance.createMediaStreamDestination()},Object.defineProperty(e.prototype,"baseLatency",{get:function(){return this.audioContextInstance.baseLatency},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outputLatency",{get:function(){return this.audioContextInstance.outputLatency},enumerable:!1,configurable:!0}),e.prototype.close=function(){return this.audioContextInstance.close()},e.prototype.createMediaElementSource=function(e){return this.audioContextInstance.createMediaElementSource(e)},e.prototype.getOutputTimestamp=function(){return this.audioContextInstance.getOutputTimestamp()},e.prototype.resume=function(){return this.audioContextInstance.resume()},e.prototype.suspend=function(){return this.audioContextInstance.suspend()},e.prototype.addEventListener=function(e,t,i){return this.audioContextInstance.addEventListener(e,t,i)},e.prototype.removeEventListener=function(e,t,i){return this.audioContextInstance.removeEventListener(e,t)},Object.defineProperty(e.prototype,"audioWorklet",{get:function(){return this.audioContextInstance.audioWorklet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.audioContextInstance.currentTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destination",{get:function(){return o.MMR_LOG("*** destination property was queried."),this.audioContextInstance.destination},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"listener",{get:function(){return this.audioContextInstance.listener},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onstatechange",{get:function(){return this._onstatechangeeventHandler},set:function(e){null!=this._onstatechangeeventHandler&&(this.audioContextInstance.removeEventListener("statechange",this._onstatechangeeventHandler,null),delete this._onstatechangeeventHandler),null!=e&&(this._onstatechangeeventHandler=e,this.audioContextInstance.addEventListener("statechange",this._onstatechangeeventHandler,null))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sampleRate",{get:function(){return this.audioContextInstance.sampleRate},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this.audioContextInstance.state},enumerable:!1,configurable:!0}),e.prototype.createAnalyser=function(){return this.audioContextInstance.createAnalyser()},e.prototype.createBiquadFilter=function(){return this.audioContextInstance.createBiquadFilter()},e.prototype.createBuffer=function(e,t,i){return this.audioContextInstance.createBuffer(e,t,i)},e.prototype.createBufferSource=function(){return this.audioContextInstance.createBufferSource()},e.prototype.createChannelMerger=function(e){return this.audioContextInstance.createChannelMerger(e)},e.prototype.createChannelSplitter=function(e){return this.audioContextInstance.createChannelSplitter(e)},e.prototype.createConstantSource=function(){return this.audioContextInstance.createConstantSource()},e.prototype.createConvolver=function(){return this.audioContextInstance.createConvolver()},e.prototype.createDelay=function(e){return this.audioContextInstance.createDelay(e)},e.prototype.createDynamicsCompressor=function(){return this.audioContextInstance.createDynamicsCompressor()},e.prototype.createGain=function(){return this.audioContextInstance.createGain()},e.prototype.createIIRFilter=function(e,t){return this.audioContextInstance.createIIRFilter(e,t)},e.prototype.createOscillator=function(){return this.audioContextInstance.createOscillator()},e.prototype.createPanner=function(){return this.audioContextInstance.createPanner()},e.prototype.createPeriodicWave=function(e,t,i){return this.audioContextInstance.createPeriodicWave(e,t,i)},e.prototype.createScriptProcessor=function(e,t,i){return this.audioContextInstance.createScriptProcessor(e,t,i)},e.prototype.createStereoPanner=function(){return this.audioContextInstance.createStereoPanner()},e.prototype.createWaveShaper=function(){return this.audioContextInstance.createWaveShaper()},e.prototype.decodeAudioData=function(e,t,i){return this.audioContextInstance.decodeAudioData(e,t,i)},e.prototype.dispatchEvent=function(e){return this.audioContextInstance.dispatchEvent(e)},e.originalAudioContextClass=AudioContext,e}();t.MmrAudioContext=r,t.setupWebAudioShims=function(){o.MMR_LOG("Shimming Web Audio"),window.AudioContext=r}},,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupVideoElementShims=t.VideoElementShim=void 0;var n=i(1),o=i(18),r=i(4),a=i(0),c=function(){function e(t,i,r,c,s,d,l){this.remoteObjectManager=t,this.fallbackObjectManager=i,this.originalElement=c,this.webrtcSupportVersion=l,this.duration=NaN,this.readyState=0,this.seeking=!1,this.HAVE_NOTHING=0,this.HAVE_METADATA=1,this.HAVE_CURRENT_DATA=2,this.HAVE_FUTURE_DATA=3,this.HAVE_ENOUGH_DATA=4,this.NETWORK_EMPTY=0,this.NETWORK_IDLE=1,this.NETWORK_LOADING=2,this.NETWORK_NO_SOURCE=3,this.nodeType=Node.ELEMENT_NODE,this.tagName="video",this.originalSetters={},this.sourceChildObserver=null,this.sourceChildAttributeObserver=null,this.sourceNodes=[],this.playbackPathMode=n.ShimCommon.initialPlaybackPathMode,a.MMR_LOG("VideoElementShim::VideoElementShim playbackPathMode="+this.playbackPathMode),this.playbackPathMode!=n.PlaybackPathMode.LOCAL&&(this.videoElementRedirect=new o.VideoElementRedirect(t,c,r,s,d)),this.ownerDocument=window.document,this.videoWidth=1920,this.videoHeight=1080,this.textTracks=new n.TextTrackListProxy,this.buffered=n.createTimeRanges(new Object),this.seekable=n.createTimeRanges(new Object),this.fallbackObjectManager.addFallbackVideoElement(this),this.originalElement[n.shimPropertyName]=this;var u=this;e.shimmedMethods.forEach((function(e){u[e+"_original"]=c[e],c[e]=u[e]})),this.setIdlAttribute_original=function(e,t){return null!=u.originalSetters["set_"+e+"_original"]?u.originalSetters["set_"+e+"_original"].apply(c,[t]):(c[e+"_noshim_"]=t,!0)},e.shimmedProperties.forEach((function(t){e.boolShimmedProperties.includes(t)?u[t]=!!c[t]:u[t]=c[t];var i=c.__lookupGetter__(t);null==i&&(i=function(){return c[t+"_noshim_"]}),u.originalSetters["set_"+t+"_original"]=c.__lookupSetter__(t);var o=e.boolShimmedProperties.includes(t)?function(e){u.setIdlAttribute(t,!!e)}:function(e){u.setIdlAttribute(t,e)};Object.defineProperty(c,t,{get:function(){var e;return e=u.playbackPathMode==n.PlaybackPathMode.LOCAL?i.apply(c):u[t],a.MMR_LOG("VideoElementShim["+u.fallbackObjectId+"]::get - "+t+"="+e),e},set:function(e){return a.MMR_LOG("VideoElementShim["+u.fallbackObjectId+"]::set - "+t+"="+e),o(e),!0},enumerable:!0})})),e.shimmedStyleProperties.forEach((function(e){u[e]=c.style[e]})),u.get_style_original=c.__lookupGetter__("style");var h={get:function(t,i,n){return a.MMR_LOG("VideoElementShim["+t.fallbackObjectId+"].style::get - "+i),e.shimmedStyleProperties.includes(i)?u[i]:u.get_style_original.apply(c)[i]},set:function(t,i,n){(a.MMR_LOG("VideoElementShim["+t.fallbackObjectId+"].style::set - "+i),e.shimmedStyleProperties.includes(i))?u[i]=n:u.get_style_original.apply(c)[i]=n;return!0}};if(this.style=new Proxy(this,h),Object.defineProperty(c,"style",{get:function(){return a.MMR_LOG("VideoElementShim["+u.fallbackObjectId+"]::get - style"),u.style},enumerable:!0}),e.eventHandlers.forEach((function(e){var t="_on"+e+"eventHandler";Object.defineProperty(c,"on"+e,{get:function(){return u[t]||null},set:function(i){return null!=u[t]&&(u.removeEventListener(e,u[t],null),delete u[t]),null!=i&&(u[t]=i,u.addEventListener(e,u[t],null)),!0}})})),this.playbackPathMode!=n.PlaybackPathMode.LOCAL)for(var p=0;p<c.attributes.length;p++){var m=c.attributes[p];if(e.boolShimmedProperties.includes(m.name)){var f=void 0!==m.value;this.videoElementRedirect.setIdlAttribute(m.name,f)}else this.videoElementRedirect.setIdlAttribute(m.name,m.value)}c.childNodes.forEach((function(e){"SOURCE"==e.nodeName&&(a.MMR_LOG("VideoElementShim::VideoElementShim found source childNode"),u.onSourceNodeAdded(e))}));this.sourceChildObserver=new MutationObserver((function(e,t){for(var i=0,n=e;i<n.length;i++){var o=n[i];if("childList"===o.type)for(var r=0,c=o.addedNodes;r<c.length;r++){var s=c[r];if("SOURCE"==s.nodeName){a.MMR_LOG("VideoElementShim::VideoElementShim source childNode is added"),u.onSourceNodeAdded(s);break}}}})),this.sourceChildObserver.observe(c,{childList:!0,subtree:!0}),setTimeout((function(){a.MMR_LOG("VideoElementShim switchToRemote 10 sec timeout"),u.switchToRemote()}),1e4)}return e.prototype.localOrRemoteExecute=function(t,i){var o=this;a.MMR_ASSERT(e.shimmedMethods.includes(t)||"setIdlAttribute"==t);var c=void 0,s=function(){return o[t+"_original"].apply(o.originalElement,i)};switch(this.playbackPathMode){case n.PlaybackPathMode.REMOTE:c=this.videoElementRedirect[t].apply(this.videoElementRedirect,i);break;case n.PlaybackPathMode.UNKNOWN:c=this.videoElementRedirect[t].apply(this.videoElementRedirect,i),e.postFallbackQueueMethods.includes(t)?this.fallbackObjectManager.queueFallbackFunction(this.fallbackObjectId,s,r.QueueType.POSTFALLBACK):this.fallbackObjectManager.queueFallbackFunction(this.fallbackObjectId,s);break;case n.PlaybackPathMode.LOCAL:c=s()}return a.MMR_LOG("VideoElementShim["+this.fallbackObjectId+"]::localOrRemoteExecute - functionName="+t+" args="+i+" return="+c+" playbackPathMode="+this.playbackPathMode),c},e.prototype.localOrRemoteExecuteFunctions=function(e,t){switch(this.playbackPathMode){case n.PlaybackPathMode.REMOTE:return t();case n.PlaybackPathMode.UNKNOWN:return this.fallbackObjectManager.queueFallbackFunction(this.fallbackObjectId,e),t();case n.PlaybackPathMode.LOCAL:return e()}},e.prototype.setFallbackObjectId=function(e){a.MMR_LOG("VideoElementShim["+this.fallbackObjectId+"]::setFallbackObjectId - fallbackObjectId: "+e),this.fallbackObjectId=e},e.prototype.switchToLocal=function(e){void 0===e&&(e="Unknown."),a.MMR_LOG("VideoElementShim["+this.fallbackObjectId+"]::switchToLocal - playbackPathMode="+this.playbackPathMode+" message="+e),this.playbackPathMode==n.PlaybackPathMode.UNKNOWN&&(this.videoElementRedirect.cancelRemote(e),this.playbackPathMode=n.PlaybackPathMode.LOCAL,this.fallbackObjectManager.switchToLocal(this.fallbackObjectId))},e.prototype.switchToRemote=function(){a.MMR_LOG("VideoElementShim["+this.fallbackObjectId+"]::switchToRemote - playbackPathMode="+this.playbackPathMode),this.playbackPathMode==n.PlaybackPathMode.UNKNOWN&&(this.playbackPathMode=n.PlaybackPathMode.REMOTE,this.fallbackObjectManager.switchToRemote(this.fallbackObjectId))},e.prototype.setContentAttribute=function(e,t){a.MMR_LOG("VideoElementShim["+this.fallbackObjectId+"]::setContentAttribute - name: "+e+", value: "+t),this.setAttribute_original.apply(this.originalElement,[e,t])},e.prototype.setIdlAttribute=function(e,t){a.MMR_LOG("VideoElementShim["+this.fallbackObjectId+"]::setIdlAttribute - name: "+e+", value: "+t),"currentTime"==e&&this.currentTime!=t&&(this.seeking=!0),this.setAttributeOnShim(e,t),this.playbackPathMode==n.PlaybackPathMode.UNKNOWN&&("srcObject"==e&&this.webrtcSupportVersion<2?this.switchToLocal("VideoElementShim srcObject attribute was set."):"src"==e&&this.fallbackObjectManager.addElementToSourceAssociation(this.fallbackObjectId,t)),this.localOrRemoteExecute("setIdlAttribute",[e,t]),"src"==e&&""==t&&this.sourceNodes.length>0&&this.checkAndSetSrcFromSourceNode(this.sourceNodes[0])},e.prototype.setAttributeOnShim=function(t,i){var o=n.getShimObject(this)?n.getShimObject(this):this,r=i;e.boolShimmedProperties.includes(t)&&(r=!!i),o[t]=r},e.prototype.onSourceNodeAdded=function(e){if(a.MMR_LOG("VideoElementShim::onSourceNodeAdded"),this.sourceNodes.push(e),1==this.sourceNodes.length){this.checkAndSetSrcFromSourceNode(e);var t=this;this.sourceChildAttributeObserver=new MutationObserver((function(i,n){for(var o=0,r=i;o<r.length;o++){"src"==r[o].attributeName&&t.checkAndSetSrcFromSourceNode(e)}})),this.sourceChildAttributeObserver.observe(e,{attributes:!0})}},e.prototype.checkAndSetSrcFromSourceNode=function(e){null!=this.src&&""!=this.src||""==e.src||(a.MMR_LOG("VideoElementShim::checkAndSetSrcFromSourceNode "+e.src),this.fallbackObjectManager.addElementToSourceAssociation(this.fallbackObjectId,e.src),this.playbackPathMode!=n.PlaybackPathMode.LOCAL&&this.videoElementRedirect.setIdlAttribute("src",e.src))},e.prototype.setAttribute=function(t,i){var o=n.getShimObject(this)?n.getShimObject(this):this;if(a.MMR_LOG("VideoElementShim["+o.fallbackObjectId+"]::setAttribute - name: "+t+", value: "+i),o.setContentAttribute(t,i),o.playbackPathMode!=n.PlaybackPathMode.LOCAL)if(e.boolShimmedProperties.includes(t)){var r=void 0!==i;o.videoElementRedirect.setIdlAttribute(t,r)}else o.videoElementRedirect.setIdlAttribute(t,i);o.setAttributeOnShim(t,i)},e.prototype.removeAttribute=function(e){var t=n.getShimObject(this)?n.getShimObject(this):this;a.MMR_LOG("VideoElementShim["+t.fallbackObjectId+"]::removeAttribute - name: "+e),t.removeAttribute_original.apply(t.originalElement,[e]),t.setAttributeOnShim(e,t.originalElement[e])},e.prototype.getVideoPlaybackQuality=function(){var e=n.getShimObject(this)?n.getShimObject(this):this;return e.playbackPathMode==n.PlaybackPathMode.LOCAL?e.getVideoPlaybackQuality_original.apply(e.originalElement):e.videoElementRedirect.getVideoPlaybackQuality()},e.prototype.pause=function(){var e=n.getShimObject(this)?n.getShimObject(this):this;a.MMR_LOG("VideoElementShim["+e.fallbackObjectId+"]::pause"),e.playbackPathMode!=n.PlaybackPathMode.LOCAL&&(n.getShimObject(this).paused=!0),e.localOrRemoteExecute("pause",[])},e.prototype.setMediaKeys=function(e){var t=n.getShimObject(this)?n.getShimObject(this):this;return a.MMR_LOG("VideoElementShim["+t.fallbackObjectId+"]::setMediaKeys"),null!=e&&t.playbackPathMode==n.PlaybackPathMode.UNKNOWN&&t.switchToLocal("VideoElementShim setMediaKeys was called."),t.playbackPathMode==n.PlaybackPathMode.LOCAL?t.setMediaKeys_original.apply(t.originalElement,[e]):(console.warn("VideoElement: Unimplemented MSRDC shim method"),new Promise((function(){})))},e.prototype.play=function(){var e=n.getShimObject(this)?n.getShimObject(this):this;return a.MMR_LOG("VideoElementShim["+e.fallbackObjectId+"]::play"),e.playbackPathMode!=n.PlaybackPathMode.LOCAL&&(n.getShimObject(this).paused=!1),new Promise((function(t,i){e.localOrRemoteExecuteFunctions((function(){e.play_original.apply(e.originalElement).then((function(e){t()})).catch((function(e){i(e)}))}),(function(){e.videoElementRedirect.play().then((function(e){t()})).catch((function(e){i(e)}))}))}))},e.prototype.setSinkId=function(e){var t=n.getShimObject(this)?n.getShimObject(this):this;return a.MMR_LOG("VideoElementShim["+this.fallbackObjectId+"]::setSinkId: elementId: "+t.originalElement.id),new Promise((function(i,n){t.localOrRemoteExecuteFunctions((function(){a.MMR_LOG("Accepting the requested device id when executing setSinkId on local element"),i()}),(function(){t.videoElementRedirect.setSinkId(e).then((function(e){i()})).catch((function(e){n(e)}))}))}))},e.prototype.canPlayType=function(e){var t=n.getShimObject(this)?n.getShimObject(this):this,i=t.canPlayType_original.apply(t.originalElement,[e]);return console.warn("VideoElement: Unimplemented MSRDC shim method"),a.MMR_LOG("VideoElementShim["+t.fallbackObjectId+"]: canplayType type="+e+" ret="+i),i},e.prototype.load=function(){var e=n.getShimObject(this)?n.getShimObject(this):this;a.MMR_LOG("VideoElementShim["+e.fallbackObjectId+"]::load"),e.localOrRemoteExecute("load",[])},e.prototype.addEventListener=function(e,t,i){var o=n.getShimObject(this)?n.getShimObject(this):this;if(a.MMR_LOG("VideoElementShim["+o.fallbackObjectId+"]::addEventListener - type: "+e),n.ShimCommon.initialPlaybackPathMode==n.PlaybackPathMode.LOCAL){var r=function(){a.MMR_LOG("VideoElementShim["+o.fallbackObjectId+"][LOCAL]::addEventListener - type: "+e+" fired!")};o.removeEventListener_original.apply(o.originalElement,[e,r,i]),o.addEventListener_original.apply(o.originalElement,[e,r,i])}return o.addEventListener_original.apply(o.originalElement,[e,t,i])},e.prototype.removeEventListener=function(e,t,i){var o=n.getShimObject(this)?n.getShimObject(this):this;return a.MMR_LOG("VideoElementShim["+o.fallbackObjectId+"]::removeEventListener - type: "+e),o.removeEventListener_original.apply(o.originalElement,[e,t,i])},e.prototype.dispatchEvent=function(e){var t=n.getShimObject(this)?n.getShimObject(this):this;return a.MMR_LOG("VideoElementShim["+t.fallbackObjectId+"]::dispatchEvent - type: "+e.type),t.dispatchEvent_original.apply(t.originalElement,[e])},e.eventHandlers=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],e.shimmedMethods=["setAttribute","removeAttribute","play","pause","setMediaKeys","setSinkId","canPlayType","load","getVideoPlaybackQuality","addEventListener","removeEventListener","dispatchEvent"],e.shimmedProperties=o.VideoElementRedirect.redirectAttributes,e.boolShimmedProperties=o.VideoElementRedirect.boolRedirectAttributes,e.shimmedStyleProperties=["opacity"],e.postFallbackQueueMethods=["addEventListener","removeEventListener"],e}();t.VideoElementShim=c,t.setupVideoElementShims=function(e,t,i,n,o,r,s){return a.MMR_LOG("Shimming video element: "+n.outerHTML),new c(e,t,i,n,o,r,s),n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VideoElementRedirect=void 0;var n,o=i(19),r=i(6),a=i(1),c=i(3),s=i(0);!function(e){e[e.Rendering=0]="Rendering",e[e.NotRendering=1]="NotRendering",e[e.Paused=2]="Paused"}(n||(n={}));var d=function(e,t,i,n,o){this.creationTime=e,this.corruptedVideoFrames=t,this.droppedVideoFrames=i,this.totalFrameDelay=n,this.totalVideoFrames=o},l=function(){function e(e,t,i,r,a){this.remoteObjectManager=e,this.originalElement=t,this.occlusionSupportVersion=i,this.videoStatusOverlayEnabled=r,this.videoOutlinesEnabled=a,this.localObjectId=0,this.creationTime=0,this.mutationObserver=null,this.intersectionObserver=null,this.tabVisible=!1,this.ignoreTimeUpdates=!1,this.elementRectUpdateInterval=null,this.disconnectedMessageElement=null,this.redirectedMessageElement=null,this.lastValidVideoRect=new DOMRect(0,0,0,0),this.parentElementClipRects=new Array,this.hasPositionedAncestor=!1,this.elementVisible=!0,this.switchToLocal=!1,this.isWebRTCMode=!1,this.checkLocalPlaySuppressed=!0,this.remoteObjectActive=!1,this.patternElement=null,this.patternDefElement=null,this.patternScaleFactor=0,this.previousTotalVideoFrames=-1,this.lastVideoTimestamp=0,this.redirectionPlaying=n.NotRendering,this.displayedRedirectionMessage=!1;var c=navigator.userAgent;this.remoteObjectManager.createObject(this,"VideoElement",{occlusionSupportVersion:i,userAgent:c}),this.creationTime=performance.now(),s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::VideoElementRedirect - overlay: "+this.videoStatusOverlayEnabled+", outlines: "+this.videoOutlinesEnabled),this.genericOcclusionSupported()&&(this.patternElement=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.patternElement.style.position="absolute",this.videoOutlinesEnabled&&(this.patternElement.style.border="10px solid red",this.patternElement.style.boxSizing="border-box"));var d=this,l=t;this.mutationObserver=new MutationObserver((function(e,t){for(var i=0,n=e;i<n.length;i++){var o=n[i];d.onContentAttributeUpdated(o.attributeName,l.hasAttribute(o.attributeName)?l.getAttribute(o.attributeName):void 0)}})),this.mutationObserver.observe(l,{attributes:!0});var u=this;this.callSendElementRect=function(e){u.sendElementRect(u)},this.intersectionObserver=new IntersectionObserver(this.callSendElementRect,{root:null,rootMargin:"0px",threshold:0}),this.intersectionObserver.observe(this.originalElement),this.tabVisible=!document.hidden,this.sendElementRect(this),this.scheduleElementRectUpdate(),this.genericOcclusionSupported()||(this.occlusionTracker=o.createOcclusionTrackerForSite(document.URL,this),this.occlusionTracker.startMonitoring()),document.addEventListener("scroll",this.callSendElementRect),window.addEventListener("resize",this.callSendElementRect)}return e.prototype.genericOcclusionSupported=function(){return 1==this.occlusionSupportVersion},e.prototype.onContentAttributeUpdated=function(e,t){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onContentAttributeUpdated - name: "+e+", value: "+t)},e.prototype.setIdlAttribute=function(t,i){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::setIdlAttribute[BEGIN] - name: "+t+", value: "+i);var n=i;if("src"==t&&(a.getShimObject(this.originalElement).currentTime=0,this.ignoreTimeUpdates=!0,s.MMR_LOG("VideoElementShim::ignoreTimeUpdates = true"),null!=i&&(n=new URL(n,document.URL).toString()),this.isWebRTCMode=!1),"currentTime"==t&&i<0&&(n="0.0"),"preload"==t&&"none"!=i&&this.onLoad(),e.boolRedirectAttributes.includes(t)&&(n=!1===i||void 0===i?"false":"true"),"srcObject"==t)return this.setNewMediaStream(i),void(this.isWebRTCMode=!0);var o=this;this.remoteObjectManager.invokeMethod(this.localObjectId,"setAttribute",{name:t,value:n},(function(e,n){s.MMR_LOG("VideoElementRedirect["+o.localObjectId+"]::setIdlAttribute[END] - result: 0x"+e.toString(16)),"src"==t&&(a.getShimObject(o.originalElement).currentSrc=i,o.ignoreTimeUpdates=!1,s.MMR_LOG("VideoElementRedirect["+o.localObjectId+"]::ignoreTimeUpdates = false"))}))},e.prototype.onOcclusionUpdate=function(){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onOcclusionUpdate"),this.tabVisible=!document.hidden,this.sendElementRect(this)},e.prototype.scheduleElementRectUpdate=function(){if(this.elementRectUpdateInterval)s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::scheduleElementRectUpdate - timer already scheduled");else{s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::scheduleElementRectUpdate - scheduling timer");var e=this;this.elementRectUpdateInterval=setInterval((function(){e.tabVisible=!document.hidden,e.updateParentBoundingRects(),e.sendElementRect(e)}),1e3)}},e.prototype.cancelElementRectUpdate=function(){this.elementRectUpdateInterval?(s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::cancelElementRectUpdate - clearing existing timer"),clearInterval(this.elementRectUpdateInterval),this.elementRectUpdateInterval=null):s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::cancelElementRectUpdate - timer already cleared")},e.prototype.setLocalObjectId=function(e){this.localObjectId=e},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.onRemoteObjectCreated=function(){this.remoteObjectActive=!0},e.prototype.invokeEvent=function(e){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::invokeEvent - type: "+e.type),"loadstart"==e.type&&(this.displayedRedirectionMessage=!1,this.resetRedirectedMessageElement()),a.getShimObject(this.originalElement).dispatchEvent(e)},e.prototype.invokeEventListener=function(e,t){},e.prototype.onAttributeUpdate=function(e,t){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onAttributeUpdate - name: "+e+", value: "+a.tryJsonStringify(t));var i=a.getShimObject(this.originalElement),n=t;if(this.ignoreTimeUpdates&&"currentTime"==e)s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onAttributeUpdate - ignoring currentTime update");else{if("duration"==e&&null==t&&(n=1/0),"buffered"!=e&&"seekable"!=e||(n=a.createTimeRanges(t)),"videoPlaybackQuality"==e){var o=t.framesCorrupted?t.framesCorrupted:0,r=t.framesDropped?t.framesDropped:0,c=t.totalFrameDelay?t.totalFrameDelay:0,l=t.framesRendered?t.framesRendered:0,u=performance.now()-this.creationTime;n=new d(u,o,r,c,l),this.updatePlaybackStatus(l,u,i)}i.setAttributeOnShim(e,n)}},e.prototype.onConnectionEvent=function(e){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onConnectionEvent - eventType: "+e),"clientConnected"==e?(this.occlusionTracker&&this.occlusionTracker.startMonitoring(),this.scheduleElementRectUpdate()):"clientDisconnected"==e?(this.occlusionTracker&&this.occlusionTracker.stopMonitoring(),this.remoteObjectActive=!1,this.cancelElementRectUpdate(),null==this.disconnectedMessageElement&&this.addDisconnectedMessageElement()):"switchToRemote"==e&&a.getShimObject(this.originalElement).switchToRemote()},e.prototype.updatePlaybackStatus=function(e,t,i){this.previousTotalVideoFrames==e?this.redirectionPlaying==n.Rendering&&t-this.lastVideoTimestamp>500&&(s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onAttributeUpdate - frames no longer rendering, "+i.paused),this.remoteObjectManager.invokeMethod(this.localObjectId,"showPause",{type:"video"},(function(e,t){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::showPause")})),this.redirectionPlaying=n.NotRendering):(this.redirectionPlaying==n.NotRendering&&(s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onAttributeUpdate - frames rendering"),this.remoteObjectManager.invokeMethod(this.localObjectId,"showPlay",{type:"video"},(function(e,t){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::showPlay")})),this.redirectionPlaying=n.Rendering,this.videoStatusOverlayEnabled&&this.addRedirectedMessageElement()),this.previousTotalVideoFrames=e,this.lastVideoTimestamp=t)},e.prototype.addDisconnectedMessageElement=function(){if(null==this.disconnectedMessageElement){this.updatePatternElement(new DOMRect),this.disconnectedMessageElement=document.createElement("div");var e=c.LocalizedStringHandler.getLocalizedStrings().disconnectedMessage;this.disconnectedMessageElement.innerHTML="<h1>"+e+"</h1>",this.updateDisconnectedMessageRect(),this.disconnectedMessageElement.style.backgroundColor="black",this.disconnectedMessageElement.style.opacity="0.9",this.disconnectedMessageElement.style.color="white",this.disconnectedMessageElement.style.position="absolute",this.disconnectedMessageElement.style.textAlign="center",document.body.appendChild(this.disconnectedMessageElement)}},e.prototype.resetRedirectedMessageElement=function(){if(null!=this.redirectedMessageElement){var t=document.getElementById(e.redirectionMessageElementId);null!=t&&t.remove()}else this.redirectedMessageElement=document.createElement("div"),this.redirectedMessageElement.setAttribute("id",e.redirectionMessageElementId)},e.prototype.addRedirectionFailedMessageElement=function(){if(this.videoStatusOverlayEnabled){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::addRedirectionFailedMessageElement"),this.displayedRedirectionMessage&&(this.displayedRedirectionMessage=!1),this.resetRedirectedMessageElement();var e=c.LocalizedStringHandler.getLocalizedStrings().redirectionFailedMessage;this.redirectedMessageElement.innerHTML=e,this.updateRedirectedMessageRect(),document.body.appendChild(this.redirectedMessageElement)}},e.prototype.addRedirectedMessageElement=function(){if(this.videoStatusOverlayEnabled&&!this.displayedRedirectionMessage){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::addRedirectedMessageElement"),this.resetRedirectedMessageElement();var t=c.LocalizedStringHandler.getLocalizedStrings().redirectedMessage;this.redirectedMessageElement.innerHTML=t,this.updateRedirectedMessageRect(),document.body.appendChild(this.redirectedMessageElement),this.displayedRedirectionMessage=!0,setTimeout((function(){document.getElementById(e.redirectionMessageElementId).remove()}),5e3)}},e.prototype.updateDisconnectedMessageRect=function(){if(null!=this.disconnectedMessageElement){var e=this.originalElement.getBoundingClientRect();0!=e.width&&0!=e.height||(e=this.lastValidVideoRect),0!=e.width&&0!=e.height||(e.width=.4*document.body.clientWidth,e.height=.2*document.body.clientHeight,e.x=.3*document.body.clientWidth,e.y=0),this.disconnectedMessageElement.style.left=e.x.toString()+"px",this.disconnectedMessageElement.style.top=e.y.toString()+"px",this.disconnectedMessageElement.style.width=e.width.toString()+"px",this.disconnectedMessageElement.style.height=(e.height/2).toString()+"px",this.disconnectedMessageElement.style.paddingTop=(e.height/2).toString()+"px"}},e.prototype.updateRedirectedMessageRect=function(){var e=this.originalElement.getBoundingClientRect();0!=e.width&&0!=e.height||(e=this.lastValidVideoRect),0!=e.width&&0!=e.height||(e.width=.4*document.body.clientWidth,e.height=.2*document.body.clientHeight,e.x=.3*document.body.clientWidth,e.y=0),this.redirectedMessageElement.style.left=e.x.toString()+"px",this.redirectedMessageElement.style.top=e.y.toString()+"px",this.redirectedMessageElement.style.width=e.width.toString()+"px",this.redirectedMessageElement.style.height=(e.height/18).toString()+"px",this.redirectedMessageElement.style.backgroundColor="black",this.redirectedMessageElement.style.opacity="1.0",this.redirectedMessageElement.style.color="white",this.redirectedMessageElement.style.fontFamily="Segoe UI, Tahoma, sans-serif",this.redirectedMessageElement.style.fontSize="1vw",this.redirectedMessageElement.style.fontWeight="bold",this.redirectedMessageElement.style.position="absolute",this.redirectedMessageElement.style.display="flex",this.redirectedMessageElement.style.justifyContent="center",this.redirectedMessageElement.style.alignItems="center"},e.prototype.updateParentBoundingRects=function(){var e=0,t=this.originalElement.parentElement,i=this.originalElement.getBoundingClientRect(),n=new Array;for(this.elementVisible=!0;null!=t&&e<5;){var o=window.getComputedStyle(t),r=o["overflow-x"]?o["overflow-x"]:o.overflow,a=o["overflow-y"]?o["overflow-y"]:o.overflow,c=t.getBoundingClientRect();if(null!=o.position&&""!=o.position&&"static"!=o.position&&(this.hasPositionedAncestor=!0),"HTML"==t.tagName)break;if(null!=o.opacity)break;if(r&&"visible"!=r){if(i.right<=c.left||i.left>=c.right){s.MMR_LOG("VideoElement["+this.localObjectId+"]::updateParentBoundingRects - Element is completely occluded. rect: "+JSON.stringify(i)+", parentRect: "+JSON.stringify(i)),this.elementVisible=!1;break}c.left-i.left>1&&(s.MMR_LOG("VideoElement["+this.localObjectId+"]::updateParentBoundingRects - rect.left="+i.left+" < parentRect.left="+c.left+" overflow="+r),n.push(new DOMRect(i.left,i.top,c.left-i.left,i.height))),i.right-c.right>1&&(s.MMR_LOG("VideoElement["+this.localObjectId+"]::updateParentBoundingRects - rect.right="+i.right+" > parentRect.right="+c.left+" overflow="+r),n.push(new DOMRect(c.right,i.top,i.right-c.right,i.height)))}if(a&&"visible"!=a){if(i.bottom<=c.top||i.top>=c.bottom){s.MMR_LOG("VideoElement["+this.localObjectId+"]::updateParentBoundingRects - Element is completely occluded. rect: "+JSON.stringify(i)+", parentRect: "+JSON.stringify(i)),this.elementVisible=!1;break}c.top-i.top>1&&(s.MMR_LOG("VideoElement["+this.localObjectId+"]::updateParentBoundingRects - rect.top="+i.top+" < parentRect.top="+c.top+" overflow="+a),n.push(new DOMRect(i.left,i.top,i.width,c.top-i.top))),i.bottom-c.bottom>1&&(s.MMR_LOG("VideoElement["+this.localObjectId+"]::updateParentBoundingRects - rect.bottom="+i.bottom+" > parentRect.bottom="+c.bottom+" overflow="+a),n.push(new DOMRect(i.left,c.bottom,i.width,i.bottom-c.bottom)))}t=t.parentElement,e++}this.parentElementClipRects=n},e.prototype.updatePatternElement=function(e){if(this.genericOcclusionSupported()){if(this.switchToLocal||!this.remoteObjectActive)return this.patternElement.style.visibility="hidden",void this.setOpacityOnOriginalElement("1");var t=Math.round(e.width),i=Math.round(e.height),n=t+t%2,o=i+i%2,r=new DOMRect(e.x,e.y,n,o),a=window.devicePixelRatio;if(!this.patternDefElement||r.width!=this.lastValidVideoRect.width||r.height!=this.lastValidVideoRect.height||a!=this.patternScaleFactor){var c=1/a;if(!this.patternDefElement||a!=this.patternScaleFactor){var s=null;if(this.patternDefElement)for((s=this.patternDefElement.parentElement).removeChild(this.patternDefElement),this.patternDefElement=null;this.patternElement.firstChild;)this.patternElement.removeChild(this.patternElement.firstChild);else s=document.createElementNS("http://www.w3.org/2000/svg","defs");this.patternDefElement=document.createElementNS("http://www.w3.org/2000/svg","pattern"),this.patternDefElement.setAttribute("id","Checkerboard"+this.localObjectId);for(var d=c.toString(),l=[{x:"0",y:"0",fill:"#ff00ff"},{x:d,y:"0",fill:"#00ff00"},{x:"0",y:d,fill:"#00ff00"},{x:d,y:d,fill:"#ff00ff"}],u=0;u<l.length;u++){var h=l[u],p=document.createElementNS("http://www.w3.org/2000/svg","rect");p.setAttribute("x",h.x),p.setAttribute("y",h.y),p.setAttribute("fill",h.fill),p.setAttribute("width",d),p.setAttribute("height",d),this.patternDefElement.appendChild(p)}s.appendChild(this.patternDefElement),this.patternElement.appendChild(s);var m=document.createElementNS("http://www.w3.org/2000/svg","rect");m.setAttribute("id","overallPatternRect"),m.setAttribute("fill","url(#Checkerboard"+this.localObjectId+")"),this.patternElement.appendChild(m)}var f=2*c/r.width,M=2*c/r.height;this.patternDefElement.setAttribute("width",f.toString()),this.patternDefElement.setAttribute("height",M.toString());var b=this.patternElement.getElementById("overallPatternRect");b.setAttribute("width",r.width.toString()),b.setAttribute("height",r.height.toString()),this.patternScaleFactor=a}var g=this.originalElement.parentElement,O=null!=g?g.getBoundingClientRect():new DOMRect(0,0,0,0);if(this.patternElement.style.width=r.width+"px",this.patternElement.style.height=r.height+"px",this.hasPositionedAncestor?(this.patternElement.style.top=r.top-O.top+"px",this.patternElement.style.bottom=r.bottom-O.top+"px",this.patternElement.style.left=r.left-O.left+"px",this.patternElement.style.right=r.right-O.right+"px"):(this.patternElement.style.top=r.top+"px",this.patternElement.style.bottom=r.bottom+"px",this.patternElement.style.left=r.left+"px",this.patternElement.style.right=r.right+"px"),this.patternElement.style.visibility="visible",this.patternElement.parentElement!=g){null!=this.patternElement.parentElement&&this.patternElement.parentElement.removeChild(this.patternElement);var v=this.originalElement.nextSibling;g.insertBefore(this.patternElement,v)}this.setOpacityOnOriginalElement("0")}},e.prototype.sendElementRect=function(e){var t=r.rootWindowInfoTracker.getRootWindowInfo(),i=t.rootOffset,n=e.originalElement.getBoundingClientRect();0!=n.width&&0!=n.height?(this.updatePatternElement(n),this.lastValidVideoRect=n):e.patternElement&&(e.patternElement.style.visibility="hidden"),this.updateDisconnectedMessageRect();var o=window.devicePixelRatio,a=new Object;a.left=Math.round((n.left+i.x)*o),a.right=Math.round((n.right+i.x)*o),a.top=Math.round((n.top+i.y)*o),a.bottom=Math.round((n.bottom+i.y)*o),e.tabVisible&&e.elementVisible&&!e.switchToLocal||(a.left=0,a.right=0,a.top=0,a.bottom=0);var c=t.title,d=window.devicePixelRatio;s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::setRect[BEGIN] - scaledRect: "+JSON.stringify(a)+", windowTitle: "+c+", displayScaleFactor: "+d+", elementVisible: "+e.elementVisible),e.remoteObjectManager.invokeMethod(e.localObjectId,"setRect",{rect:a,windowTitle:c,displayScaleFactor:d,checkForDuplicateTitles:!0},(function(e,t){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::setRect[END] - result: 0x"+e.toString(16)+", hasDuplicateWindows: "+t.hasDuplicateWindows),1==t.hasDuplicateWindows&&r.rootWindowInfoTracker.setTitleModificationEnabled(!0)}));var l=new Array;if(e.occlusionTracker){var u=new DOMRect(n.left+i.x,n.top+i.y,n.width,n.height);l=e.occlusionTracker.getClipRects(u)}if(window!=window.parent){if(n.left<0){var h=(0-n.left)*o,p=new DOMRect(a.left,a.top,h,a.bottom-a.top);l.push(p)}if(n.top<0){var m=(0-n.top)*o,f=new DOMRect(a.left,a.top,a.right-a.left,m);l.push(f)}}var M=[].concat(l,this.parentElementClipRects);s.MMR_LOG("VideoElementRedirect["+e.localObjectId+"]::setClipRects[BEGIN] - clipRects: "+JSON.stringify(M)),e.remoteObjectManager.invokeMethod(e.localObjectId,"setClipRects",{rects:M},(function(t,i){s.MMR_LOG("VideoElementRedirect["+e.localObjectId+"]::setClipRects[END] - result: 0x"+t.toString(16))}))},e.prototype.onLoad=function(){var e=a.getShimObject(this.originalElement);e.networkState!=e.NETWORK_EMPTY||null!=e.src&&""!=e.src||0!=e.sourceNodes.length||(s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::onLoad - no source so setting networkState to NETWORK_NO_SOURCE"),e.networkState=e.NETWORK_NO_SOURCE)},e.prototype.setNewMediaStream=function(e){var t,i,n,o;if(e!=this.mediaStream&&(this.mediaStream&&(this.mediaStream.removeEventListener("addtrack",this.addTrackRef),this.mediaStream.removeEventListener("removetrack",this.removeTrackRef)),this.mediaStream=e,this.mediaStream)){var r=this;this.mediaStream.addEventListener("addtrack",this.addTrackRef=function(e){r.mediaStreamTrackUpdate(e)}),this.mediaStream.addEventListener("removetrack",this.removeTrackRef=function(e){r.mediaStreamTrackUpdate(e)});var a=void 0;(null===(t=this.mediaStream)||void 0===t?void 0:t.getAudioTracks().length)>0&&(a=null===(i=this.mediaStream)||void 0===i?void 0:i.getAudioTracks()[0]),this.setAudioTrack(a);var c=void 0;(null===(n=this.mediaStream)||void 0===n?void 0:n.getVideoTracks().length)>0&&(c=null===(o=this.mediaStream)||void 0===o?void 0:o.getVideoTracks()[0]),this.setVideoTrack(c)}},e.prototype.setAudioTrack=function(e){if(e!=this.audioTrack){this.audioTrack=e;var t="",i=!1;if(this.audioTrack)t=this.audioTrack.id,i=a.getShimObject(this.audioTrack).isCaptureTrack;var n=this;s.MMR_LOG("VideoElementRedirect["+n.localObjectId+"]::setAudioTrack[BEGIN] - track: "+t),this.remoteObjectManager.invokeMethod(this.localObjectId,"setAudioTrack",{track:t,isCapture:i},(function(e,t){s.MMR_LOG("VideoElementRedirect["+n.localObjectId+"]::setAudioTrack[END] - result: 0x"+e.toString(16))}))}},e.prototype.setVideoTrack=function(e){if(e!=this.videoTrack){this.videoTrack=e;var t="",i=!1;if(this.videoTrack)t=this.videoTrack.id,i=a.getShimObject(this.videoTrack).isCaptureTrack;var n=this;s.MMR_LOG("VideoElementRedirect["+n.localObjectId+"]::setVideoTrack[BEGIN] - track: "+t+" isCapture: "+i),this.remoteObjectManager.invokeMethod(this.localObjectId,"setVideoTrack",{track:t,isCapture:i},(function(e,t){s.MMR_LOG("VideoElementRedirect["+n.localObjectId+"]::setVideoTrack[END] - result: 0x"+e.toString(16))}))}},e.prototype.mediaStreamTrackUpdate=function(e){var t,i,n,o,r=e.track.kind;if(s.MMR_LOG("VideoElementRedirect[]::mediaStreamTrackUpdate - kind: "+r),"audio"==r){var a=void 0;this.mediaStream&&(null===(t=this.mediaStream)||void 0===t?void 0:t.getAudioTracks().length)>0&&(a=null===(i=this.mediaStream)||void 0===i?void 0:i.getAudioTracks()[0]),this.setAudioTrack(a)}else if("video"==r){a=void 0;this.mediaStream&&(null===(n=this.mediaStream)||void 0===n?void 0:n.getVideoTracks().length)>0&&(a=null===(o=this.mediaStream)||void 0===o?void 0:o.getVideoTracks()[0]),this.setVideoTrack(a)}},e.prototype.cancelRemote=function(e){var t=this.localObjectId;s.MMR_LOG("VideoElementRedirect["+t+"]::cancelRemote[BEGIN]"),this.switchToLocal=!0,this.sendElementRect(this),this.remoteObjectManager.invokeMethod(t,"fallback",{message:e},(function(e,i){console.log("VideoElementRedirect["+t+"]::cancelRemote[END] - result: 0x"+e.toString(16))})),this.mutationObserver.disconnect(),this.intersectionObserver.disconnect(),this.occlusionTracker&&this.occlusionTracker.stopMonitoring(),document.removeEventListener("scroll",this.callSendElementRect),window.removeEventListener("resize",this.callSendElementRect),this.cancelElementRectUpdate()},e.prototype.setOpacityOnOriginalElement=function(e){var t=a.getShimObject(this.originalElement);if(null!=t&&null!=t.get_style_original){var i=t.get_style_original.apply(this.originalElement);console.log("VideoElementRedirect["+this.localObjectId+"]::setOpacityOnOriginalElement - "+e),i.opacity=e}},e.prototype.getVideoPlaybackQuality=function(){return new d(this.creationTime,0,0,0,0)},e.prototype.pause=function(){var e=this,t=this.localObjectId;s.MMR_LOG("VideoElementRedirect["+t+"]::pause[BEGIN]"),this.remoteObjectManager.invokeMethod(t,"pause",{type:"video"},(function(i,o){e.redirectionPlaying=n.Paused,s.MMR_LOG("VideoElementRedirect["+t+"]::pause[END] - result: 0x"+i.toString(16))}))},e.prototype.play=function(){var e=this;return s.MMR_LOG("VideoElementRedirect["+e.localObjectId+"]::play[BEGIN]"),new Promise((function(t,i){var o=function(o,r){(e.redirectionPlaying=n.NotRendering,s.MMR_LOG("VideoElementRedirect["+e.localObjectId+"]::play[END] - result: 0x"+o.toString(16)),o>=0)?(a.getShimObject(e.originalElement).paused=!1,e.videoStatusOverlayEnabled&&setTimeout((function(){e.redirectionPlaying==n.NotRendering&&e.addRedirectionFailedMessageElement()}),5e3),t()):i()};if(e.checkLocalPlaySuppressed){var r=document.createElement_original("video");r.src="invalid.mp4",r.play().then((function(){s.MMR_LOG("VideoElementRedirect["+e.localObjectId+"]::play - UNEXPECTED: local test play succeeded"),e.remoteObjectManager.invokeMethod(e.localObjectId,"play",{type:"video"},o),e.checkLocalPlaySuppressed=!1}),(function(t){"NotAllowedError"==t.name?(s.MMR_LOG("VideoElementRedirect["+e.localObjectId+"]::play - local VideoElement returned NotAllowedError, suppressing play"),i(t)):(s.MMR_LOG("VideoElementRedirect["+e.localObjectId+"]::play - sending play invoke event err="+t.name),e.remoteObjectManager.invokeMethod(e.localObjectId,"play",{type:"video"},o),e.checkLocalPlaySuppressed=!1)}))}else e.remoteObjectManager.invokeMethod(e.localObjectId,"play",{type:"video"},o)}))},e.prototype.load=function(){this.onLoad();var e=this.localObjectId,t=a.getShimObject(this.originalElement).src;s.MMR_LOG("VideoElementRedirect["+e+"]::load[BEGIN] - src:"+t),this.remoteObjectManager.invokeMethod(e,"load",{src:t},(function(t,i){s.MMR_LOG("VideoElementRedirect["+e+"]::load[END] - result: 0x"+t.toString(16))}))},e.prototype.setSinkId=function(e){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::setSinkId[BEGIN] - sinkId: "+e);var t=this;return new Promise((function(i,n){t.remoteObjectManager.invokeMethod(t.localObjectId,"setSinkId",{sinkId:e},(function(e,t){s.MMR_LOG("VideoElementRedirect["+this.localObjectId+"]::setSinkId[END] - result: 0x"+e.toString(16)),e>=0?i():n()}))}))},e.redirectionMessageElementId="redirectMessage",e.boolRedirectAttributes=["autoplay","defaultMuted","loop","muted"],e.redirectAttributes=["autoplay","audioTracks","buffered","currentTime","defaultMuted","defaultPlaybackRate","disablePictureInPicture","duration","ended","error","loop","muted","networkState","playbackRate","paused","playsinline","poster","preload","readyState","seekable","seeking","src","srcObject","textTracks","tracks","videoPlaybackQuality","videoTracks","videoWidth","videoHeight","volume"],e}();t.VideoElementRedirect=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HardcodedOcclusionTracker=t.createOcclusionTrackerForSite=t.hardcodedOcclusionDefinitions=void 0;var n=i(0),o=i(6);t.hardcodedOcclusionDefinitions={".*youtube.com.*":[{occlusionActiveElementSelector:".ytp-gradient-bottom",clippingElementSelector:".ytp-chrome-bottom"},{occlusionActiveElementSelector:".ytp-ad-skip-button-container",clippingElementSelector:".ytp-ad-skip-button-container"},{occlusionActiveElementSelector:".ytp-contextmenu",clippingElementSelector:".ytp-contextmenu"},{occlusionActiveElementSelector:".ytp-settings-menu",clippingElementSelector:".ytp-settings-menu"},{occlusionActiveElementSelector:".ytp-popup.ytp-big-mode",clippingElementSelector:".ytp-popup.ytp-big-mode"},{occlusionActiveElementSelector:".ytd-masthead",clippingElementSelector:".ytd-masthead"},{occlusionActiveElementSelector:".ytp-caption-window-bottom",clippingElementSelector:".ytp-caption-window-bottom"},{occlusionActiveElementSelector:".ytp-miniplayer-close-button",clippingElementSelector:".ytp-miniplayer-close-button"},{occlusionActiveElementSelector:".ytp-miniplayer-expand-watch-page-button",clippingElementSelector:".ytp-miniplayer-expand-watch-page-button"},{occlusionActiveElementSelector:"#contentContainer.tp-yt-app-drawer",clippingElementSelector:"#contentContainer.tp-yt-app-drawer"}]},t.createOcclusionTrackerForSite=function(e,i){for(var o=0,a=Object.entries(t.hardcodedOcclusionDefinitions);o<a.length;o++){var c=a[o],s=c[0],d=c[1],l=new RegExp(s);if(e.match(l))return n.MMR_LOG("createOcclusionTrackerForSite - url: "+e+" matched pattern: "+s+", applying hard-coded occlusion tracking"),new r(i,d)}return n.MMR_LOG("createOcclusionTrackerForSite - url: "+e+", not applicable for occlusions"),new r(i,[])};var r=function(){function e(e,t){this.occludingItemDefinitions=new Array,this.activeOcclusionTrackers=new Map,this.monitoringInterval=null,this.client=e,this.occludingItemDefinitions=t}return e.prototype.startMonitoring=function(){if(n.MMR_LOG("HardcodedOcclusionTracker::startMonitoring"),this.monitoringInterval)n.MMR_LOG("HardcodedOcclusionTracker::startMonitoring - monitoring already active");else if(this.occludingItemDefinitions.length>0){n.MMR_LOG("HardcodedOcclusionTracker::startMonitoring - starting monitoring");var e=this;this.monitoringInterval=setInterval((function(){e.tryActivatingNewOcclusionTrackers()}),1e3)}},e.prototype.stopMonitoring=function(){n.MMR_LOG("HardcodedOcclusionTracker::stopMonitoring"),this.monitoringInterval?(clearInterval(this.monitoringInterval),this.monitoringInterval=null):n.MMR_LOG("HardcodedOcclusionTracker::stopMonitoring - monitoring already stopped")},e.prototype.tryActivatingNewOcclusionTrackers=function(){var e=this,t=this;this.occludingItemDefinitions.forEach((function(i){document.querySelectorAll(i.occlusionActiveElementSelector).forEach((function(o){var r=o;t.activeOcclusionTrackers.has(r)||(n.MMR_LOG("HardcodedOcclusionTracker::tryActivatePendingOccludingTrackers - creating occlusion tracker for new element - selector: "+i.occlusionActiveElementSelector),t.activeOcclusionTrackers.set(r,new a(e,i,r)))}))}))},e.prototype.onOcclusionUpdate=function(){n.MMR_LOG("HardcodedOcclusionTracker::onOcclusionUpdate"),this.client.onOcclusionUpdate()},e.prototype.getClipRects=function(e){var t=o.rootWindowInfoTracker.getRootWindowInfo().rootOffset,i=new Array;return this.activeOcclusionTrackers.forEach((function(o){if(o.isVisible){var r=o.getClipRect();if(r.width>0&&r.height>0&&r.bottom>0&&r.right>0){var a=new DOMRect(r.left+t.x,r.top+t.y,r.width,r.height);s=e,d=(c=a).left>=s.left&&c.left<=s.right||c.right>=s.left&&c.right<=s.right||s.left>=c.left&&s.left<=c.right||s.right>=c.left&&s.right<=c.right,l=c.top>=s.top&&c.top<=s.bottom||c.bottom>=s.top&&c.bottom<=s.bottom||s.top>=c.top&&s.top<=c.bottom||s.bottom>=c.top&&s.bottom<=c.bottom,d&&l?(n.MMR_LOG("HardcodedOcclusionTracker::getClipRects("+o.definition.occlusionActiveElementSelector+") - adding clip rect: "+JSON.stringify(a)),i.push(new DOMRect(a.left,a.top,a.width,a.height))):n.MMR_LOG("HardcodedOcclusionTracker::getClipRects("+o.definition.occlusionActiveElementSelector+") - Rejecting non-intersecting clip rect:"+JSON.stringify(a)+" - video rect: "+JSON.stringify(e))}else n.MMR_LOG("HardcodedOcclusionTracker::getClipRects("+o.definition.occlusionActiveElementSelector+") - ignoring clip rect with 0 width/height/bottom/right: "+JSON.stringify(r))}var c,s,d,l})),i},e}();t.HardcodedOcclusionTracker=r;var a=function(){function e(e,t,i){this.target=i,this.client=e,this.definition=t,this.isVisible=!1;var o=this;this.intersectionObserver=new IntersectionObserver((function(e,t){e.forEach((function(e){n.MMR_LOG("OcclusionTracker("+o.definition.occlusionActiveElementSelector+"): isIntersecting: "+e.isIntersecting+", rect: "+JSON.stringify(e.boundingClientRect)),o.updateVisibilityState(e.isIntersecting)}))}),{root:null,rootMargin:"0px",threshold:0}),this.intersectionObserver.observe(this.target)}return e.prototype.getClipRect=function(){var e=this.target;return this.definition.occlusionActiveElementSelector!=this.definition.clippingElementSelector&&(e=document.querySelector(this.definition.clippingElementSelector)),null==e?(n.MMR_ERR("OcclusionTracker::getClipRect - missing clipping element for selector: "+this.definition.clippingElementSelector),new DOMRect(0,0,0,0)):e.getBoundingClientRect()},e.prototype.updateVisibilityState=function(e){this.isVisible=e,this.client.onOcclusionUpdate()},e}()},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupMediaSourceShims=t.MediaSourceShim=void 0;var n,o=i(21),r=i(1),a=i(4),c=i(10),s=i(1),d=i(0),l=null,u=null,h=MediaSource,p=URL.createObjectURL;!function(e){e[e.unknown=0]="unknown",e[e.support=1]="support",e[e.unsupport=2]="unsupport"}(n||(n={}));var m=function(){function e(){var t=this;this.duration=NaN,this.readyState="closed",this.isMSRDCObject=!0,this.originalMediaSource=null,this.mimeTypeMap=new Map,this.playbackPathMode=r.ShimCommon.initialPlaybackPathMode,d.MMR_LOG("MediaSourceShim::MediaSourceShim"),this.originalMediaSource=new h,this.blobURL=p(this.originalMediaSource),this.mediaSourceRedirect=new o.MediaSourceRedirect(l,this,this.blobURL),u.addFallbackMediaSource(this,this.blobURL),this.postSourceOpenFallbackQueue=new Array,this.sourceBufferShims=new Array;var i=this;e.shimmedProperties.forEach((function(e){i.mediaSourceRedirect[e]=i.originalMediaSource[e],Object.defineProperty(i,e,{get:function(){var t;return t=i.playbackPathMode==r.PlaybackPathMode.LOCAL?i.originalMediaSource[e]:i.mediaSourceRedirect[e],d.MMR_LOG("MediaSourceShim["+i.fallbackObjectId+"]::get - "+e+"="+t),t},set:function(t){d.MMR_LOG("MediaSourceShim["+i.fallbackObjectId+"]::set - "+e+"="+t);var n=function(){i.originalMediaSource[e]=t},o=function(){i.mediaSourceRedirect.setAttribute(e,t)};switch(i.playbackPathMode){case r.PlaybackPathMode.REMOTE:o();break;case r.PlaybackPathMode.UNKNOWN:i.postSourceOpenFallbackQueue.push(n),o();break;case r.PlaybackPathMode.LOCAL:n()}return!0}})})),e.eventHandlers.forEach((function(e){var i="_on"+e+"eventHandler";Object.defineProperty(t,"on"+e,{get:function(){return this[i]||null},set:function(t){this[i]&&(this.removeEventListener(e,this[i],null),delete this[i]),t&&(this[i]=t,this.addEventListener(e,this[i],null))}})}))}return e.prototype.localOrRemoteExecute=function(t,i){var n=this,o=void 0,c=function(){return n.originalMediaSource[t].apply(n.originalMediaSource,i)};switch(this.playbackPathMode){case r.PlaybackPathMode.REMOTE:o=this.mediaSourceRedirect[t].apply(this.mediaSourceRedirect,i);break;case r.PlaybackPathMode.UNKNOWN:o=this.mediaSourceRedirect[t].apply(this.mediaSourceRedirect,i),e.postFallbackQueueMethods.includes(t)?u.queueFallbackFunction(this.fallbackObjectId,c,a.QueueType.POSTFALLBACK):u.queueFallbackFunction(this.fallbackObjectId,c);break;case r.PlaybackPathMode.LOCAL:o=c()}return d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::localOrRemoteExecute - functionName="+t+" args="+i+" return="+o),o},e.prototype.localOrRemoteExecuteFunctions=function(e,t,i){switch(void 0===i&&(i=a.QueueType.FALLBACK),this.playbackPathMode){case r.PlaybackPathMode.REMOTE:return t();case r.PlaybackPathMode.UNKNOWN:return u.queueFallbackFunction(this.fallbackObjectId,e,i),t();case r.PlaybackPathMode.LOCAL:return e()}},e.prototype.setFallbackObjectId=function(e){this.fallbackObjectId=e},e.prototype.switchToLocal=function(){d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::switchToLocal - playbackPathMode="+this.playbackPathMode),d.MMR_ASSERT(this.playbackPathMode==r.PlaybackPathMode.UNKNOWN),this.playbackPathMode=r.PlaybackPathMode.LOCAL;var e=this,t=function(){d.MMR_LOG("MediaSourceShim["+e.fallbackObjectId+"]::switchToLocal - executing postSourceOpenFallbackQueue"),e.postSourceOpenFallbackQueue.forEach((function(e){e()})),e.postSourceOpenFallbackQueue=void 0};if("open"==this.originalMediaSource.readyState)t();else{var i=function(){t(),e.originalMediaSource.removeEventListener("sourceopen",i)};this.originalMediaSource.addEventListener("sourceopen",i)}},e.prototype.switchToRemote=function(){d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::switchToRemote"),d.MMR_ASSERT(this.playbackPathMode==r.PlaybackPathMode.UNKNOWN),this.postSourceOpenFallbackQueue=void 0,this.playbackPathMode=r.PlaybackPathMode.REMOTE,this.sourceBufferShims.forEach((function(e){e.switchToRemote()}))},e.prototype.addSourceBuffer=function(e){if(d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::addSourceBuffer: "+e),r.ShimCommon.initialPlaybackPathMode==r.PlaybackPathMode.LOCAL)return c.setupPassthroughSourceBufferShim(this.originalMediaSource.addSourceBuffer(e));if(this.playbackPathMode==r.PlaybackPathMode.LOCAL)return this.originalMediaSource.addSourceBuffer(e);var t=this.mediaSourceRedirect.addSourceBuffer(e);if(t.setFallbackPathMode(this.playbackPathMode),this.sourceBufferShims.push(t),this.playbackPathMode==r.PlaybackPathMode.UNKNOWN){var i=this.originalMediaSource;this.postSourceOpenFallbackQueue.push((function(){var n=i.addSourceBuffer(e);t.switchToLocal(n)}))}return t},e.prototype.clearLiveSeekableRange=function(){d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::clearLiveSeekableRange[BEGIN]"),this.localOrRemoteExecute("clearLiveSeekableRange",[])},e.prototype.endOfStream=function(e){d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::endOfStream[BEGIN] - endOfStreamError: "+e),this.localOrRemoteExecute("endOfStream",[e])},e.prototype.removeSourceBuffer=function(e){d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::removeSourceBuffer[BEGIN] - sourceBuffer: "+s.tryJsonStringify(e)),this.localOrRemoteExecute("removeSourceBuffer",[e])},e.prototype.setLiveSeekableRange=function(e,t){d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::setLiveSeekableRange[BEGIN] - start: "+e+", end: "+t),this.localOrRemoteExecute("setLiveSeekableRange",[e,t])},e.prototype.addEventListener=function(e,t,i){if(d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::addEventListener - type: "+e),r.ShimCommon.initialPlaybackPathMode==r.PlaybackPathMode.LOCAL){var n=this;this.originalMediaSource.addEventListener(e,(function(){d.MMR_LOG("MediaSourceShim["+n.fallbackObjectId+"]::addEventListener[LOCAL]::addEventListener - type: "+e+" fired!")}),i)}this.localOrRemoteExecute("addEventListener",[e,t,i])},e.prototype.removeEventListener=function(e,t,i){d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::removeEventListener - type: "+e),this.localOrRemoteExecute("removeEventListener",[e,t,i])},e.prototype.dispatchEvent=function(e){return d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::dispatchEvent - type: "+e.type),this.localOrRemoteExecute("dispatchEvent",[e])},Object.defineProperty(e.prototype,"sourceBuffers",{get:function(){return d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::get sourceBuffers"),this.playbackPathMode==r.PlaybackPathMode.LOCAL?this.originalMediaSource.sourceBuffers:this.applyShimToSourceBufferList(this.mediaSourceRedirect.sourceBuffers,this.originalMediaSource.sourceBuffers)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeSourceBuffers",{get:function(){return d.MMR_LOG("MediaSourceShim["+this.fallbackObjectId+"]::get activeSourceBuffers"),this.playbackPathMode==r.PlaybackPathMode.LOCAL?this.originalMediaSource.activeSourceBuffers:this.applyShimToSourceBufferList(this.mediaSourceRedirect.activeSourceBuffers,this.originalMediaSource.activeSourceBuffers)},enumerable:!1,configurable:!0}),e.prototype.applyShimToSourceBufferList=function(e,t){var i=this,n=e.addEventListener;e.addEventListener=function(o,r,c){d.MMR_LOG("SourceBufferListShim::addEventListener - type: "+o);return i.localOrRemoteExecuteFunctions((function(){return t.addEventListener(o,r,c)}),(function(){return n.apply(e,[o,r,c])}),a.QueueType.POSTFALLBACK)};var o=e.removeEventListener;return e.removeEventListener=function(n,r,c){d.MMR_LOG("SourceBufferListShim::removeEventListener - type: "+n);return i.localOrRemoteExecuteFunctions((function(){return t.removeEventListener(n,r,c)}),(function(){return o.apply(e,[n,r,c])}),a.QueueType.POSTFALLBACK)},e},e.prototype.checkIsTypeSupported=function(e){if(-1!=e.indexOf("av01")||-1!=e.indexOf("av99")||-1!=e.indexOf("hev1")||-1!=e.indexOf("hevc")||-1!=e.indexOf("opus"))return d.MMR_WARN("MediaSourceShim::isTypeSupported - reporting unsupported for mimeType: "+e),!1;var t=h.isTypeSupported(e);if(this.mimeTypeMap.has(e))this.mimeTypeMap.get(e)==n.support?t=!0:this.mimeTypeMap.get(e)==n.unsupport?t=!1:d.MMR_LOG("MediaSourceShim::checkIsTypeSupported mimeType: "+e+" waiting for result");else{this.mimeTypeMap.set(e,n.unknown);var i=this;this.mediaSourceRedirect.isTypeSupported(e).then((function(t){var o=n.unknown;o=t?n.support:n.unsupport,i.mimeTypeMap.set(e,o)}))}return t||d.MMR_WARN("MediaSourceShim::checkIsTypeSupported - reporting unsupported for mimeType: "+e),t},e.eventHandlers=["sourceopen","sourceclose","sourceended"],e.shimmedProperties=o.MediaSourceRedirect.redirectAttributes,e.postFallbackQueueMethods=["addEventListener","remoteEventListener"],e}();t.MediaSourceShim=m,t.setupMediaSourceShims=function(e,t){l=e,u=t;var i=new m;window.MediaSource=m,window.MediaSource.isTypeSupported=function(e){var t=i.checkIsTypeSupported(e);return d.MMR_LOG("setupMediaSourceShims::checkIsTypeSupported mimeType: "+e+" "+t),t}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaSourceRedirect=void 0;var n=i(10),o=i(1),r=i(0),a=function(){function e(e,t,i){this.remoteObjectManager=e,this.parentShim=t,this.blobURL=i,this.duration=NaN,this.readyState="closed",this.localObjectId=0,r.MMR_LOG("MediaSourceRedirect::MediaSourceRedirect"),this.pendingSourceBufferShims=new Array,this.sourceBufferShims=new Array,this.remoteObjectManager.createObject(this,"MediaSource",{blobURL:this.blobURL}),this.sourceBuffers=new o.SourceBufferListProxy(this),this.activeSourceBuffers=new o.SourceBufferListProxy(this)}return e.prototype.setBlobURL=function(e){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::setBlobURL[BEGIN] - blobURL: "+e),this.remoteObjectManager.invokeMethod(this.localObjectId,"setBlobURL",{blobURL:e},(function(e,t){r.MMR_LOG("MediaSourceRedirect::setBlobURL[END] - result: 0x"+e.toString(16))}))},e.prototype.setLocalObjectId=function(e){this.localObjectId=e,r.MMR_ASSERT(null!=this.pendingSourceBufferShims);var t=this;this.pendingSourceBufferShims.forEach((function(i,n,o){i.setMediaSourceOwner(e),t.sourceBufferShims.push(i)})),this.pendingSourceBufferShims=null},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.onRemoteObjectCreated=function(){this.sourceBufferShims.forEach((function(e,t,i){e.setMediaSourceOwner(this.localObjectId)}))},e.prototype.invokeEvent=function(e){},e.prototype.invokeEventListener=function(e,t){if(r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::invokeEventListener - type: "+e.type),null!=t.handleEvent)t.handleEvent();else{var i=this.parentShim;Object.defineProperty(e,"target",{value:i}),Object.defineProperty(e,"currentTarget",{value:i}),t.apply(i,[e])}},e.prototype.onAttributeUpdate=function(t,i){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::onAttributeUpdate - name: "+t+", value: "+o.tryJsonStringify(i)),"activeSourceBuffers"!=t?"sourceBuffers"!=t&&(e.redirectAttributes.includes(t)?this[t]="duration"==t&&null==i?1/0:i:this.parentShim[t]=i):this.onSourceBufferListUpdate(t,i)},e.prototype.onSourceBufferListUpdate=function(e,t){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::onSourceBufferListUpdate - sourceBufferRemoteObjectIdArray: "+t);var i=new Array,n=this;null!=t&&null!=t.forEach&&t.forEach((function(e,t,o){var a=e.id;r.MMR_LOG("MediaSourceRedirect::onSourceBufferListUpdate - sourceBufferRemoteObjectIdArray["+t+"]: "+e+" value[id]="+a);var c=n.sourceBuffers.sourceBuffers.find((function(e){return e.sourceBufferRedirect.localObjectId==a}));null!=c&&i.push(c)})),"activeSourceBuffers"==e&&this.activeSourceBuffers.setSourceBuffers(i)},e.prototype.onConnectionEvent=function(e){},e.prototype.isTypeSupported=function(e){var t=this;r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::isTypeSupported: "+e);var i=this;return new Promise((function(n,o){t.remoteObjectManager.invokeMethod(t.localObjectId,"isTypeSupported",{mimeType:e},(function(t,a){r.MMR_LOG("MediaSourceRedirect["+i.localObjectId+"]::isTypeSupported[END] - result: 0x"+t.toString(16)+" mimeType: "+e+a.supported),t>=0?n(a.supported):o(t)}))}))},e.prototype.addSourceBuffer=function(e){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::addSourceBuffer: "+e);var t=this.localObjectId,i=n.setupSourceBufferShim(this.remoteObjectManager,e,t);return null!=t?(this.sourceBufferShims.push(i),i.setMediaSourceOwner(t)):this.pendingSourceBufferShims.push(i),this.sourceBuffers.addSourceBuffer(i),i},e.prototype.clearLiveSeekableRange=function(){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::clearLiveSeekableRange[BEGIN]"),this.remoteObjectManager.invokeMethod(this.localObjectId,"clearLiveSeekableRange",{},(function(e,t){r.MMR_LOG("MediaSourceRedirect::clearLiveSeekableRange[END] - result: 0x"+e.toString(16))}))},e.prototype.endOfStream=function(e){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::endOfStream[BEGIN] - endOfStreamError: "+e),this.remoteObjectManager.invokeMethod(this.localObjectId,"endOfStream",{endOfStreamError:e},(function(e,t){r.MMR_LOG("MediaSourceRedirect::endOfStream[END] - result: 0x"+e.toString(16))}))},e.prototype.removeSourceBuffer=function(e){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::removeSourceBuffer[BEGIN] - sourceBuffer: "+o.tryJsonStringify(e));var t=e.getLocalObjectId();r.MMR_ASSERT(t);var i=this.remoteObjectManager.localToRemoteIdMap.get(t);r.MMR_ASSERT(i),this.remoteObjectManager.invokeMethod(this.localObjectId,"removeSourceBuffer",{sourceBufferLocalObjectId:i},(function(e,t){r.MMR_LOG("MediaSourceRedirect::removeSourceBuffer[END] - result: 0x"+e.toString(16))})),this.sourceBuffers.removeSourceBuffer(e)},e.prototype.setLiveSeekableRange=function(e,t){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::setLiveSeekableRange[BEGIN] - start: "+e+", end: "+t),this.remoteObjectManager.invokeMethod(this.localObjectId,"setLiveSeekableRange",{start:e,end:t},(function(e,t){r.MMR_LOG("MediaSourceRedirect::setLiveSeekableRange[END] - result: 0x"+e.toString(16))}))},e.prototype.setAttribute=function(e,t){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::setAttribute[BEGIN] - name: "+e+", value: "+t),this[e]=t,this.remoteObjectManager.invokeMethod(this.localObjectId,"setAttribute",{name:e,value:t},(function(e,t){r.MMR_LOG("MediaSourceRedirect::setAttribute[END] - result: 0x"+e.toString(16))}))},e.prototype.addEventListener=function(e,t,i){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::addEventListener - type: "+e),this.remoteObjectManager.addEventListener(this.localObjectId,e,t,i)},e.prototype.removeEventListener=function(e,t,i){r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::removeEventListener - type: "+e),this.remoteObjectManager.removeEventListener(this.localObjectId,e,t,i)},e.prototype.dispatchEvent=function(e){var t=null!=e.target?e.target.BufferListType:"";return r.MMR_LOG("MediaSourceRedirect["+this.localObjectId+"]::dispatchEvent - type: "+e.type+" bufferListType="+t),"sourceBuffers"==t?this.sourceBuffers.dispatchEvent(e):"activeSourceBuffers"==t?this.activeSourceBuffers.dispatchEvent(e):this.remoteObjectManager.dispatchEvent(this.localObjectId,e)},e.redirectAttributes=["duration","readyState"],e}();t.MediaSourceRedirect=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceBufferRedirect=void 0;var n=i(1),o=i(0),r=function(){function e(e,t,i,r){if(this.remoteObjectManager=e,this.parentShim=t,this.localObjectId=0,this.mediaSourceRemoteObjectId=-1,this.appendWindowEnd=Number.POSITIVE_INFINITY,this.appendWindowStart=0,this.buffered=n.createTimeRanges(new Array),this.timestampOffset=0,this.updating=!1,null!=r){var a=e.localToRemoteIdMap.get(r);o.MMR_ASSERT(null!=a),e.createObject(this,"SourceBuffer",{mimeType:i,mediaSourceRemoteObjectId:r,mediaSourceLocalObjectId:a})}else e.createObject(this,"SourceBuffer",{mimeType:i});o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::SourceBufferRedirect - mimeType: "+i)}return e.prototype.setLocalObjectId=function(e){this.localObjectId=e},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.onRemoteObjectCreated=function(){},e.prototype.invokeEvent=function(e){},e.prototype.invokeEventListener=function(e,t){if(o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::invokeEventListener - type: "+e.type),null!=t.handleEvent)t.handleEvent();else{var i=this.parentShim[n.shimProxyPropertyName];Object.defineProperty(e,"target",{value:i}),Object.defineProperty(e,"currentTarget",{value:i}),t.apply(i,[e])}},e.prototype.onAttributeUpdate=function(e,t){o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::onAttributeUpdate - name: "+e+", value: "+n.tryJsonStringify(t)),"buffered"!=e&&"seekable"!=e||(t=n.createTimeRanges(t)),this[e]=t},e.prototype.onConnectionEvent=function(e){},e.prototype.setAttribute=function(e,t){if(o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::setAttribute[BEGIN] - name: "+e+", value: "+t),this[e]=t,"updating"!=e){var i=this.localObjectId;this.remoteObjectManager.invokeMethod(this.localObjectId,"setAttribute",{name:e,value:t},(function(e,t){o.MMR_LOG("SourceBufferRedirect["+i+"]::setAttribute[END] - result: 0x"+e.toString(16))}))}},e.prototype.setMediaSourceOwner=function(e){var t=this.localObjectId,i=this.remoteObjectManager.localToRemoteIdMap.get(e);o.MMR_LOG("SourceBufferRedirect["+t+"]:setMediaSourceOwner[BEGIN] - this.mediaSourceRemoteObjectId="+this.mediaSourceRemoteObjectId+", new mediaSourceRemoteObjectId="+i),o.MMR_ASSERT(null!=i),this.mediaSourceRemoteObjectId!=i&&this.remoteObjectManager.invokeMethod(t,"setMediaSourceOwner",{mediaSourceLocalObjectId:i,mediaSourceRemoteObjectId:e},(function(e,i){o.MMR_LOG("SourceBufferRedirect["+t+"]::setMediaSourceOwner[END] - result: 0x"+e.toString(16))})),this.mediaSourceRemoteObjectId=i},e.prototype.abort=function(){var e=this.localObjectId;o.MMR_LOG("SourceBufferRedirect["+e+"]::abort"),this.updating=!1,this.remoteObjectManager.invokeMethod(e,"abort",{},(function(t,i){o.MMR_LOG("SourceBufferRedirect["+e+"]::abort[END] - result: 0x"+t.toString(16))}))},e.prototype.appendBuffer=function(e){var t=this.localObjectId;o.MMR_LOG("SourceBufferRedirect["+t+"]::appendBuffer[BEGIN]:"),this.updating=!0,this.remoteObjectManager.invokeMethod(t,"appendBuffer",{dataB64Size:e.byteLength,dataB64:function(e){for(var t="",i=new Uint8Array(e),n=i.byteLength,o=0;o<n;o++)t+=String.fromCharCode(i[o]);return window.btoa(t)}(e)},(function(e,i){o.MMR_LOG("SourceBufferRedirect["+t+"]::appendBuffer[END] - result: 0x"+e.toString(16))}))},e.prototype.remove=function(e,t){var i=this.localObjectId;o.MMR_LOG("SourceBufferRedirect["+i+"]::remove - start: "+e+", end: "+t),this.updating=!0,this.remoteObjectManager.invokeMethod(i,"remove",{start:e,end:t},(function(e,t){o.MMR_LOG("SourceBufferRedirect["+i+"]::remove[END] - result: 0x"+e.toString(16))}))},e.prototype.changeType=function(e){o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::changeType - type: "+e),console.warn("SourceBufferRedirect::changeType: Unimplemented MSRDC shim method")},e.prototype.addEventListener=function(e,t,i){o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::addEventListener - type: "+e),this.remoteObjectManager.addEventListener(this.localObjectId,e,t,i)},e.prototype.removeEventListener=function(e,t,i){o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::removeEventListener - type: "+e),this.remoteObjectManager.removeEventListener(this.localObjectId,e,t,i)},e.prototype.dispatchEvent=function(e){return o.MMR_LOG("SourceBufferRedirect["+this.localObjectId+"]::dispatchEvent - type: "+e.type),this.remoteObjectManager.dispatchEvent(this.localObjectId,e)},e.sourceBufferRedirectAttributes=["appendWindowEnd","appendWindowStart","buffered","timestampOffset","updating"],e}();t.SourceBufferRedirect=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeMessagingPageProxy=void 0;var n=i(2),o=i(1),r=i(0),a=function(){function e(e){this.contentPortId=e,this.client=null,this.mmrEngaged=!1;var t=this;this.nativePortId=e,document.addEventListener(n.ProxyCommon.PROXY_RECEIVE_MESSAGE_EVENT,(function(e){t.onReceivedMessage(t.client,e.detail)})),r.MMR_LOG("NativeMessagingPageProxy::constructor")}return e.prototype.setClient=function(e){this.client=e},e.prototype.sendMessage=function(e){r.MMR_LOG("NativeMessagingPageProxy: Sending message: "+o.tryJsonStringify(e)),document.dispatchEvent(new CustomEvent(n.ProxyCommon.PROXY_SEND_MESSAGE_EVENT,{detail:e}))},e.prototype.onReceivedMessage=function(e,t){r.MMR_LOG("NativeMessagingPageProxy: Received remote message: "+o.tryJsonStringify(t)),r.MMR_ASSERT(null!=e),e.onReceivedMessage(t)},e.prototype.sendMMREngagedMessage=function(){this.mmrEngaged||(document.dispatchEvent(new CustomEvent(n.ProxyCommon.PROXY_SEND_MMR_ENGAGED,{})),this.mmrEngaged=!0)},e.prototype.sendSameOriginParentId=function(e){if(e!=this.nativePortId){r.MMR_LOG("NativeMessagingPageProxy: send message for Same Origin Parent, parentNativePortId="+e),this.nativePortId=e;var t={parentNativePortId:e};document.dispatchEvent(new CustomEvent(n.ProxyCommon.PROXY_SEND_SAME_ORIGIN_PARENT_ID,{detail:t}));var i=new Object;i.messageType=n.ProxyCommon.CONTENT_BG_SAME_ORIGIN_PARENT_MESSAGE_TYPE,r.MMR_ASSERT(null!=this.client),null!=this.client&&this.client.onReceivedMessage(i)}},e}();t.NativeMessagingPageProxy=a},function(e,t,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<i;t++)for(var r=arguments[t],a=0,c=r.length;a<c;a++,o++)n[o]=r[a];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteObjectManager=t.RemoteMessageTypes=void 0;var o,r=i(0),a=i(1),c=i(2);!function(e){e.CREATE_OBJECT="createObject",e.CREATE_OBJECT_RESPONSE="createObject",e.INVOKE_METHOD="invokeMethod",e.INVOKE_METHOD_RESPONSE="invokeMethodResponse",e.ON_EVENT="onEvent",e.ON_ATTRIBUTE_UPDATE="onAttributeUpdate",e.ON_CONNECTION_EVENT="onConnectionEvent"}(o=t.RemoteMessageTypes||(t.RemoteMessageTypes={}));var s=function(e,t){this.callback=e,this.messageObject=t},d=function(){function e(e,t){this.proxy=e,this.nextLocalObjectId=0,this.nextMethodCallId=0,this.isConnected=!0,this.webRtcSupportVersion=0,this.proxy=e,this.proxy.setClient(this),this.localObjectMap=new Map,this.localToRemoteIdMap=new Map,this.remoteToLocalObjectMap=new Map,this.queuedMethodCalls=new Map,this.pendingMethodCalls=new Map,this.eventListeners=new Map,this.webRtcSupportVersion=t,this.messageHistoryQueue=new Array,this.resendMessageQueue=new Array;var i=this;setTimeout((function(){r.MMR_LOG("RemoteObjectManager:: historyMessages 2 sec timeout, contentPortID: "+i.proxy.contentPortId),delete i.messageHistoryQueue}),2e3)}return e.prototype.checkForResendMessages=function(){var e=new Array,t=!1,i=this;this.resendMessageQueue.forEach((function(n,c,s){var d=n.messageType;r.MMR_ASSERT(null!=d);var l=n.remoteObjectId;if(r.MMR_ASSERT(null!=l),d==o.CREATE_OBJECT){if("SourceBuffer"==n.objectType&&delete n.args.mediaSourceLocalObjectId,i.proxy.sendMessage(n),r.MMR_LOG("MsRdcMmr::RemoteObjectManager::checkForResendMessages resend: "+a.tryJsonStringify(n)),i.localToRemoteIdMap.has(l)){var u=i.localToRemoteIdMap.get(l);i.localToRemoteIdMap.delete(l),i.remoteToLocalObjectMap.has(u)&&i.remoteToLocalObjectMap.delete(u)}}else if(d!=o.INVOKE_METHOD||t)e.push(n),r.MMR_LOG("MsRdcMmr::RemoteObjectManager::checkForResendMessages save: "+a.tryJsonStringify(n));else if(i.localToRemoteIdMap.has(l)){var h=!0;if("setMediaSourceOwner"==n.methodName){var p=n.args;if(null!=p.mediaSourceLocalObjectId&&null!=p.mediaSourceRemoteObjectId){var m=p.mediaSourceRemoteObjectId;i.localToRemoteIdMap.has(m)?(p.mediaSourceLocalObjectId=i.localToRemoteIdMap.get(m),n.args=p):(h=!1,t=!0,e.push(n),r.MMR_LOG("MsRdcMmr::RemoteObjectManager::checkForResendMessages save: "+a.tryJsonStringify(n)))}else h=!1,r.MMR_LOG("MsRdcMmr::RemoteObjectManager::checkForResendMessages drop: "+a.tryJsonStringify(n))}h&&(r.MMR_LOG("MsRdcMmr::RemoteObjectManager::checkForResendMessages resend: "+a.tryJsonStringify(n)),i.proxy.sendMessage(n))}else t=!0,e.push(n),r.MMR_LOG("MsRdcMmr::RemoteObjectManager::checkForResendMessages save: "+a.tryJsonStringify(n))})),this.resendMessageQueue=n(e),0!=this.resendMessageQueue.length&&r.MMR_LOG("MsRdcMmr::RemoteObjectManager::checkForResendMessages messages left: "+this.resendMessageQueue.length+" contentPortID: "+this.proxy.contentPortId)},e.prototype.onConnectionEvent=function(e){r.MMR_LOG("RemoteObjectManager::onConnectionEvent - eventType: "+e),"clientConnected"==e?this.isConnected=!0:"clientDisconnected"==e&&(this.isConnected=!1)},e.prototype.createObject=function(e,t,i){var n=new Object;n.messageType=o.CREATE_OBJECT,n.objectType=t,n.remoteObjectId=this.nextLocalObjectId,n.contentPortId=this.proxy.contentPortId,i.webrtcSupportVersion=this.webRtcSupportVersion,n.args=i,this.localObjectMap.set(this.nextLocalObjectId,e),e.setLocalObjectId(this.nextLocalObjectId),this.nextLocalObjectId=this.nextLocalObjectId+1,this.proxy.sendMessage(n),null!=this.messageHistoryQueue&&this.messageHistoryQueue.push(n)},e.prototype.invokeMethod=function(e,t,i,n){if(!this.isConnected)return r.MMR_WARN("RemoteObjectManager::invokeMethod - dropping method call while disconnected"),void n(-9,{});var a=new Object;a.messageType=o.INVOKE_METHOD,a.methodName=t,a.remoteObjectId=e,a.methodCallId=this.nextMethodCallId,a.args=i,this.nextMethodCallId=this.nextMethodCallId+1,this.checkForResendMessages(),0==this.resendMessageQueue.length&&this.localToRemoteIdMap.has(e)?this.invokeMethodInternal(n,a):(r.MMR_LOG("MsRdcMmr::RemoteObjectManager: Queueing method call on local object: "+e+" contentPortID: "+this.proxy.contentPortId),this.queuedMethodCalls.has(e)||this.queuedMethodCalls.set(e,new Array),this.queuedMethodCalls.get(e).push(new s(n,a)))},e.prototype.invokeMethodInternal=function(e,t){if("setMediaSourceOwner"==t.methodName){var i=t.args;if(null!=i.mediaSourceLocalObjectId&&null!=i.mediaSourceRemoteObjectId){var n=i.mediaSourceRemoteObjectId;this.localToRemoteIdMap.has(n)?(i.mediaSourceLocalObjectId=this.localToRemoteIdMap.get(n),t.args=i):r.MMR_WARN("MsRdcMmr::RemoteObjectManager: Invoking method id: "+t.methodCallId+" contentPortID: "+this.proxy.contentPortId+" setMediaSourceOwner fails because mediaSource was not created")}else r.MMR_WARN("MsRdcMmr::RemoteObjectManager: Invoking method id: "+t.methodCallId+" contentPortID: "+this.proxy.contentPortId+" invalid setMediaSourceOwner message")}var o=t.methodCallId;r.MMR_ASSERT(null!=o),r.MMR_ASSERT(null!=t.remoteObjectId);var a=this.localToRemoteIdMap.get(t.remoteObjectId);r.MMR_ASSERT(null!=a),t.localObjectId=a,r.MMR_LOG("MsRdcMmr::RemoteObjectManager: Invoking method id: "+o+", localObjectId: "+a+" contentPortID: "+this.proxy.contentPortId),this.proxy.sendMessage(t),this.pendingMethodCalls.set(o,new s(e,t)),null!=this.messageHistoryQueue&&this.messageHistoryQueue.push(t)},e.prototype.onReceivedMessage=function(e){var t=e.messageType;if(r.MMR_ASSERT(null!=t),r.MMR_LOG("MsRdcMmr::RemoteObjectManager: Received message type: "+t),t==o.CREATE_OBJECT_RESPONSE){var i=e.remoteObjectId;r.MMR_ASSERT(null!=i);var a=e.localObjectId;r.MMR_ASSERT(null!=a);var s=this.localObjectMap.get(a);if(r.MMR_ASSERT(null!=s),this.localToRemoteIdMap.set(a,i),this.remoteToLocalObjectMap.set(i,s),r.MMR_LOG("MsRdcMmr::RemoteObjectManager: Object created (localObjectId: "+a+", remoteObjectId: "+i+")"),s.onRemoteObjectCreated(),this.proxy.sendMMREngagedMessage(),this.checkForResendMessages(),0==this.resendMessageQueue.length){var d=this;this.queuedMethodCalls.forEach((function(e,t){d.localToRemoteIdMap.has(t)&&(r.MMR_LOG("MsRdcMmr::RemoteObjectManager: Invoking queued method calls (count: "+e.length+")"),e.forEach((function(e,t,i){d.invokeMethodInternal(e.callback,e.messageObject)})),d.queuedMethodCalls.delete(t))}))}}else if(t==o.INVOKE_METHOD_RESPONSE){var l=e.methodCallId;r.MMR_ASSERT(null!=l);i=e.remoteObjectId;r.MMR_ASSERT(null!=i);s=this.remoteToLocalObjectMap.get(i);r.MMR_ASSERT(null!=s);var u=e.result;r.MMR_ASSERT(null!=u);var h=e.args;r.MMR_ASSERT(null!=h);var p=this.pendingMethodCalls.get(l);if(null==p)return void r.MMR_WARN("MsRdcMmr::RemoteObjectManager: (invokeMethodResponse) missing pendingMethodCall for methodCallId="+l+" remoteObjectId="+i);p.callback(u,h),this.pendingMethodCalls.delete(l)}else if(t==o.ON_EVENT){i=e.remoteObjectId;r.MMR_ASSERT(null!=i);s=this.remoteToLocalObjectMap.get(i);r.MMR_ASSERT(null!=s);var m=e.type;r.MMR_ASSERT(null!=m);var f=e.args;r.MMR_ASSERT(null!=f);var M=new CustomEvent(m,f);this.dispatchEvent(s.getLocalObjectId(),M)}else if(t==o.ON_ATTRIBUTE_UPDATE){i=e.remoteObjectId;r.MMR_ASSERT(null!=i);s=this.remoteToLocalObjectMap.get(i);r.MMR_ASSERT(null!=s);var b=e.name;r.MMR_ASSERT(null!=b);var g=e.value;r.MMR_ASSERT(null!=g||"duration"==b),s.onAttributeUpdate(b,g)}else if(t==o.ON_CONNECTION_EVENT){var O=e.event;if(r.MMR_ASSERT(null!=O),this.onConnectionEvent(O),null!=(i=e.remoteObjectId)){s=this.remoteToLocalObjectMap.get(i);r.MMR_ASSERT(null!=s),s.onConnectionEvent(O)}else this.localObjectMap.forEach((function(e,t,i){e.onConnectionEvent(O)}))}else t==c.ProxyCommon.CONTENT_BG_SAME_ORIGIN_PARENT_MESSAGE_TYPE&&(r.MMR_LOG("MsRdcMmr::RemoteObjectManager::onReceivedMessage - CONTENT_BG_SAME_ORIGIN_PARENT_MESSAGE_TYPE, resend messages: "+this.messageHistoryQueue.length+" contentPortID: "+this.proxy.contentPortId),this.resendMessageQueue.splice(0),this.resendMessageQueue=n(this.messageHistoryQueue),this.checkForResendMessages())},e.prototype.addEventListener=function(e,t,i,n,o){r.MMR_LOG("MsRdcMmr::RemoteObjectManager::addEventListener - type: "+t+", localObjectId: "+e),this.eventListeners.has(e)||this.eventListeners.set(e,new Map),this.eventListeners.get(e).has(t)||this.eventListeners.get(e).set(t,new Array),this.eventListeners.get(e).get(t).push(i)},e.prototype.removeEventListener=function(e,t,i,n){if(r.MMR_LOG("MsRdcMmr::RemoteObjectManager::removeEventListener"),this.eventListeners.has(e)){var o=this.eventListeners.get(e);if(o.has(t)){var a=o.get(t),c=a.indexOf(i);null!=c?(r.MMR_LOG("MsRdcMmr::RemoteObjectManager::removeEventListener - removing listener for localObjectId: "+e+", type: "+t),a.splice(c,1)):r.MMR_WARN("MsRdcMmr::RemoteObjectManager::removeEventListener - specified listener not found for localObjectId: "+e+", type: "+t)}else r.MMR_WARN("MsRdcMmr::RemoteObjectManager::removeEventListener - no event listeners registered for localObjectId: "+e+", type: "+t)}else r.MMR_WARN("MsRdcMmr::RemoteObjectManager::removeEventListener - localObjectId: "+e+" not registered")},e.prototype.dispatchEvent=function(e,t){if(r.MMR_LOG("MsRdcMmr::RemoteObjectManager::dispatchEvent - targetObjectId: "+e+", event.type: "+t.type),null==t.type)throw"UNSPECIFIED_EVENT_TYPE_ERR";var i=this.localObjectMap.get(e);if(i.invokeEvent(t),this.eventListeners.has(e)){var n=this.eventListeners.get(e);if(n.has(t.type)){var o=!1;return n.get(t.type).forEach((function(e,n,a){r.MMR_ASSERT(null!=i),o=!i.invokeEventListener(t,e)})),!(o=o&&t.cancelable)}r.MMR_LOG("MsRdcMmr::RemoteObjectManager::dispatchEvent - no listeners registered for type: "+t.type+", targetLocalObjectId: "+e)}else r.MMR_WARN("MsRdcMmr::RemoteObjectManager::dispatchEvent - no listeners registered for targetLocalObjectId: "+e)},e.prototype.cancelPendingCalls=function(e){this.pendingMethodCalls.forEach((function(t,i){t.messageObject.remoteObjectId==e&&(r.MMR_LOG("Aborting call: "+a.tryJsonStringify(t.messageObject)),t.callback(-9,{}),this.pendingMethodCalls.delete(i))}))},e}();t.RemoteObjectManager=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterPageLogger=void 0;var n=i(0),o=function(){function e(){this.cachedLogs=new Array,this.flushLogsInterval=null,this.scheduleLogFlushTimer()}return e.prototype.scheduleLogFlushTimer=function(){var t=this;t.flushLogsInterval?console.log("PageLogger::scheduleLogFlush - timer already scheduled"):(console.log("PageLogger::scheduleLogFlush - scheduling timer"),t.flushLogsInterval=setInterval((function(){t.flushLogs()}),e.LOG_FLUSH_INTERVAL_MS))},e.prototype.cancelLogFlushTimer=function(){this.flushLogsInterval?(console.log("PageLogger::scheduleLogFlush - clearing existing timer"),clearInterval(this.flushLogsInterval),this.flushLogsInterval=null):console.log("PageLogger::scheduleLogFlush - timer already cleared")},e.prototype.Log=function(e){console.log(e),this.addToLogCache(n.CachedLogEntryType.INFO,e)},e.prototype.Error=function(e){console.error(e),this.addToLogCache(n.CachedLogEntryType.ERROR,e)},e.prototype.Warn=function(e){console.warn(e),this.addToLogCache(n.CachedLogEntryType.WARNING,e)},e.prototype.Assert=function(e){if(!n.LoggingCommon.Assert(e)){var t=n.LoggingCommon.GetAssertLog();document.dispatchEvent(new CustomEvent(n.LoggingCommon.LOGGING_PAGE_TO_CONTENT_EVENT,{detail:t}))}},e.prototype.addToLogCache=function(t,i){this.cachedLogs.push(new n.CachedLogEntry(t,i)),this.cachedLogs.length>=e.MAX_CACHE_ENTRIES&&this.flushLogs()},e.prototype.flushLogs=function(){var e={};e.type=n.LoggingCommon.FLUSH_LOGS_MESSAGE_TYPE,e.entries=this.cachedLogs,document.dispatchEvent(new CustomEvent(n.LoggingCommon.LOGGING_PAGE_TO_CONTENT_EVENT,{detail:e})),this.cachedLogs=new Array},e.MAX_CACHE_ENTRIES=100,e.LOG_FLUSH_INTERVAL_MS=5e3,e}();t.RegisterPageLogger=function(){n.InitializeLogger(new o)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootWindowInfoTracker=void 0;var n=i(0);var o=function(){function e(e){this.nativeMessagingPageProxy=e,this.rootWindowOffset=new DOMRect(0,0,0,0),this.rootWindowTitle=void 0,this.titleModificationEnabled=!1,this.uniqueId=null,this.listenForSetInfo();var t=this;new MutationObserver((function(e,t){for(var i=0,n=e;i<n.length;i++){var o=n[i];if("childList"===o.type)for(var r=0,a=o.addedNodes;r<a.length;r++){var c=a[r];"iframe"==c.nodeName&&this.setParentInfoOnChild(c)}}})).observe(window.document,{childList:!0,subtree:!0}),setInterval((function(){t.setParentInfoOnChildren()}),1e3)}return e.prototype.getRootWindowTitle=function(){return null!=this.rootWindowTitle?(n.MMR_LOG("rootWindowInfoTracker title:"+this.rootWindowTitle),this.rootWindowTitle):(""==window.document.title&&(n.MMR_LOG("rootWindowInfoTracker no title, setTitleModificationEnabled"),this.setTitleModificationEnabled(!0)),!this.titleModificationEnabled&&window.document.title.includes("Microsoft Teams")&&(n.MMR_LOG("listenForSetInfo - setting titleModifcationEnabled to true for special case title="+window.document.title),this.setTitleModificationEnabled(!0)),n.MMR_LOG("rootWindowInfoTracker title:"+window.document.title),window.document.title)},e.prototype.getRootWindowInfo=function(){var e=new Object;return e.rootOffset=this.rootWindowOffset,e.title=this.getRootWindowTitle(),e},e.prototype.setParentInfoOnChildren=function(){for(var e=window.document.getElementsByTagName("iframe"),t=0;t<e.length;t++)this.setParentInfoOnChild(e[t])},e.prototype.setParentInfoOnChild=function(e){var t=new DOMRect(0,0,0,0);t.x=this.rootWindowOffset.x,t.y=this.rootWindowOffset.y;var i=e.getBoundingClientRect();t.x+=i.x,t.y+=i.y;var n=this.getRootWindowTitle(),o=this.nativeMessagingPageProxy.nativePortId,r=self.origin;e.contentWindow.postMessage({rootOffset:t,rootTitle:n,rootNativePortId:o,rootOrigin:r},"*")},e.prototype.listenForSetInfo=function(){var e=this;window.addEventListener("message",(function(t){null!=t.data&&null!=t.data.rootOffset&&null!=t.data.rootTitle?(e.rootWindowOffset=t.data.rootOffset,e.rootWindowTitle=t.data.rootTitle,n.MMR_ASSERT(null!=t.data.rootNativePortId),n.MMR_ASSERT(null!=t.data.rootOrigin),e.updateParentSameOrigin(t.data.rootNativePortId,t.data.rootOrigin)):null!=t.data&&null!=t.data.titleModificationEnabled&&(n.MMR_LOG("listenForSetInfo - updating titleModificationEnabled: "+t.data.titleModificationEnabled),e.setTitleModificationEnabled(t.data.titleModificationEnabled))}))},e.prototype.updateParentSameOrigin=function(e,t){console.log("updateParentSameOrigin - this.origin="+self.origin+" parentOrigin="+t+" currentPortId="+this.nativeMessagingPageProxy.nativePortId+" parentContentPortId="+e),self.origin==t&&this.nativeMessagingPageProxy.nativePortId!=e&&this.nativeMessagingPageProxy.sendSameOriginParentId(e)},e.prototype.setTitleModificationEnabled=function(e){this.titleModificationEnabled=e,window.parent!=window?this.setTitleModInfoOnParent():this.updateTitleModLocal()},e.prototype.updateTitleModLocal=function(){this.titleModificationEnabled&&null==this.uniqueId&&(this.uniqueId="xxxx-xxxx-xxx-xxxx".replace(/[x]/g,(function(e){return Math.floor(16*Math.random()).toString(16)})));var e=" ["+this.uniqueId+"]",t=-1!=window.document.title.indexOf(e);this.titleModificationEnabled&&!t?window.document.title+=e:!this.titleModificationEnabled&&t&&(window.document.title=window.document.title.replace(e,"")),n.MMR_LOG("updateTitleModLocal: titleModificationEnabled: "+this.titleModificationEnabled+" window.document.title: "+window.document.title)},e.prototype.setTitleModInfoOnParent=function(){n.MMR_LOG("setTitleModInfoOnParent: titleModificationEnabled: "+this.titleModificationEnabled),n.MMR_ASSERT(null!=window.parent),window.parent.postMessage({titleModificationEnabled:this.titleModificationEnabled},"*")},e}();t.RootWindowInfoTracker=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupMediaDevicesShims=t.MediaDevicesRedirect=void 0;var n=i(1),o=i(7),r=function(){function e(e){switch(this.deviceId=e.deviceId,this.groupId=e.groupId,this.label=e.label,e.kind){case 0:this.kind="audioinput";break;case 1:this.kind="audiooutput";break;case 2:this.kind="videoinput"}}return e.prototype.toJSON=function(){return this},e}(),a=function(){function e(e,t){this.remoteObjectManager=e,this.localObjectId=0,this.createdRemoteObject=!1,this.remoteObjectActive=!1,this._ondevicechange=null,this.disconnected=!1,console.log("MediaDevicesRedirect constructor"),this.originalMediaDevices=navigator.mediaDevices,this.occlusionSupportVersion=t}return e.prototype.ensureObjectCreated=function(){this.createdRemoteObject||(this.createdRemoteObject=!0,this.remoteObjectManager.createObject(this,"MediaDevices",{occlusionSupportVersion:this.occlusionSupportVersion}))},e.prototype.setLocalObjectId=function(e){this.localObjectId=e},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.onRemoteObjectCreated=function(){this.remoteObjectActive=!0},e.prototype.invokeEvent=function(e){},e.prototype.invokeEventListener=function(e,t){console.log("MediaDevicesRedirect::invokeEventListener - type: "+e.type),null!=t.handleEvent?t.handleEvent():(Object.defineProperty(e,"target",{value:this}),Object.defineProperty(e,"currentTarget",{value:this}),t(e))},e.prototype.onAttributeUpdate=function(e,t){console.log("MediaDevicesRedirect::onAttributeUpdate - name: "+e+", value: "+n.tryJsonStringify(t))},e.prototype.onConnectionEvent=function(e){"clientConnected"==e?(console.log("MediaDevicesRedirect::onConnectionEvent - clientConnected"),this.disconnected&&(this.disconnected=!1,this.SendConnectionStateChangedEvent("connected"),this.createdRemoteObject=!1)):"clientDisconnected"==e&&(this.disconnected=!0,this.remoteObjectManager.cancelPendingCalls(this.localObjectId),this.remoteObjectActive=!1,this.SendConnectionStateChangedEvent("disconnected"))},Object.defineProperty(e.prototype,"ondevicechange",{get:function(){return this._ondevicechange},set:function(e){this._ondevicechange&&(this.removeEventListener("devicechange",this._ondevicechange,null),delete this._ondevicechange),e&&this.addEventListener("devicechange",this._ondevicechange=e,null)},enumerable:!1,configurable:!0}),e.prototype.enumerateDevices=function(){var e=n.getShimObject(this)?n.getShimObject(this):this;return console.log("MediaDevicesRedirect::enumerateDevices[BEGIN] - Local object id: "+JSON.stringify(e.localObjectId)),new Promise((function(t,i){e.ensureObjectCreated(),e.remoteObjectManager.invokeMethod(e.localObjectId,"enumerateDevices",{},(function(e,o){if(console.log("MediaDevicesRedirect::enumerateDevices[END] - result: 0x"+e.toString(16)+" args: "+n.tryJsonStringify(o)),e>=0){var a=[];if(o)o.forEach((function(e){a.push(new r(e))}));t(a)}else i(n.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.getSupportedConstraints=function(){return{deviceId:!0}},e.prototype.getUserMedia=function(e){var t=n.getShimObject(this)?n.getShimObject(this):this;return console.log("MediaDevicesRedirect::getUserMedia[BEGIN] - constraints: "+JSON.stringify(e)+" - Local object id: "+JSON.stringify(t.localObjectId)),new Promise((function(i,r){t.ensureObjectCreated(),t.remoteObjectManager.invokeMethod(t.localObjectId,"getUserMedia",{constraints:e},(function(e,a){if(console.log("MediaDevicesRedirect::getUserMedia[END] - result: 0x"+e.toString(16)+" - args: "+JSON.stringify(a)),e>=0){var c=new MediaStream;if(null!=a.streamId){var s=o.createMediaStreamShim(c,a.streamId);a.tracks.forEach((function(e){o.createTrackRedirectOnMediaStream(t.remoteObjectManager,c,e.trackId,e.trackLabel,e.settings,e.kind)})),i(s)}else{s=o.createMediaStreamShim(c,a.streamIds[0]);o.createTrackRedirectOnMediaStream(t.remoteObjectManager,c,a.trackId,a.trackLabel,a.settings,a.kind),i(s)}}else r(n.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.addEventListener=function(e,t,i){console.log("MediaDevicesRedirect::addEventListener - type: "+e);var o=n.getShimObject(this)?n.getShimObject(this):this;o.ensureObjectCreated(),o.remoteObjectManager.addEventListener(o.localObjectId,e,t,i)},e.prototype.removeEventListener=function(e,t,i){console.log("MediaDevicesRedirect::removeEventListener - type: "+e);var o=n.getShimObject(this)?n.getShimObject(this):this;o.ensureObjectCreated(),o.remoteObjectManager.removeEventListener(o.localObjectId,e,t,i)},e.prototype.dispatchEvent=function(e){console.log("MediaDevicesRedirect::dispatchEvent - type: "+e.type);var t=n.getShimObject(this)?n.getShimObject(this):this;return t.ensureObjectCreated(),t.remoteObjectManager.dispatchEvent(t.localObjectId,e)},e.prototype.SendConnectionStateChangedEvent=function(e){console.log("MediaDevicesRedirect Sending connection state changed event - state: "+e);var t=new CustomEvent("rdpClientConnectionStateChanged",{detail:{state:e}});this.dispatchEvent(t)},e}();t.MediaDevicesRedirect=a,t.setupMediaDevicesShims=function(e,t,i){console.log("Shimming media devices");var o=new a(e,i);window.navigator.mediaDevices[n.shimPropertyName]=o,["enumerateDevices","getSupportedConstraints","getUserMedia","addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){window.navigator.mediaDevices[e]=o[e]})),window.navigator.mediaDevices.isRemote=!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shimAudioClass=t.setupAudioElementShims=t.AudioElementShim=void 0;var n=i(1),o=i(29),r=i(4),a=i(0),c=function(){function e(t){var i=new e.originalAudioClass;return d(e.remoteObjectManager,e.fallbackObjectManager,e.occlusionSupportVersion,i),null!=t&&(i.src=t),i}return e.originalAudioClass=Audio,e}(),s=function(){function e(t,i,r,c){this.remoteObjectManager=t,this.fallbackObjectManager=i,this.originalElement=c,this.duration=NaN,this.readyState=0,this.seeking=!1,this.nodeType=Node.ELEMENT_NODE,this.tagName="audio",this.originalSetters={},this.playbackPathMode=n.ShimCommon.initialPlaybackPathMode,a.MMR_LOG("AudioElementShim::AudioElementShim"),this.playbackPathMode!=n.PlaybackPathMode.LOCAL&&(this.audioElementRedirect=new o.AudioElementRedirect(t,c,r)),this.ownerDocument=window.document,this.fallbackObjectManager.addFallbackVideoElement(this),this.originalElement[n.shimPropertyName]=this,this.textTracks=new n.TextTrackListProxy,this.buffered=n.createTimeRanges(new Object),this.seekable=n.createTimeRanges(new Object);var s=this;e.shimmedMethods.forEach((function(e){s[e+"_original"]=c[e],c[e]=s[e]})),this.setIdlAttribute_original=function(e,t){return null!=s.originalSetters["set_"+e+"_original"]?s.originalSetters["set_"+e+"_original"].apply(c,[t]):(c[e+"_noshim_"]=t,!0)},e.shimmedProperties.forEach((function(t){var i=c[t],o=c.__lookupGetter__(t);null==o&&(o=function(){return c[t+"_noshim_"]}),s.originalSetters["set_"+t+"_original"]=c.__lookupSetter__(t);var r=e.boolShimmedProperties.includes(t)?function(e){s.setIdlAttribute(t,!!e)}:function(e){s.setIdlAttribute(t,e)};Object.defineProperty(c,t,{get:function(){return s.playbackPathMode==n.PlaybackPathMode.LOCAL?o.apply(c):(a.MMR_LOG("AudioElementShim["+s.fallbackObjectId+"]::get - "+t+"="+s[t]),s[t])},set:function(e){return a.MMR_LOG("AudioElementShim["+s.fallbackObjectId+"]::set - "+t+"="+e),r(e),!0}});var d=e.boolShimmedProperties.includes(t)?!!i:i;s[t]=d,"src"==t&&null!=d&&""!=d&&s.switchToLocal(),s.playbackPathMode!=n.PlaybackPathMode.LOCAL&&s.audioElementRedirect.setIdlAttribute.apply(s.audioElementRedirect,[t,d])})),e.eventHandlers.forEach((function(e){var t="_on"+e+"eventHandler";Object.defineProperty(c,"on"+e,{get:function(){return s[t]||null},set:function(i){return null!=s[t]&&(s.removeEventListener(e,s[t],null),delete s[t]),null!=i&&(s[t]=i,s.addEventListener(e,s[t],null)),!0}})}))}return e.prototype.setFallbackObjectId=function(e){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::fallbackObjectId"),this.fallbackObjectId=e},e.prototype.switchToLocal=function(){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::switchToLocal"),this.playbackPathMode==n.PlaybackPathMode.UNKNOWN&&(this.audioElementRedirect.cancelRemote(),this.playbackPathMode=n.PlaybackPathMode.LOCAL,this.fallbackObjectManager.switchToLocal(this.fallbackObjectId))},e.prototype.switchToRemote=function(){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::switchToRemote"),this.playbackPathMode==n.PlaybackPathMode.UNKNOWN&&(this.playbackPathMode=n.PlaybackPathMode.REMOTE,this.fallbackObjectManager.switchToRemote(this.fallbackObjectId))},e.prototype.appendChild=function(e){a.MMR_LOG("AudioElementShim::appendChild: "+e.nodeName);var t=n.getShimObject(this)?n.getShimObject(this):this;t.appendChild_original.apply(t.originalElement,[e]),"SOURCE"==e.nodeName&&t.switchToLocal()},e.prototype.localOrRemoteExecute=function(t,i){var o=this;a.MMR_ASSERT(e.shimmedMethods.includes(t)||"setIdlAttribute"==t);var c=void 0,s=function(){return o[t+"_original"].apply(o.originalElement,i)};switch(this.playbackPathMode){case n.PlaybackPathMode.REMOTE:c=this.audioElementRedirect[t].apply(this.audioElementRedirect,i);break;case n.PlaybackPathMode.UNKNOWN:c=this.audioElementRedirect[t].apply(this.audioElementRedirect,i),e.postFallbackQueueMethods.includes(t)?this.fallbackObjectManager.queueFallbackFunction(this.fallbackObjectId,s,r.QueueType.POSTFALLBACK):this.fallbackObjectManager.queueFallbackFunction(this.fallbackObjectId,s);break;case n.PlaybackPathMode.LOCAL:c=s()}return a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::localOrRemoteExecute - functionName="+t+" args="+i+" return="+c),c},e.prototype.localOrRemoteExecuteFunctions=function(e,t){switch(this.playbackPathMode){case n.PlaybackPathMode.REMOTE:return t();case n.PlaybackPathMode.UNKNOWN:return this.fallbackObjectManager.queueFallbackFunction(this.fallbackObjectId,e),t();case n.PlaybackPathMode.LOCAL:return e()}},e.prototype.setContentAttribute=function(e,t){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::setContentAttribute - name: "+e+", value: "+t),this.playbackPathMode==n.PlaybackPathMode.UNKNOWN&&"src"==e&&null!=t&&""!=t&&this.switchToLocal(),this.playbackPathMode!=n.PlaybackPathMode.LOCAL&&this.audioElementRedirect.onContentAttributeUpdated(e,t)},e.prototype.setIdlAttribute=function(e,t){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::setIdlAttribute - name: "+e+", value: "+t),this[e]=t,"srcObject"==e?null!=t&&(!0===t.isMSRDCObject?this.switchToRemote():(a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::setIdlAttribute - srcObject being set to non-WebRTC object"),this.switchToLocal())):"src"==e&&null!=t&&""!=t&&this.switchToLocal(),this.localOrRemoteExecute("setIdlAttribute",[e,t])},e.prototype.setAttribute=function(e,t){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::setAttribute - name: "+e+", value: "+t);var i=n.getShimObject(this)?n.getShimObject(this):this;i.setAttribute_original.apply(i.originalElement,[e,t]),i.setContentAttribute(e,t)},e.prototype.removeAttribute=function(e){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::removeAttribute - name: "+e);var t=n.getShimObject(this)?n.getShimObject(this):this;t.removeAttribute_original.apply(t.originalElement,[e]),t.setContentAttribute(e,void 0)},e.prototype.pause=function(){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::pause");var e=n.getShimObject(this)?n.getShimObject(this):this;e.playbackPathMode!=n.PlaybackPathMode.LOCAL&&(n.getShimObject(this).paused=!0),e.localOrRemoteExecute("pause",[])},e.prototype.play=function(){a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::play");var e=n.getShimObject(this)?n.getShimObject(this):this;return e.playbackPathMode!=n.PlaybackPathMode.LOCAL&&(n.getShimObject(this).paused=!1),new Promise((function(t,i){e.localOrRemoteExecuteFunctions((function(){e.play_original.apply(e.originalElement).then((function(e){t()})).catch((function(e){i(e)}))}),(function(){e.audioElementRedirect.play().then((function(e){t()})).catch((function(e){i(e)}))}))}))},e.prototype.setSinkId=function(e){var t=n.getShimObject(this)?n.getShimObject(this):this;return a.MMR_LOG("AudioElementShim["+this.fallbackObjectId+"]::setSinkId: elementId: "+t.originalElement.id),new Promise((function(i,n){t.localOrRemoteExecuteFunctions((function(){a.MMR_LOG("Accepting the requested device id when executing setSinkId on local element"),i()}),(function(){t.audioElementRedirect.setSinkId(e).then((function(e){i()})).catch((function(e){n(e)}))}))}))},e.prototype.addEventListener=function(t,i,o){a.MMR_LOG("AudioElementShim::addEventListener - type: "+t);var r=n.getShimObject(this)?n.getShimObject(this):this;if(!e.eventHandlers.includes(t))return r.addEventListener_original.apply(r.originalElement,[t,i,o]);r.localOrRemoteExecute("addEventListener",[t,i,o])},e.prototype.removeEventListener=function(t,i,o){a.MMR_LOG("AudioElementShim::removeEventListener - type: "+t);var r=n.getShimObject(this)?n.getShimObject(this):this,c=r.removeEventListener_original.apply(r.originalElement,[t,i,o]);return e.eventHandlers.includes(t)&&(c=r.localOrRemoteExecute("removeEventListener",[t,i,o])),c},e.prototype.dispatchEvent=function(e){return a.MMR_LOG("AudioElementShim::dispatchEvent - type: "+e.type),(n.getShimObject(this)?n.getShimObject(this):this).localOrRemoteExecute("dispatchEvent",[e])},e.eventHandlers=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],e.shimmedMethods=["appendChild","setAttribute","removeAttribute","play","pause","setSinkId","addEventListener","removeEventListener","dispatchEvent"],e.shimmedProperties=o.AudioElementRedirect.redirectAttributes,e.boolShimmedProperties=o.AudioElementRedirect.boolRedirectAttributes,e.postFallbackQueueMethods=["addEventListener","removeEventListener"],e}();function d(e,t,i,n){a.MMR_LOG("Shimming audio element: "+n.outerHTML);new s(e,t,i,n);return n}t.AudioElementShim=s,t.setupAudioElementShims=d,t.shimAudioClass=function(e,t,i){a.MMR_LOG("Shimming JavaScript Audio class"),c.remoteObjectManager=e,c.fallbackObjectManager=t,c.occlusionSupportVersion=i,window.Audio=c}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioElementRedirect=void 0;var n=i(1),o=i(0),r=function(){function e(e,t,i){this.remoteObjectManager=e,this.originalElement=t,this.occlusionSupportVersion=i,this.localObjectId=0,this.mutationObserver=null,this.switchToLocal=!1,this.remoteObjectActive=!1,this.remoteObjectManager.createObject(this,"AudioElement",{occlusionSupportVersion:i});var n=this,o=t;this.mutationObserver=new MutationObserver((function(e,t){for(var i=0,r=e;i<r.length;i++){var a=r[i];n.onContentAttributeUpdated(a.attributeName,o.hasAttribute(a.attributeName)?o.getAttribute(a.attributeName):void 0)}})),this.mutationObserver.observe(o,{attributes:!0})}return e.prototype.onContentAttributeUpdated=function(t,i){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::onContentAttributeUpdated - name: "+t+", value: "+i);var r=n.getShimObject(this.originalElement);if("muted"!=t&&r.playbackPathMode!=n.PlaybackPathMode.LOCAL&&e.redirectAttributes.includes(t))if(e.boolRedirectAttributes.includes(t)){var a=void 0!==i;r[t]!=a&&(r[t]=a,this.setIdlAttribute(t,a))}else r[t]!=i&&(r[t]=i,this.setIdlAttribute(t,i))},e.prototype.setIdlAttribute=function(t,i){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::setIdlAttribute[BEGIN] - name: "+t+", value: "+i);var r=i;if("srcObject"!=t){if(e.boolRedirectAttributes.includes(t)&&(r=!1===i||void 0===i?"false":"true"),e.redirectAttributes.includes(t)){var a=this;this.remoteObjectManager.invokeMethod(this.localObjectId,"setAttribute",{name:t,value:r},(function(e,r){(o.MMR_LOG("AudioElementRedirect["+a.localObjectId+"]::setIdlAttribute[END] - result: 0x"+e.toString(16)),0==e)&&("srcObject"==t&&null!=i?(a.dispatchEvent(new CustomEvent("loadeddata",{})),a.dispatchEvent(new CustomEvent("canplay",{})),a.dispatchEvent(new CustomEvent("canplaythrough",{})),1==n.getShimObject(a.originalElement).autoplay&&(a.dispatchEvent(new CustomEvent("play",{})),a.dispatchEvent(new CustomEvent("playing",{})))):"volume"!=t&&"muted"!=t||a.dispatchEvent(new CustomEvent("volumechange",{})))}))}}else this.setNewMediaStream(i)},e.prototype.setNewMediaStream=function(e){var t,i;if(e!=this.mediaStream){this.mediaStream&&(this.mediaStream.removeEventListener("addtrack",this.addTrackRef),this.mediaStream.removeEventListener("removetrack",this.removeTrackRef)),this.mediaStream=e;var n=void 0;if(this.mediaStream){var o=this;this.mediaStream.addEventListener("addtrack",this.addTrackRef=function(e){o.mediaStreamTrackUpdate(e)}),this.mediaStream.addEventListener("removetrack",this.removeTrackRef=function(e){o.mediaStreamTrackUpdate(e)}),(null===(t=this.mediaStream)||void 0===t?void 0:t.getAudioTracks().length)>0&&(n=null===(i=this.mediaStream)||void 0===i?void 0:i.getAudioTracks()[0])}this.setAudioTrack(n)}},e.prototype.mediaStreamTrackUpdate=function(e){var t,i,n=void 0;"audio"==e.track.kind&&(this.mediaStream&&(null===(t=this.mediaStream)||void 0===t?void 0:t.getAudioTracks().length)>0&&(n=null===(i=this.mediaStream)||void 0===i?void 0:i.getAudioTracks()[0]),this.setAudioTrack(n,e.type))},e.prototype.setAudioTrack=function(e,t){if(e!=this.audioTrack){this.audioTrack=e;var i=null;this.audioTrack&&(i=this.audioTrack.id);var r=this;o.MMR_LOG("AudioElementRedirect["+r.localObjectId+"]::setAudioTrack[BEGIN] - track: "+i),this.remoteObjectManager.invokeMethod(this.localObjectId,"setAttribute",{name:"srcObject",value:i},(function(e,i){(o.MMR_LOG("AudioElementRedirect["+r.localObjectId+"]::setAudioTrack[END] - result: 0x"+e.toString(16)),0==e&&"removetrack"!=t)&&(r.dispatchEvent(new CustomEvent("loadeddata",{})),r.dispatchEvent(new CustomEvent("canplay",{})),r.dispatchEvent(new CustomEvent("canplaythrough",{})),1==n.getShimObject(r.originalElement).autoplay&&(r.dispatchEvent(new CustomEvent("play",{})),r.dispatchEvent(new CustomEvent("playing",{}))))}))}},e.prototype.setLocalObjectId=function(e){this.localObjectId=e},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.cancelRemote=function(){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::cancelRemote[BEGIN]"),this.switchToLocal=!0,this.mutationObserver.disconnect()},e.prototype.onRemoteObjectCreated=function(){this.remoteObjectActive=!0},e.prototype.invokeEvent=function(e){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::invokeEvent - type: "+e.type),n.getShimObject(this.originalElement).dispatchEvent_original.apply(this.originalElement,[e])},e.prototype.invokeEventListener=function(e,t){if(o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::invokeEventListener - type: "+e.type),"error"!=e.type)if(null!=t.handleEvent)t.handleEvent();else{var i=this.originalElement;Object.defineProperty(e,"target",{value:i}),Object.defineProperty(e,"currentTarget",{value:i}),t.apply(i,[e])}else n.getShimObject(this.originalElement).switchToLocal("AudioElementRedirect received an error event.")},e.prototype.onAttributeUpdate=function(e,t){o.MMR_LOG("AudioElement["+this.localObjectId+"]::onAttributeUpdate - name: "+e+", value: "+n.tryJsonStringify(t));var i=n.getShimObject(this.originalElement);"buffered"!=e&&"seekable"!=e||(t=n.createTimeRanges(t)),i[e]=t},e.prototype.onConnectionEvent=function(e){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::onConnectionEvent - eventType: "+e),"clientDisconnected"==e?this.remoteObjectActive=!1:"switchToRemote"==e&&n.getShimObject(this.originalElement).switchToRemote()},e.prototype.pause=function(){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::pause[BEGIN]");var e=this;this.remoteObjectManager.invokeMethod(this.localObjectId,"pause",{type:"audio"},(function(t,i){o.MMR_LOG("AudioElementRedirect["+e.localObjectId+"]::pause[END] - result: 0x"+t.toString(16)),0==t&&e.dispatchEvent(new CustomEvent("pause",{}))}))},e.prototype.play=function(){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::play[BEGIN]");var e=this;return new Promise((function(t,i){e.remoteObjectManager.invokeMethod(e.localObjectId,"play",{type:"audio"},(function(r,a){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::play[END] - result: 0x"+r.toString(16)),r>=0?(n.getShimObject(e.originalElement).paused=!1,t(),0==r?(e.dispatchEvent(new CustomEvent("play",{})),e.dispatchEvent(new CustomEvent("playing",{}))):e.dispatchEvent(new CustomEvent("waiting",{}))):i()}))}))},e.prototype.setSinkId=function(e){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::setSinkId[BEGIN] - sinkId: "+e);var t=this;return new Promise((function(i,r){t.remoteObjectManager.invokeMethod(t.localObjectId,"setSinkId",{sinkId:e},(function(e,t){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::setSinkId[END] - result: 0x"+e.toString(16)),e>=0?i():r(n.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.load=function(){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::load[BEGIN] - src:")},e.prototype.addEventListener=function(e,t,i){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::addEventListener - type: "+e),this.remoteObjectManager.addEventListener(this.localObjectId,e,t,i)},e.prototype.removeEventListener=function(e,t,i){o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::removeEventListener - type: "+e),this.remoteObjectManager.removeEventListener(this.localObjectId,e,t,i)},e.prototype.dispatchEvent=function(e){return o.MMR_LOG("AudioElementRedirect["+this.localObjectId+"]::dispatchEvent - type: "+e.type),this.remoteObjectManager.dispatchEvent(this.localObjectId,e)},e.redirectAttributes=["autoplay","volume","src","srcObject","muted","paused"],e.boolRedirectAttributes=["autoplay","muted","paused"],e}();t.AudioElementRedirect=r},function(e,t,i){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.setupRTCPeerConnectionShims=t.RTCPeerConnectionRedirect=void 0;var a=i(1),c=i(7),s=i(11),d=i(0),l=i(31);function u(e){var t=new Map;return e.stats.forEach((function(e){var i={};Object.keys(e).forEach((function(t){if("stats_map"===t){var n=e[t];for(var o in n)Object.defineProperty(i,o,{value:n[o],writable:!1,enumerable:!0})}else Object.defineProperty(i,t,{value:e[t],writable:!1,enumerable:!0})})),t.set(e.id,i)})),t}var h=function(e,t){this.type=e,this.sdp=t},p=function(e){function t(t,i){var n=e.call(this)||this;return n.canInsertDTMF=!1,n.toneBuffer="",n.parentLocalObjectId=t,n.id=i,n.eventTarget=n,n.shimEventHandlers(n,["tonechange"]),n}return o(t,e),t.prototype.insertDTMF=function(e,t,i){if(new RegExp("[^a-dA-D0-9#*,]").test(e))throw new DOMException("Invalid DTMF tone character","InvalidCharacterError");this.toneBuffer=e,b.remoteObjectManager.invokeMethod(this.parentLocalObjectId,"insertDTMF",{trackId:this.id,tones:e,duration:null!=t?t:100,interToneGap:null!=i?i:70},(function(e,t){d.MMR_LOG("MmrRTCRtpSender::insertDTMF[END] - result: 0x"+e.toString(16)),e<0&&(this.toneBuffer="")}))},t.prototype.processToneChange=function(e){var t=e.tone;this.toneBuffer=e.toneBuffer,this.dispatchEvent(new RTCDTMFToneChangeEvent("tonechange",{tone:t}))},t}(c.MmrEventTarget),m=function(){function e(e,t,i){this.transport=null,this.rtcpTransport=null,this.parentLocalObjectId=e,this.track=t,this.id=i,this.dtmf=new p(e,i),this.parameters={encodings:[],transactionId:"",codecs:[],headerExtensions:[],rtcp:{}}}return e.prototype.getParameters=function(){return r({},this.parameters)},e.prototype.getStats=function(){d.MMR_LOG("MmrRTCRtpSender::getStats[BEGIN]");var e=this;return new Promise((function(t,i){b.remoteObjectManager.invokeMethod(e.parentLocalObjectId,"getStats",{trackId:e.track.id},(function(e,n){if(d.MMR_LOG("MmrRTCRtpSender::getStats[END] - result: 0x"+e.toString(16)),e>=0){var o=u(n);t(o)}else i(a.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.replaceTrack=function(e){var t=e?e.id:"";d.MMR_LOG("MmrRTCRtpSender::replaceTrack[BEGIN] - sender: "+this.id+" - track: "+t);var i=this;return new Promise((function(n,o){b.remoteObjectManager.invokeMethod(i.parentLocalObjectId,"replaceTrack",{senderId:i.id,trackId:t},(function(t,r){d.MMR_LOG("MmrRTCRtpSender::replaceTrack[END] - result: 0x"+t.toString(16)),t>=0?(i.track=e,n()):o(a.mmrWebRtcStatusToDOMError(t))}))}))},e.prototype.setParameters=function(e){d.MMR_LOG("MmrRTCRtpSender::setParameters[BEGIN]");var t=this;return new Promise((function(i,n){b.remoteObjectManager.invokeMethod(t.parentLocalObjectId,"setParameters",{trackId:t.track.id,parameters:e},(function(e,o){d.MMR_LOG("MmrRTCRtpSender::setParameters[END] - result: 0x"+e.toString(16)),e>=0?(t.initialize(o),i()):n(a.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.setStreams=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];d.MMR_LOG("MmrRTCRtpSender::setStreams[BEGIN]");var i=this;e.forEach((function(e){e.addTrack(i.track)}));var n=Array.from(e,(function(e){return e.id}));b.remoteObjectManager.invokeMethod(this.parentLocalObjectId,"setStreams",{trackId:this.track.id,streamIds:n},(function(e,t){d.MMR_LOG("MmrRTCRtpSender::setStreams[END] - result: 0x"+e.toString(16))}))},e.prototype.initialize=function(e){var t=e.encodings,i=e.codecs,n=e.headerExtensions,o=e.rtcp;this.parameters={encodings:t,transactionId:e.transactionId,codecs:i,headerExtensions:n,rtcp:o},this.dtmf.canInsertDTMF=e.canInsertDTMF},e.prototype.setId=function(e){this.id=e},e}(),f=function(){function e(e,t,i){this.csrcs=[],this.ssrcs=[],this.rtcpTransport=null,this.transport=null,this.parentLocalObjectId=e,this.track=t,i&&this.initialize(i)}return e.prototype.getContributingSources=function(){d.MMR_LOG("MmrRTCRtpReceiver::getContributingSources[BEGIN]");var e=this;return b.remoteObjectManager.invokeMethod(e.parentLocalObjectId,"getContributingSources",{trackId:e.track.id},(function(t,i){d.MMR_LOG("MmrRTCRtpReceiver::getContributingSources[END] - result: 0x"+t.toString(16)),t>=0&&(e.csrcs=i.csrcs)})),this.csrcs},e.prototype.getParameters=function(){return this.parameters},e.prototype.getStats=function(){d.MMR_LOG("MmrRTCRtpReceiver::getStats[START]");var e=this;return new Promise((function(t,i){b.remoteObjectManager.invokeMethod(e.parentLocalObjectId,"getStats",{trackId:e.track.id},(function(e,n){if(d.MMR_LOG("MmrRTCRtpReceiver::getStats[END] - result: 0x"+e.toString(16)),e>=0){var o=u(n);t(o)}else i(a.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.getSynchronizationSources=function(){console.log("MmrRTCRtpReceiver::getSynchronizationSources[BEGIN]");var e=this;return b.remoteObjectManager.invokeMethod(e.parentLocalObjectId,"getSynchronizationSources",{trackId:e.track.id},(function(t,i){d.MMR_LOG("MmrRTCRtpReceiver::getSynchronizationSources[END] - result: 0x"+t.toString(16)),t>=0&&(e.ssrcs=i.ssrcs)})),this.ssrcs},e.prototype.initialize=function(e){var t=e.codecs,i=e.headerExtensions,n=e.rtcp;this.parameters={encodings:null,codecs:t,headerExtensions:i,rtcp:n}},e}(),M=function(){function e(e,t,i,n){this.mid=e,this.parentPeerConnection=t,this.sender=i,this.receiver=n}return Object.defineProperty(e.prototype,"direction",{get:function(){return this.internalDirection},set:function(e){if(d.MMR_LOG("MmrRTCRtpTransceiver::setDirection[BEGIN] - "+e),this.parentPeerConnection.isClosed)throw new DOMException("The RTCPeerConnection is closed","InvalidStateError");this.internalDirection=e;b.remoteObjectManager.invokeMethod(this.parentPeerConnection.localObjectId,"setTransceiverDirection",{mid:this.mid,direction:e},(function(e,t){console.log("MmrRTCRtpTransceiver::setDirection[END] - result: 0x"+e.toString(16))}))},enumerable:!1,configurable:!0}),e.prototype.setCodecPreferences=function(e){d.MMR_LOG("MmrRTCRtpTransceiver::setCodecPreferences - not implemented")},e.prototype.stop=function(){d.MMR_LOG("MmrRTCRtpTransceiver::stop - not implemented")},e}(),b=function(){function e(t){var i=this;this.localObjectId=0,this.remoteObjectActive=!1,this.isClosed=!1,this.connectionState_shim="new",this.originalRTCPeerConnection=null,this.configuration=null,this.senderMap=new Map,this.receiverMap=new Map,this.transceivers=new Array,this.channelMap=new Map,this.streamMap=new Map,this.nextChannelId=0,this.canTrickleIceCandidates=null,this.currentLocalDescription=null,this.currentRemoteDescription=null,this.iceConnectionState="new",this.iceGatheringState="new",this.idpErrorInfo=null,this.idpLoginUrl=null,this.peerIdentity=new Promise((function(e,t){e(null)})),this.pendingLocalDescription=null,this.pendingRemoteDescription=null,this.signalingState="stable",d.MMR_LOG("RTCPeerConnectionRedirect constructor, configuration: "+a.tryJsonStringify(t)),this.originalRTCPeerConnection=new e.originalRTCPeerConnectionClass(t),null!=t?(this.configuration=t,null==this.configuration.sdpSemantics&&(this.configuration.sdpSemantics="unified-plan")):this.configuration={sdpSemantics:"unified-plan"},e.eventHandlers.forEach((function(e){var t="_on"+e+"eventHandler";Object.defineProperty(i,"on"+e,{get:function(){return this[t]||null},set:function(i){this[t]&&(this.removeEventListener(e,this[t],null),delete this[t]),i&&(this[t]=i,this.addEventListener(e,this[t],null))}})})),e.remoteObjectManager.createObject(this,"RTCPeerConnection",{configuration:t,occlusionSupportVersion:e.occlusionSupportVersion})}return e.prototype.setAttribute=function(e,t){d.MMR_LOG("RTCPeerConnectionRedirect setAttribute "+e+"="+t),"connectionState"==e?this.connectionState_shim=t:this[e]=t},e.prototype.processIceCandidateEvent=function(e){var t=e,i=null;return null!=t.detail.candidate?(d.MMR_LOG("Received new ICE candidate: "+a.tryJsonStringify(t.detail.candidate)),i=new RTCIceCandidate({candidate:t.detail.candidate,sdpMLineIndex:t.detail.sdp_mline_index,sdpMid:t.detail.sdp_mid})):d.MMR_LOG("Null ICE candidate"),new RTCPeerConnectionIceEvent("icecandidate",{candidate:i})},e.prototype.processIceCandidateErrorEvent=function(e){var t=e,i={address:null!=t.detail.address?t.detail.address:null,errorCode:t.detail.error_code,errorText:t.detail.error_text,port:null!=t.detail.port?t.detail.port:null,url:t.detail.url};return new RTCPeerConnectionIceErrorEvent("icecandidateerror",i)},e.prototype.processTrackEvent=function(t){var i=this,n=t;d.MMR_LOG("RTCPeerConnectionRedirect::processTrackEvent - track: "+n.detail.trackId),d.MMR_LOG("RTCPeerConnectionRedirect::processTrackEvent - event: "+a.tryJsonStringify(n.detail));var o=s.createTrackRedirect(e.remoteObjectManager,n.detail.trackId,n.detail.trackLabel,null!=n.detail.settings?n.detail.settings:null,n.detail.kind);d.MMR_LOG("RTCPeerConnectionRedirect::processTrackEvent - stream0: "+n.detail.streamIds[0]);var r=n.detail.streamIds,l=new Array;r.forEach((function(e){var t=i.streamMap.get(e);if(null!=t)d.MMR_LOG("RTCPeerConnectionRedirect::processTrackEvent - using existing stream: "+e);else{d.MMR_LOG("RTCPeerConnectionRedirect::processTrackEvent - creating new stream: "+e);var n=new MediaStream;t=c.createMediaStreamShim(n,e),i.streamMap.set(e,t)}t.addTrack(o),l.push(t)}));var u=new f(this.localObjectId,o,n.detail);this.receiverMap.set(o.id,u);var h=n.detail.localTrackId,p=new m(this.localObjectId,null,h);this.senderMap.set(h,p);var b=new M(n.detail.transceiverMid,this,p,u);this.transceivers.push(b);var g=new CustomEvent("track",{});return Object.defineProperty(g,"receiver",{value:u,writable:!1,enumerable:!0}),Object.defineProperty(g,"streams",{value:l,writable:!1,enumerable:!0}),Object.defineProperty(g,"track",{value:o,writable:!1,enumerable:!0}),Object.defineProperty(g,"transceiver",{value:b,writable:!1,enumerable:!0}),g},e.prototype.processDataChannelEvent=function(t){var i=t,n=new l.RTCDataChannelRedirect(e.remoteObjectManager,this.localObjectId,i.detail.id,i.detail.label,i.detail.parameters,i.detail.uuid);i.detail.id>=0?this.channelMap[i.detail.id]=n:d.MMR_LOG("processDataChannelEvent: channel id is not yet available");var o=new CustomEvent("datachannel",{});return Object.defineProperty(o,"channel",{value:n,writable:!1,enumerable:!0}),o},e.prototype.processLocalDescriptionUpdate=function(e){var t;t=null!=e.sdp&&null!=e.type?new RTCSessionDescription({type:e.type,sdp:e.sdp}):null,null!=this.pendingLocalDescription?this.setAttribute("pendingLocalDescription",t):this.setAttribute("currentLocalDescription",t)},e.prototype.processSendersUpdate=function(e){this.senderMap.forEach((function(t,i){null!=e[i]&&t.initialize(e[i])}))},e.prototype.processReceiversUpdate=function(e){this.receiverMap.forEach((function(t,i){null!=e[i]&&t.initialize(e[i])}))},e.prototype.processTransceiversUpdate=function(e){this.transceivers.forEach((function(t){null!=e[t.sender.id]&&(t.mid=e[t.sender.id])}))},e.prototype.processToneChange=function(e){var t=this.senderMap.get(e.trackId);null!=t&&t.dtmf.processToneChange(e)},e.prototype.setLocalObjectId=function(e){this.localObjectId=e},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.onRemoteObjectCreated=function(){this.remoteObjectActive=!0},e.prototype.invokeEvent=function(e){},e.prototype.invokeEventListener=function(e,t){console.log("RTCPeerConnectionRedirect::invokeEventListener - type: "+e.type),this.isClosed?console.log("RTCPeerConnectionRedirect::invokeEventListener: Ignoring event when closed."):("icecandidate"==e.type?e=this.processIceCandidateEvent(e):"icecandidateerror"==e.type?e=this.processIceCandidateErrorEvent(e):"track"==e.type?e=this.processTrackEvent(e):"datachannel"==e.type&&(e=this.processDataChannelEvent(e)),null!=t.handleEvent?t.handleEvent():(Object.defineProperty(e,"target",{value:this}),Object.defineProperty(e,"currentTarget",{value:this}),t(e)))},e.prototype.onAttributeUpdate=function(e,t){console.log("RTCPeerConnectionRedirect::onAttributeUpdate - name: "+e+", value: "+a.tryJsonStringify(t)),this.isClosed?console.log("RTCPeerConnectionRedirect::onAttributeUpdate: Ignoring attribute update when closed."):"localDescription"==e?this.processLocalDescriptionUpdate(t):"senders"==e?this.processSendersUpdate(t):"receivers"==e?this.processReceiversUpdate(t):"transceivers"==e?this.processTransceiversUpdate(t):"tonechange"==e?this.processToneChange(t):this.setAttribute(e,t)},e.prototype.onConnectionEvent=function(e){"clientConnected"==e?console.log("RTCPeerConnectionRedirect::onConnectionEvent - clientConnected"):"clientDisconnected"==e&&(this.remoteObjectActive=!1)},Object.defineProperty(e.prototype,"connectionState",{get:function(){return this.connectionState_shim},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localDescription",{get:function(){return null!=this.pendingLocalDescription?this.pendingLocalDescription:this.currentLocalDescription},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remoteDescription",{get:function(){return null!=this.pendingRemoteDescription?this.pendingRemoteDescription:this.currentRemoteDescription},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sctp",{get:function(){return d.MMR_LOG("RTCPeerConnectionRedirect: sctp: Not yet implemented"),null},enumerable:!1,configurable:!0}),e.prototype.addIceCandidate=function(t){console.log("RTCPeerConnectionRedirect::addIceCandidate[BEGIN] - candidate: "+t.candidate);var i=this;return new Promise((function(n,o){e.remoteObjectManager.invokeMethod(i.localObjectId,"addIceCandidate",{candidate:t.candidate,sdpMLineIndex:t.sdpMLineIndex,sdpMid:t.sdpMid},(function(e,t){if(console.log("RTCPeerConnectionRedirect::addIceCandidate[END] - result: 0x"+e.toString(16)),e>=0){if(null!=t.sdp){var r=new h(t.type,t.sdp);null!=i.pendingRemoteDescription?i.setAttribute("pendingRemoteDescription",r):i.setAttribute("currentRemoteDescription",r)}n()}else o(a.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.addTrack=function(t){for(var i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];if(console.log("RTCPeerConnectionRedirect::AddTrack[BEGIN] - track: "+t.id),null==t[a.shimPropertyName])throw new DOMException("The track is not a MSRDC track","NotSupportedError");if(this.isClosed)throw new DOMException("The RTCPeerConnection is closed","InvalidStateError");if(this.senderMap.has(t.id))throw new DOMException("The specified track is already part of the RTCPeerConnection","InvalidAccessError");i.forEach((function(e){e.addTrack(t)}));var o=new m(this.localObjectId,t,t.id);this.senderMap.set(t.id,o);var r=Array.from(i,(function(e){return e.id}));return e.remoteObjectManager.invokeMethod(this.localObjectId,"addTrack",{trackId:t.id,streamIds:r},(function(e,t){console.log("RTCPeerConnectionRedirect::AddTrack[END] - result: 0x"+e.toString(16)),e>=0&&o.initialize(t)})),o},e.prototype.addTransceiver=function(t,i){var n={};"string"==typeof t?n.kind=t:n.trackId=t.id,i&&(i.direction&&(n.direction=i.direction),i.streams&&(n.streamIds=Array.from(i.streams,(function(e){return e.id}))),i.sendEncodings&&(n.encodings=i.sendEncodings)),console.log("RTCPeerConnectionRedirect::addTransceiver[BEGIN] - Params: "+JSON.stringify(n));var o=new f(this.localObjectId,null,null),r=new m(this.localObjectId,null,""),a=new M("",this,r,o);a.internalDirection=n.direction?n.direction:"sendrecv",this.transceivers.push(a);var c=this;return e.remoteObjectManager.invokeMethod(this.localObjectId,"addTransceiver",n,(function(t,i){if(console.log("RTCPeerConnectionRedirect::addTransceiver[END] - result: 0x"+t.toString(16)),t>=0){a.internalDirection=i.direction,c.receiverMap.set(i.receiverId,o),r.setId(i.senderId),c.senderMap.set(i.senderId,r);var n=s.createTrackRedirect(e.remoteObjectManager,i.trackId,i.trackLabel,null!=i.settings?i.settings:null,i.kind);o.track=n}})),a},e.prototype.close=function(){if(d.MMR_LOG("RTCPeerConnectionRedirect::close[BEGIN]"),this.isClosed)d.MMR_LOG("RTCPeerConnectionRedirect::close[END] - was already closed.");else{var t=this;t.setAttribute("connectionState","closed"),t.setAttribute("iceConnectionState","closed"),t.setAttribute("iceGatheringState","closed"),t.setAttribute("signalingState","closed"),e.remoteObjectManager.invokeMethod(t.localObjectId,"close",{},(function(e,i){d.MMR_LOG("RTCPeerConnectionRedirect::close[END] - result: 0x"+e.toString(16)),t.isClosed=!0}))}},e.prototype.createAnswer=function(t){var i=this;return console.log("RTCPeerConnectionRedirect::createAnswer[BEGIN] - options: "+JSON.stringify(t)),new Promise((function(n,o){e.remoteObjectManager.invokeMethod(i.localObjectId,"createAnswer",{options:t},(function(e,t){console.log("RTCPeerConnectionRedirect::createAnswer[END] - result: 0x"+e.toString(16));var i=new h(t.type,t.sdp);e>=0?n(i):o(a.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.createDataChannel=function(t,i){if(d.MMR_LOG("RTCPeerConnectionRedirect: createDataChannel[BEGIN] - label: "+t+" params: "+JSON.stringify(i)),this.isClosed)throw new DOMException("The RTCPeerConnection is closed","InvalidStateError");if(t.length>65535)throw new TypeError("Label length is too long");if(null!=i){if(null!=i.protocol&&i.protocol.length>65535)throw new TypeError("Protocol length is too long");if(null!=i.maxPacketLifeTime&&null!=i.maxRetransmits)throw new TypeError("maxPacketLifeTime and maxRetransmits must not both be specified");if(null!=i.id){if(i.id<0||i.id>=65535)throw new TypeError("Invalid channel id value");if(this.channelMap.has(i.id))throw new DOMException("The data channel id is already in use","ResourceInUse")}}var n;if(null!=i&&null!=i.id)n=i.id;else{for(var o=0;o<65535;){if(this.nextChannelId=(this.nextChannelId+1)%65535,!this.channelMap.has(this.nextChannelId)){n=this.nextChannelId;break}++o}if(o>=65535)throw new DOMException("Too many data channels are already in use","OperationError")}var r=new l.RTCDataChannelRedirect(e.remoteObjectManager,this.localObjectId,n,t,i);return this.channelMap[n]=r,e.remoteObjectManager.invokeMethod(this.localObjectId,"createDataChannel",{label:t,id:n,uuid:r.uuid,parameters:i},(function(e,t){d.MMR_LOG("RTCPeerConnectionRedirect::createDataChannel[END] - result: 0x"+e.toString(16))})),r},e.prototype.createOffer=function(t){var i=this;return console.log("RTCPeerConnectionRedirect::createOffer[BEGIN] - options: "+JSON.stringify(t)),new Promise((function(n,o){e.remoteObjectManager.invokeMethod(i.localObjectId,"createOffer",{options:t},(function(e,t){console.log("RTCPeerConnectionRedirect::createOffer[END] - result: 0x"+e.toString(16));var i=new h("offer",t.sdp);e>=0?n(i):o(a.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.getIdentityAssertion=function(){return new Promise((function(e,t){t(new DOMException("The operation is not supported","NotSupportedError"))}))},e.prototype.getReceivers=function(){return Array.from(this.receiverMap.values())},e.prototype.getSenders=function(){return Array.from(this.senderMap.values())},e.prototype.getStats=function(t){console.log("RTCPeerConnectionRedirect::getStats[START] selector: "+(null==t?void 0:t.id));var i=this;return new Promise((function(n,o){e.remoteObjectManager.invokeMethod(i.localObjectId,"getStats",{trackId:null==(null==t?void 0:t.id)?"":null==t?void 0:t.id},(function(e,t){if(console.log("RTCPeerConnectionRedirect::getStats[END] - result: 0x"+e.toString(16)),e>=0){var i=u(t);n(i)}else o(a.mmrWebRtcStatusToDOMError(e))}))}))},e.prototype.getTransceivers=function(){return this.transceivers},e.prototype.removeTrack=function(e){this.senderMap.delete(e.track.id)},e.prototype.setConfiguration=function(t){console.log("RTCPeerConnectionRedirect::setConfiguration[BEGIN] - configuration: "+JSON.stringify(t));var i=null!=this.configuration&&null!=this.configuration.bundlePolicy?this.configuration.bundlePolicy:"balanced",n=null!=t&&null!=t.bundlePolicy?t.bundlePolicy:"balanced",o=null!=this.configuration&&null!=this.configuration.rtcpMuxPolicy?this.configuration.rtcpMuxPolicy:"require",r=null!=t&&null!=t.rtcpMuxPolicy?t.rtcpMuxPolicy:"require";if(n!=i||r!=o)throw new DOMException("The object cannot be modified in this way","InvalidModificationError");this.configuration=t,e.remoteObjectManager.invokeMethod(this.localObjectId,"setConfiguration",{configuration:t},(function(e,t){console.log("RTCPeerConnectionRedirect::setConfiguration[END] - result: 0x"+e.toString(16))}))},e.prototype.setIdentityProvider=function(e,t){},e.prototype.setLocalDescription=function(t){console.log("RTCPeerConnectionRedirect::setLocalDescription[BEGIN] - description: "+JSON.stringify(t));var i=this;return i.setAttribute("pendingLocalDescription",t),new Promise((function(n,o){var r=JSON.parse(JSON.stringify(t));e.remoteObjectManager.invokeMethod(i.localObjectId,"setLocalDescription",{description:r},(function(e,t){console.log("RTCPeerConnectionRedirect::setLocalDescription[END] - result: 0x"+e.toString(16)),e>=0?(i.setAttribute("currentLocalDescription",i.pendingLocalDescription),i.setAttribute("pendingLocalDescription",null),n()):(i.setAttribute("pendingLocalDescription",null),o(a.mmrWebRtcStatusToDOMError(e)))}))}))},e.prototype.setRemoteDescription=function(t){console.log("RTCPeerConnectionRedirect::setRemoteDescription[BEGIN] - description: "+JSON.stringify(t));var i=this;return this.setAttribute("pendingRemoteDescription",t),this.setAttribute("canTrickleIceCandidates",!0),new Promise((function(n,o){var r=JSON.parse(JSON.stringify(t));e.remoteObjectManager.invokeMethod(i.localObjectId,"setRemoteDescription",{description:r},(function(e,t){console.log("RTCPeerConnectionRedirect::setRemoteDescription[END] - result: 0x"+e.toString(16)),e>=0?(i.setAttribute("currentRemoteDescription",i.pendingRemoteDescription),i.setAttribute("pendingRemoteDescription",null),n()):(i.setAttribute("pendingRemoteDescription",null),o(a.mmrWebRtcStatusToDOMError(e)))}))}))},e.prototype.addEventListener=function(t,i,n){console.log("RTCPeerConnectionRedirect::addEventListener - type: "+t),e.remoteObjectManager.addEventListener(this.localObjectId,t,i,n)},e.prototype.removeEventListener=function(t,i,n){console.log("RTCPeerConnectionRedirect::removeEventListener - type: "+t),e.remoteObjectManager.removeEventListener(this.localObjectId,t,i,n)},e.prototype.dispatchEvent=function(t){return console.log("RTCPeerConnectionRedirect::dispatchEvent - type: "+t.type),e.remoteObjectManager.dispatchEvent(this.localObjectId,t)},e.eventHandlers=["connectionstatechange","datachannel","icecandidate","icecandidateerror","iceconnectionstatechange","icegatheringstatechange","negotiationneeded","signalingstatechange","statsended","track"],e.remoteObjectManager=null,e.occlusionSupportVersion=0,e.originalRTCPeerConnectionClass=RTCPeerConnection,e}();t.RTCPeerConnectionRedirect=b,t.setupRTCPeerConnectionShims=function(e,t,i){console.log("Shimming RTCPeerConnection"),b.remoteObjectManager=e,b.occlusionSupportVersion=i,RTCPeerConnection=b}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RTCDataChannelRedirect=void 0;var n=i(1),o=i(0),r=function(){function e(t,i,n,o,r,a){var c=this;this.remoteObjectManager=t,this.localObjectId=0,this.remoteObjectActive=!1,this.isClosed=!1,this._bufferedAmount=0,this._bufferedAmountLowThreshold=0,this.binaryType="blob",this.id=null,this.maxPacketLifeTime=null,this.maxRetransmits=null,this.negotiated=!1,this.ordered=!0,this.priority="medium",this.protocol="",this.readyState="connecting",this.parentLocalObjectId=i,this.label=o,this.id=n,this.uuid=null!=a?a:crypto.randomUUID(),null!=r&&(this.maxPacketLifeTime=r.maxPacketLifeTime,this.maxRetransmits=r.maxRetransmits,this.negotiated=r.negotiated,this.ordered=r.ordered,this.priority=r.priority,this.protocol=r.protocol),e.eventHandlers.forEach((function(e){var t="_on"+e+"eventHandler";Object.defineProperty(c,"on"+e,{get:function(){return this[t]||null},set:function(i){this[t]&&(this.removeEventListener(e,this[t],null),delete this[t]),i&&(this[t]=i,this.addEventListener(e,this[t],null))}})})),this.remoteObjectManager.createObject(this,"RTCDataChannel",{uuid:this.uuid})}return Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){return this.remoteObjectManager.invokeMethod(this.localObjectId,"bufferedAmount",{value:this._bufferedAmount},(function(e,t){})),this._bufferedAmount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmountLowThreshold",{get:function(){return this._bufferedAmountLowThreshold},set:function(e){o.MMR_LOG("RTCDataChannelRedirect::bufferedAmountLowThreshold="+e),this._bufferedAmountLowThreshold=e,this.remoteObjectManager.invokeMethod(this.localObjectId,"bufferedAmountLowThreshold",{value:e},(function(e,t){}))},enumerable:!1,configurable:!0}),e.prototype.close=function(){o.MMR_LOG("RTCDataChannelRedirect::close"),this.remoteObjectManager.invokeMethod(this.localObjectId,"close",{},(function(e,t){}))},e.prototype.send=function(e){function t(e){for(var t="",i=new Uint8Array(e),n=i.byteLength,o=0;o<n;o++)t+=String.fromCharCode(i[o]);return window.btoa(t)}if(o.MMR_LOG("RTCDataChannelRedirect::send"),null!=e.byteLength){var i=e;this.remoteObjectManager.invokeMethod(this.localObjectId,"send",{message:t(i),isBinary:!0},(function(e,t){}))}else if(null!=e.buffer){var n=e;this.remoteObjectManager.invokeMethod(this.localObjectId,"send",{message:t(n.buffer),isBinary:!0},(function(e,t){}))}else if(null!=e.type){var r=this;e.arrayBuffer().then((function(e){r.remoteObjectManager.invokeMethod(r.localObjectId,"send",{message:t(e),isBinary:!0},(function(e,t){}))})).catch((function(e){o.MMR_LOG("RTCDataChannelRedirect::send - error converting Blob to ArrayBuffer: "+e.toString())}))}else this.remoteObjectManager.invokeMethod(this.localObjectId,"send",{message:e,isBinary:!1},(function(e,t){}))},e.prototype.addEventListener=function(e,t,i){o.MMR_LOG("RTCDataChannelRedirect::addEventListener - type: "+e),this.remoteObjectManager.addEventListener(this.localObjectId,e,t,i)},e.prototype.removeEventListener=function(e,t,i){o.MMR_LOG("RTCDataChannelRedirect::removeEventListener - type: "+e),this.remoteObjectManager.removeEventListener(this.localObjectId,e,t,i)},e.prototype.dispatchEvent=function(e){return o.MMR_LOG("RTCDataChannelRedirect::dispatchEvent - type: "+e.type),this.remoteObjectManager.dispatchEvent(this.localObjectId,e)},e.prototype.setLocalObjectId=function(e){this.localObjectId=e},e.prototype.getLocalObjectId=function(){return this.localObjectId},e.prototype.onRemoteObjectCreated=function(){this.remoteObjectActive=!0},e.prototype.invokeEvent=function(e){},e.prototype.invokeEventListener=function(e,t){o.MMR_LOG("RTCDataChannelRedirect::invokeEventListener - type: "+e.type),this.isClosed&&"close"!=e.type?o.MMR_LOG("RTCDataChannelRedirect::invokeEventListener: Ignoring event when closed."):("message"==e.type?e=this.processMessageEvent(e):"error"==e.type&&(e=this.processErrorEvent(e)),null!=t.handleEvent?t.handleEvent():(Object.defineProperty(e,"target",{value:this}),Object.defineProperty(e,"currentTarget",{value:this}),t(e)))},e.prototype.onAttributeUpdate=function(e,t){o.MMR_LOG("RTCDataChannelRedirect::onAttributeUpdate - name: "+e+", value: "+n.tryJsonStringify(t)),this.isClosed?o.MMR_LOG("RTCDataChannelRedirect::onAttributeUpdate: Ignoring attribute update when closed."):this.setAttribute(e,t)},e.prototype.onConnectionEvent=function(e){"clientConnected"==e?o.MMR_LOG("RTCDataChannelRedirect::onConnectionEvent - clientConnected"):"clientDisconnected"==e&&(this.remoteObjectActive=!1)},e.prototype.setAttribute=function(e,t){"bufferedAmount"==e?this._bufferedAmount=t:"bufferedAmountLowThreshold"==e?this._bufferedAmountLowThreshold=t:this[e]=t,"readyState"==e&&"closed"==this.readyState&&(this.isClosed=!0)},e.prototype.processMessageEvent=function(e){var t,i=e;if(i.detail.isBinary){var n=Uint8Array.from(atob(i.detail.message),(function(e){return e.charCodeAt(0)}));t="blob"==this.binaryType?new MessageEvent("message",{data:new Blob([n.buffer])}):new MessageEvent("message",{data:n.buffer})}else{var o=i.detail.message;t=new MessageEvent("message",{data:o})}return t},e.prototype.processErrorEvent=function(e){var t=e,i=new RTCError({errorDetail:t.detail.errorDetail,receivedAlert:t.detail.receivedAlert,sctpCauseCode:t.detail.sctpCauseCode,sdpLineNumber:t.detail.sdpLineNumber,sentAlert:t.detail.sentAlert},t.detail.message);return new RTCErrorEvent("error",{error:i})},e.eventHandlers=["bufferedamountlow","close","closing","error","message","open"],e}();t.RTCDataChannelRedirect=r}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbG9nZ2luZ0NvbW1vbi50cyIsIndlYnBhY2s6Ly8vLi9lbGVtZW50U2hpbUNvbW1vbi50cyIsIndlYnBhY2s6Ly8vLi9uYXRpdmVNZXNzYWdpbmdQcm94eUNvbW1vbi50cyIsIndlYnBhY2s6Ly8vLi9sb2NhbGl6ZWRTdHJpbmdIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL2ZhbGxiYWNrT2JqZWN0TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9tbXJJbmplY3Rpb25QYXJhbWV0ZXJzLnRzIiwid2VicGFjazovLy8uL21tcl9tYWluLnRzIiwid2VicGFjazovLy8uL21lZGlhU3RyZWFtX3NoaW0udHMiLCJ3ZWJwYWNrOi8vLy4vc291cmNlQnVmZmVyX3NoaW0udHMiLCJ3ZWJwYWNrOi8vLy4vbWVkaWFTdHJlYW1UcmFja19yZWRpcmVjdC50cyIsIndlYnBhY2s6Ly8vLi9hdWRpb0NvbnRleHRfcmVkaXJlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vdmlkZW9FbGVtZW50X3NoaW0udHMiLCJ3ZWJwYWNrOi8vLy4vdmlkZW9FbGVtZW50X3JlZGlyZWN0LnRzIiwid2VicGFjazovLy8uL2hhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbWVkaWFTb3VyY2Vfc2hpbS50cyIsIndlYnBhY2s6Ly8vLi9tZWRpYVNvdXJjZV9yZWRpcmVjdC50cyIsIndlYnBhY2s6Ly8vLi9zb3VyY2VCdWZmZXJfcmVkaXJlY3QudHMiLCJ3ZWJwYWNrOi8vLy4vbmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5LnRzIiwid2VicGFjazovLy8uL3JlbW90ZU9iamVjdE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vcGFnZUxvZ2dlci50cyIsIndlYnBhY2s6Ly8vLi9yb290V2luZG93SW5mb1RyYWNrZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbWVkaWFEZXZpY2VzX3JlZGlyZWN0LnRzIiwid2VicGFjazovLy8uL2F1ZGlvRWxlbWVudF9zaGltLnRzIiwid2VicGFjazovLy8uL2F1ZGlvRWxlbWVudF9yZWRpcmVjdC50cyIsIndlYnBhY2s6Ly8vLi9ydGNQZWVyQ29ubmVjdGlvbl9yZWRpcmVjdC50cyIsIndlYnBhY2s6Ly8vLi9ydGNEYXRhQ2hhbm5lbF9yZWRpcmVjdC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkxvZ2dpbmdDb21tb24iLCJDYWNoZWRMb2dFbnRyeSIsIkNhY2hlZExvZ0VudHJ5VHlwZSIsIkluaXRpYWxpemVMb2dnZXIiLCJNTVJfQVNTRVJUIiwiTU1SX1dBUk4iLCJNTVJfRVJSIiwiTU1SX0xPRyIsIm5hdGl2ZU1lc3NhZ2luZ1Byb3h5Q29tbW9uXzEiLCJnX2xvZ2dlciIsImxvZ1N0cmluZyIsIkxvZyIsImVycm9yU3RyaW5nIiwiRXJyb3IiLCJ3YXJuaW5nU3RyaW5nIiwiV2FybiIsImFzc2VydGlvbiIsIkFzc2VydCIsImxvZ2dlciIsInR5cGUiLCJ0aGlzIiwiR2V0QXNzZXJ0TG9nIiwiY2FsbGVyTG9nIiwic3RhY2siLCJzcGxpdCIsInRvU3RyaW5nIiwidHJpbSIsIm1lc3NhZ2UiLCJBU1NFUlRfRkFJTFVSRV9NRVNTQUdFX1RZUEUiLCJQcm94eUNvbW1vbiIsIkJHX0hPU1RfQVNTRVJUX0ZBSUxVUkVfTUVTU0FHRV9UWVBFIiwibGluZSIsIm1hdGNoIiwiY29uc29sZSIsImxvZyIsIkxPR0dJTkdfUEFHRV9UT19DT05URU5UX0VWRU5UIiwiTE9HR0lOR19DT05URU5UX1RPX1BBR0VfRVZFTlQiLCJMT0dHSU5HX0NPTlRFTlRfQkFDS0dST1VORF9QT1JUIiwiQVNTRVJUX0ZBSUxVUkVfQkFDS0dST1VORF9QT1JUIiwiRkxVU0hfTE9HU19NRVNTQUdFX1RZUEUiLCJtbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yIiwidHJ5SnNvblN0cmluZ2lmeSIsIlNoaW1Db21tb24iLCJQbGF5YmFja1BhdGhNb2RlIiwiZ2V0U2hpbU9iamVjdCIsInNoaW1Qcm94eVByb3BlcnR5TmFtZSIsInNoaW1Qcm9wZXJ0eU5hbWUiLCJTb3VyY2VCdWZmZXJMaXN0UHJveHkiLCJUZXh0VHJhY2tMaXN0UHJveHkiLCJjcmVhdGVUaW1lUmFuZ2VzIiwibG9nZ2luZ0NvbW1vbl8xIiwidGltZVJhbmdlc0FycmF5IiwidGltZVJhbmdlcyIsInVuZGVmaW5lZCIsImZvckVhY2giLCJBcnJheSIsImluZGV4IiwiYXJyYXkiLCJJbmZpbml0eSIsInJldCIsIlRpbWVSYW5nZXMiLCJsZW5ndGgiLCJzdGFydCIsImVuZCIsImdldFRyYWNrQnlJZCIsImlkIiwiaXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJsaXN0ZW5lciIsIm9wdGlvbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXRlcmF0b3IiLCJkaXNwYXRjaEV2ZW50IiwiZXZlbnQiLCJwYXJlbnRNZWRpYVNvdXJjZSIsIl90aGlzIiwic291cmNlQnVmZmVycyIsImV2ZW50TGlzdGVuZXJzIiwiTWFwIiwiZXZlbnRIYW5kbGVycyIsImV2ZW50TmFtZSIsInByb3BOYW1lIiwic2V0IiwibmV3VmFsdWUiLCJoYXMiLCJwdXNoIiwiZXZlbnRMaXN0ZW5lckxpc3QiLCJsaXN0ZW5lckluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsInZhbHVlcyIsImV2ZW50Q2FuY2VsZWQiLCJ0aGlzQnVmZmVyTGlzdCIsImhhbmRsZUV2ZW50IiwiYXBwbHkiLCJjYW5jZWxhYmxlIiwiYWRkU291cmNlQnVmZmVyIiwic291cmNlQnVmZmVyIiwidXBkYXRlU291cmNlQnVmZmVycyIsIkN1c3RvbUV2ZW50IiwicmVtb3ZlU291cmNlQnVmZmVyIiwic291cmNlQnVmZmVySW5kZXgiLCJzZXRTb3VyY2VCdWZmZXJzIiwib2JqIiwiaW5pdGlhbFBsYXliYWNrUGF0aE1vZGUiLCJVTktOT1dOIiwiSlNPTiIsInN0cmluZ2lmeSIsImUiLCJzdGF0dXNfY29kZSIsIlR5cGVFcnJvciIsIkRPTUV4Y2VwdGlvbiIsIkljb25TdGF0dXMiLCJQUk9YWV9SRUNFSVZFX01FU1NBR0VfRVZFTlQiLCJQUk9YWV9TRU5EX01FU1NBR0VfRVZFTlQiLCJQUk9YWV9TRU5EX01NUl9FTkdBR0VEIiwiUFJPWFlfU0VORF9TQU1FX09SSUdJTl9QQVJFTlRfSUQiLCJDT05URU5UX0JHX1BST1hZX0NPTk5FQ1RJT05fTkFNRSIsIkNPTlRFTlRfQkdfQ0xJRU5UX0NPTk5FQ1RFRF9NRVNTQUdFX1RZUEUiLCJDT05URU5UX0JHX01NUl9BQ1RJVkVfTUVTU0FHRV9UWVBFIiwiQ09OVEVOVF9CR19TQU1FX09SSUdJTl9QQVJFTlRfTUVTU0FHRV9UWVBFIiwiQ09OVEVOVF9CR19SRUNPTk5FQ1RfTUVTU0FHRV9UWVBFIiwiTkFUSVZFX01FU1NBR0lOR19BUFBfTkFNRSIsIkJHX1BST1hZX0NPTlZFUlRfVEFCX1RJVExFX1RPX1dJTkRPVyIsIlBPUFVQX0JHX1BST1hZX0NPTk5FQ1RJT05fTkFNRSIsIkJHX0hPU1RfU1RBUlRfVFJBQ0lOR19NRVNTQUdFX1RZUEUiLCJCR19IT1NUX1NUT1BfVFJBQ0lOR19NRVNTQUdFX1RZUEUiLCJCR19IT1NUX0ZMVVNIX0xPR1NfTUVTU0FHRV9UWVBFIiwiSE9TVF9CR19UUkFDSU5HX1NUQVJURURfTUVTU0FHRV9UWVBFIiwiSE9TVF9CR19UUkFDSU5HX1NUT1BQRURfTUVTU0FHRV9UWVBFIiwiSE9TVF9CR19MT0dTX0ZMVVNIX01FU1NBR0VfVFlQRSIsIkxvY2FsaXplZFN0cmluZ0hhbmRsZXIiLCJkZWZhdWx0U3RyaW5nc09iamVjdCIsImxvY2FsaXplZFN0cmluZ3NPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwidmFsIiwiZGlzcGF0Y2hMb2NhbGl6ZWRTdHJpbmdzIiwiY2hyb21lIiwiaTE4biIsImdldE1lc3NhZ2UiLCJkb2N1bWVudCIsImRldGFpbCIsImxpc3RlbkZvckxvY2FsaXplZFN0cmluZ3MiLCJnZXRMb2NhbGl6ZWRTdHJpbmdzIiwiRmFsbGJhY2tPYmplY3RNYW5hZ2VyIiwiUXVldWVUeXBlIiwibmV4dExvY2FsT2JqZWN0SWQiLCJ1cmxUb0lkTWFwIiwiZWxlbWVudFRvU291cmNlTWFwIiwiaWRUb01lZGlhU291cmNlTWFwIiwiZmFsbGJhY2tGdW5jdGlvblF1ZXVlIiwicG9zdEZhbGxiYWNrRnVuY3Rpb25RdWV1ZSIsImFkZEZhbGxiYWNrVmlkZW9FbGVtZW50IiwidmlkZW9FbGVtZW50U2hpbSIsInNldEZhbGxiYWNrT2JqZWN0SWQiLCJhZGRGYWxsYmFja01lZGlhU291cmNlIiwibWVkaWFTb3VyY2VTaGltIiwiYmxvYlVybCIsImFkZEVsZW1lbnRUb1NvdXJjZUFzc29jaWF0aW9uIiwic291cmNlSWQiLCJxdWV1ZUZhbGxiYWNrRnVuY3Rpb24iLCJmdW5jIiwicXVldWVUeXBlIiwiRkFMTEJBQ0siLCJQT1NURkFMTEJBQ0siLCJzd2l0Y2hUb0xvY2FsIiwiZWxlbWVudElkIiwiZmlsdGVyQW5kRXhlY3V0ZUZ1bmN0aW9uUXVldWUiLCJzd2l0Y2hUb1JlbW90ZSIsImZpbHRlckZ1bmN0aW9uUXVldWUiLCJxdWV1ZSIsImZpbHRlciIsIk1tckluamVjdGlvblBhcmFtZXRlckhhbmRsZXIiLCJzZXRQYXJhbXMiLCJwYXJhbXMiLCJpbnB1dFBhcmFtZXRlcnNFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVyVGV4dCIsImVuYWJsZVNoaW1taW5nIiwib2NjbHVzaW9uU3VwcG9ydFZlcnNpb24iLCJlbmFibGVQYXNzdGhyb3VnaCIsIndlYnJ0Y1N1cHBvcnRWZXJzaW9uIiwibW1yU3VwcG9ydFZlcnNpb24iLCJjb250ZW50UG9ydElkIiwiZW5hYmxlVmlkZW9TdGF0dXNPdmVybGF5IiwiZW5hYmxlVmlkZW9PdXRsaW5lcyIsImhlYWQiLCJkb2N1bWVudEVsZW1lbnQiLCJwcmVwZW5kIiwicmVhZFBhcmFtcyIsImlucHV0UGFyYW1ldGVyc0VsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbnB1dFBhcmFtZXRlclRleHQiLCJpbnB1dFBhcmFtU3RyaW5ncyIsInBhcnNlSW50Iiwic2V0dXBTaGltcyIsInJvb3RXaW5kb3dJbmZvVHJhY2tlciIsInZpZGVvRWxlbWVudF9zaGltXzEiLCJtZWRpYVNvdXJjZV9zaGltXzEiLCJuYXRpdmVNZXNzYWdpbmdQYWdlUHJveHlfMSIsInJlbW90ZU9iamVjdE1hbmFnZXJfMSIsInBhZ2VMb2dnZXJfMSIsInJvb3RXaW5kb3dJbmZvVHJhY2tlcl8xIiwibW1ySW5qZWN0aW9uUGFyYW1ldGVyc18xIiwibG9jYWxpemVkU3RyaW5nSGFuZGxlcl8xIiwiZmFsbGJhY2tPYmplY3RNYW5hZ2VyXzEiLCJlbGVtZW50U2hpbUNvbW1vbl8xIiwibWVkaWFEZXZpY2VzX3JlZGlyZWN0XzEiLCJhdWRpb0VsZW1lbnRfc2hpbV8xIiwicnRjUGVlckNvbm5lY3Rpb25fcmVkaXJlY3RfMSIsIm1lZGlhU3RyZWFtX3NoaW1fMSIsImF1ZGlvQ29udGV4dF9yZWRpcmVjdF8xIiwiUmVnaXN0ZXJQYWdlTG9nZ2VyIiwiaW5wdXRQYXJhbXMiLCJzaGltbWluZ0VuYWJsZWQiLCJ2aWRlb1N0YXR1c092ZXJsYXlFbmFibGVkIiwidmlkZW9PdXRsaW5lc0VuYWJsZWQiLCJtbXJQcm94eSIsIk5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eSIsInJlbW90ZU9iamVjdE1hbmFnZXIiLCJmYWxsYmFja09iamVjdE1hbmFnZXIiLCJSb290V2luZG93SW5mb1RyYWNrZXIiLCJzaGltSHRtbEVsZW1lbnRzIiwiZWxlbWVudE5vZGUiLCJ2aWRlb1RhZ3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0dXBWaWRlb0VsZW1lbnRTaGltcyIsImF1ZGlvVGFncyIsInNldHVwQXVkaW9FbGVtZW50U2hpbXMiLCJSZW1vdGVPYmplY3RNYW5hZ2VyIiwib3JpZ0NyZWF0ZUVsZW1lbnQiLCJ0YWdOYW1lIiwiZWxlbWVudCIsImFyZ3VtZW50cyIsInNldHVwTWVkaWFEZXZpY2VzU2hpbXMiLCJzZXR1cFJUQ1BlZXJDb25uZWN0aW9uU2hpbXMiLCJzZXR1cE1lZGlhU3RyZWFtU2hpbSIsInNldHVwV2ViQXVkaW9TaGltcyIsInNoaW1BdWRpb0NsYXNzIiwib3JpZ0NyZWF0ZU9iamVjdFVSTF8xIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiTWVkaWFTb3VyY2UiLCJtZWRpYVNvdXJjZSIsImlzTVNSRENPYmplY3QiLCJibG9iVVJMIiwic2V0dXBNZWRpYVNvdXJjZVNoaW1zIiwidGFyZ2V0Tm9kZSIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnNMaXN0Iiwib2JzZXJ2ZXIiLCJfaSIsIm11dGF0aW9uc0xpc3RfMSIsIm11dGF0aW9uIiwiX2EiLCJfYiIsImFkZGVkTm9kZXMiLCJhZGRlZE5vZGUiLCJub2RlTmFtZSIsIm9ic2VydmUiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiTE9DQUwiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZVRyYWNrUmVkaXJlY3RPbk1lZGlhU3RyZWFtIiwiY3JlYXRlTWVkaWFTdHJlYW1TaGltIiwiTW1yTWVkaWFTdHJlYW0iLCJNbXJFdmVudFRhcmdldCIsIm1lZGlhU3RyZWFtVHJhY2tfcmVkaXJlY3RfMSIsIm9iamVjdE1hbmFnZXIiLCJpbnZva2VFdmVudExpc3RlbmVyIiwiZXZlbnRUYXJnZXQiLCJzaGltRXZlbnRIYW5kbGVycyIsInNoaW0iLCJfc3VwZXIiLCJzdHJlYW1PclRyYWNrQXJyYXkiLCJ0cmFja3MiLCJ0cmFjayIsImdldFRyYWNrcyIsImNyeXB0byIsInJhbmRvbVVVSUQiLCJmaW5kIiwicmVhZHlTdGF0ZSIsImNvbmZpZ3VyYWJsZSIsImFkZFRyYWNrIiwiTWVkaWFTdHJlYW1UcmFja0V2ZW50IiwiY2xvbmUiLCJNZWRpYVN0cmVhbSIsImdldEF1ZGlvVHJhY2tzIiwia2luZCIsInRyYWNrSWQiLCJnZXRWaWRlb1RyYWNrcyIsInJlbW92ZVRyYWNrIiwiaW5kZXhUb1JlbW92ZUF0Iiwib3JpZ2luYWxNZWRpYVN0cmVhbUNsYXNzIiwib3JpZ2luYWxNZWRpYVN0cmVhbSIsIndpbmRvdyIsInRyYWNrR3VpZCIsInRyYWNrTGFiZWwiLCJzZXR0aW5ncyIsImNyZWF0ZVRyYWNrUmVkaXJlY3QiLCJzZXR1cFBhc3N0aHJvdWdoU291cmNlQnVmZmVyU2hpbSIsInNldHVwU291cmNlQnVmZmVyU2hpbSIsIlNvdXJjZUJ1ZmZlclNoaW0iLCJzb3VyY2VCdWZmZXJfcmVkaXJlY3RfMSIsIm1pbWVUeXBlIiwibWVkaWFTb3VyY2VMb2NhbE9iamVjdElkIiwicGxheWJhY2tQYXRoTW9kZSIsInNvdXJjZUJ1ZmZlclJlZGlyZWN0IiwiU291cmNlQnVmZmVyUmVkaXJlY3QiLCJsb2NhbE9yUmVtb3RlRXhlY3V0ZSIsImZ1bmN0aW9uTmFtZSIsImFyZ3NBcnJheSIsInJldHVyblZhbHVlIiwibG9jYWxGdW5jdGlvbiIsIm9yaWdpbmFsU291cmNlQnVmZmVyIiwiUkVNT1RFIiwicG9zdEZhbGxiYWNrUXVldWVNZXRob2RzIiwiaW5jbHVkZXMiLCJsb2NhbE9yUmVtb3RlRXhlY3V0ZUZ1bmN0aW9ucyIsInJlbW90ZUZ1bmN0aW9uIiwic2V0TWVkaWFTb3VyY2VPd25lciIsInNldEZhbGxiYWNrUGF0aE1vZGUiLCJhYm9ydCIsImFwcGVuZEJ1ZmZlciIsImRhdGEiLCJyZW1vdmUiLCJjaGFuZ2VUeXBlIiwiZ2V0TG9jYWxPYmplY3RJZCIsImxvY2FsT2JqZWN0SWQiLCJzb3VyY2VCdWZmZXJTaGltIiwicHJveHlIYW5kbGVyIiwidGFyZ2V0IiwicHJvcCIsInJlY2VpdmVyIiwic291cmNlQnVmZmVyUmVkaXJlY3RBdHRyaWJ1dGVzIiwic2V0QXR0cmlidXRlIiwic291cmNlQnVmZmVyUHJveHkiLCJQcm94eSIsInBhc3N0aHJvdWdoU291cmNlQnVmZmVyIiwiZnVuY3Rpb25TdHJpbmciLCJvbkV2ZW50TGlzdGVuZXIiLCJwcm9wZXJ0eVN0cmluZyIsIm9yaWdHZXQiLCJfX2xvb2t1cEdldHRlcl9fIiwib3JpZ1NldCIsIl9fbG9va3VwU2V0dGVyX18iLCJfX2Fzc2lnbiIsImFzc2lnbiIsIk1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdCIsImxhYmVsIiwiaXNDYXB0dXJlVHJhY2siLCJvcmlnaW5hbFRyYWNrIiwiaXNvbGF0ZWQiLCJlbmFibGVkIiwibXV0ZWQiLCJyZW1vdGVPYmplY3RBY3RpdmUiLCJjb25zdHJhaW50cyIsImNhcGFiaWxpdGllcyIsImRldmljZUlkIiwiZ3JvdXBJZCIsInByb3h5Iiwic2hpbW1lZE1ldGhvZHMiLCJzaGltbWVkUHJvcGVydGllcyIsInNldElkbEF0dHJpYnV0ZSIsImNyZWF0ZU9iamVjdCIsInNldExvY2FsT2JqZWN0SWQiLCJvblJlbW90ZU9iamVjdENyZWF0ZWQiLCJpbnZva2VFdmVudCIsIndhc0VuYWJsZWQiLCJpbnZva2VNZXRob2QiLCJyZXN1bHQiLCJhcmdzIiwib25BdHRyaWJ1dGVVcGRhdGUiLCJvbkNvbm5lY3Rpb25FdmVudCIsImV2ZW50VHlwZSIsImFwcGx5Q29uc3RyYWludHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImdldENhcGFiaWxpdGllcyIsImdldENvbnN0cmFpbnRzIiwiZ2V0U2V0dGluZ3MiLCJzdG9wIiwiYXVkaW9Db250ZXh0IiwiTW1yQXVkaW9Db250ZXh0Iiwib3JpZ2luYWxBdWRpb0NvbnRleHRDbGFzcyIsImNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24iLCJzdHJlYW0iLCJjb250ZXh0T3B0aW9ucyIsImF1ZGlvQ29udGV4dEluc3RhbmNlIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJtZWRpYVN0cmVhbSIsImRlc3RpbmF0aW9uIiwiTWVkaWFTdHJlYW1BdWRpb0Rlc3RpbmF0aW9uTm9kZSIsInNvdXJjZU5vZGUiLCJjcmVhdGVNZWRpYVN0cmVhbVRyYWNrU291cmNlIiwibWVkaWFTdHJlYW1UcmFjayIsImJhc2VMYXRlbmN5Iiwib3V0cHV0TGF0ZW5jeSIsImNsb3NlIiwiY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIiwibWVkaWFFbGVtZW50IiwiZ2V0T3V0cHV0VGltZXN0YW1wIiwicmVzdW1lIiwic3VzcGVuZCIsImF1ZGlvV29ya2xldCIsImN1cnJlbnRUaW1lIiwiX29uc3RhdGVjaGFuZ2VldmVudEhhbmRsZXIiLCJzYW1wbGVSYXRlIiwic3RhdGUiLCJjcmVhdGVBbmFseXNlciIsImNyZWF0ZUJpcXVhZEZpbHRlciIsImNyZWF0ZUJ1ZmZlciIsIm51bWJlck9mQ2hhbm5lbHMiLCJjcmVhdGVCdWZmZXJTb3VyY2UiLCJjcmVhdGVDaGFubmVsTWVyZ2VyIiwibnVtYmVyT2ZJbnB1dHMiLCJjcmVhdGVDaGFubmVsU3BsaXR0ZXIiLCJudW1iZXJPZk91dHB1dHMiLCJjcmVhdGVDb25zdGFudFNvdXJjZSIsImNyZWF0ZUNvbnZvbHZlciIsImNyZWF0ZURlbGF5IiwibWF4RGVsYXlUaW1lIiwiY3JlYXRlRHluYW1pY3NDb21wcmVzc29yIiwiY3JlYXRlR2FpbiIsImNyZWF0ZUlJUkZpbHRlciIsImZlZWRmb3J3YXJkIiwiZmVlZGJhY2siLCJjcmVhdGVPc2NpbGxhdG9yIiwiY3JlYXRlUGFubmVyIiwiY3JlYXRlUGVyaW9kaWNXYXZlIiwicmVhbCIsImltYWciLCJjcmVhdGVTY3JpcHRQcm9jZXNzb3IiLCJidWZmZXJTaXplIiwibnVtYmVyT2ZJbnB1dENoYW5uZWxzIiwibnVtYmVyT2ZPdXRwdXRDaGFubmVscyIsImNyZWF0ZVN0ZXJlb1Bhbm5lciIsImNyZWF0ZVdhdmVTaGFwZXIiLCJkZWNvZGVBdWRpb0RhdGEiLCJhdWRpb0RhdGEiLCJzdWNjZXNzQ2FsbGJhY2siLCJlcnJvckNhbGxiYWNrIiwiQXVkaW9Db250ZXh0IiwiVmlkZW9FbGVtZW50U2hpbSIsInZpZGVvRWxlbWVudF9yZWRpcmVjdF8xIiwib3JpZ2luYWxFbGVtZW50IiwiZHVyYXRpb24iLCJOYU4iLCJzZWVraW5nIiwiSEFWRV9OT1RISU5HIiwiSEFWRV9NRVRBREFUQSIsIkhBVkVfQ1VSUkVOVF9EQVRBIiwiSEFWRV9GVVRVUkVfREFUQSIsIkhBVkVfRU5PVUdIX0RBVEEiLCJORVRXT1JLX0VNUFRZIiwiTkVUV09SS19JRExFIiwiTkVUV09SS19MT0FESU5HIiwiTkVUV09SS19OT19TT1VSQ0UiLCJub2RlVHlwZSIsIk5vZGUiLCJFTEVNRU5UX05PREUiLCJvcmlnaW5hbFNldHRlcnMiLCJzb3VyY2VDaGlsZE9ic2VydmVyIiwic291cmNlQ2hpbGRBdHRyaWJ1dGVPYnNlcnZlciIsInNvdXJjZU5vZGVzIiwidmlkZW9FbGVtZW50UmVkaXJlY3QiLCJWaWRlb0VsZW1lbnRSZWRpcmVjdCIsIm93bmVyRG9jdW1lbnQiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJ0ZXh0VHJhY2tzIiwiYnVmZmVyZWQiLCJzZWVrYWJsZSIsImJvb2xTaGltbWVkUHJvcGVydGllcyIsInNldEZ1bmN0aW9uIiwiZmFsbGJhY2tPYmplY3RJZCIsInNoaW1tZWRTdHlsZVByb3BlcnRpZXMiLCJzdHlsZSIsInN0eWxlUHJveHlIYW5kbGVyIiwiYXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsInNldFZhbHVlIiwiY2hpbGROb2RlcyIsIm5vZGUiLCJvblNvdXJjZU5vZGVBZGRlZCIsImNoaWxkTm9kZSIsInNldFRpbWVvdXQiLCJjYW5jZWxSZW1vdGUiLCJzZXRDb250ZW50QXR0cmlidXRlIiwic2V0QXR0cmlidXRlT25TaGltIiwiY2hlY2tBbmRTZXRTcmNGcm9tU291cmNlTm9kZSIsInByb3h5XzEiLCJtdXRhdGlvbnNMaXN0XzIiLCJhdHRyaWJ1dGVOYW1lIiwic3JjIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkiLCJwYXVzZSIsInBhdXNlZCIsInNldE1lZGlhS2V5cyIsIm1lZGlhS2V5cyIsIndhcm4iLCJwbGF5IiwidGhlbiIsImNhdGNoIiwiZXJyb3IiLCJzZXRTaW5rSWQiLCJzaW5rSWQiLCJjYW5QbGF5VHlwZSIsImxvYWQiLCJyZWRpcmVjdEF0dHJpYnV0ZXMiLCJib29sUmVkaXJlY3RBdHRyaWJ1dGVzIiwidmlkZW9FbGVtZW50Iiwib3V0ZXJIVE1MIiwiUGxheWJhY2tTdGF0dXMiLCJoYXJkY29kZWRPY2NsdXNpb25UcmFja2VyXzEiLCJtbXJfbWFpbl8xIiwiVmlkZW9FbGVtZW50U2hpbVBsYXliYWNrUXVhbGl0eSIsImNyZWF0aW9uVGltZSIsImNvcnJ1cHRlZFZpZGVvRnJhbWVzIiwiZHJvcHBlZFZpZGVvRnJhbWVzIiwidG90YWxGcmFtZURlbGF5IiwidG90YWxWaWRlb0ZyYW1lcyIsIm11dGF0aW9uT2JzZXJ2ZXIiLCJpbnRlcnNlY3Rpb25PYnNlcnZlciIsInRhYlZpc2libGUiLCJpZ25vcmVUaW1lVXBkYXRlcyIsImVsZW1lbnRSZWN0VXBkYXRlSW50ZXJ2YWwiLCJkaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudCIsInJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudCIsImxhc3RWYWxpZFZpZGVvUmVjdCIsIkRPTVJlY3QiLCJwYXJlbnRFbGVtZW50Q2xpcFJlY3RzIiwiaGFzUG9zaXRpb25lZEFuY2VzdG9yIiwiZWxlbWVudFZpc2libGUiLCJpc1dlYlJUQ01vZGUiLCJjaGVja0xvY2FsUGxheVN1cHByZXNzZWQiLCJwYXR0ZXJuRWxlbWVudCIsInBhdHRlcm5EZWZFbGVtZW50IiwicGF0dGVyblNjYWxlRmFjdG9yIiwicHJldmlvdXNUb3RhbFZpZGVvRnJhbWVzIiwibGFzdFZpZGVvVGltZXN0YW1wIiwicmVkaXJlY3Rpb25QbGF5aW5nIiwiTm90UmVuZGVyaW5nIiwiZGlzcGxheWVkUmVkaXJlY3Rpb25NZXNzYWdlIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwicGVyZm9ybWFuY2UiLCJub3ciLCJnZW5lcmljT2NjbHVzaW9uU3VwcG9ydGVkIiwiY3JlYXRlRWxlbWVudE5TIiwicG9zaXRpb24iLCJib3JkZXIiLCJib3hTaXppbmciLCJtdXRhdGlvblRhcmdldCIsIm9uQ29udGVudEF0dHJpYnV0ZVVwZGF0ZWQiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyaWJ1dGUiLCJyZWRpcmVjdCIsImNhbGxTZW5kRWxlbWVudFJlY3QiLCJzZW5kRWxlbWVudFJlY3QiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsInJvb3QiLCJyb290TWFyZ2luIiwidGhyZXNob2xkIiwiaGlkZGVuIiwic2NoZWR1bGVFbGVtZW50UmVjdFVwZGF0ZSIsIm9jY2x1c2lvblRyYWNrZXIiLCJjcmVhdGVPY2NsdXNpb25UcmFja2VyRm9yU2l0ZSIsInN0YXJ0TW9uaXRvcmluZyIsInNlbmRWYWx1ZSIsIm9uTG9hZCIsInNldE5ld01lZGlhU3RyZWFtIiwiY3VycmVudFNyYyIsIm9uT2NjbHVzaW9uVXBkYXRlIiwicmVkaXJlY3RfMSIsInNldEludGVydmFsIiwidXBkYXRlUGFyZW50Qm91bmRpbmdSZWN0cyIsImNhbmNlbEVsZW1lbnRSZWN0VXBkYXRlIiwiY2xlYXJJbnRlcnZhbCIsInJlc2V0UmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50IiwidXBkYXRlUGxheWJhY2tTdGF0dXMiLCJzdG9wTW9uaXRvcmluZyIsImFkZERpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50IiwidmlkZW9GcmFtZXMiLCJ0aW1lIiwiUmVuZGVyaW5nIiwiYWRkUmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50IiwidXBkYXRlUGF0dGVybkVsZW1lbnQiLCJsb2NhbGl6ZWREaXNjb25uZWN0ZWRNZXNzYWdlIiwiaW5uZXJIVE1MIiwidXBkYXRlRGlzY29ubmVjdGVkTWVzc2FnZVJlY3QiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvcGFjaXR5IiwiY29sb3IiLCJ0ZXh0QWxpZ24iLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJnZXRFbGVtZW50QnlJZCIsInJlZGlyZWN0aW9uTWVzc2FnZUVsZW1lbnRJZCIsImFkZFJlZGlyZWN0aW9uRmFpbGVkTWVzc2FnZUVsZW1lbnQiLCJsb2NhbGl6ZWRSZWRpcmVjdEZhaWx1cmVNZXNzYWdlIiwidXBkYXRlUmVkaXJlY3RlZE1lc3NhZ2VSZWN0IiwibG9jYWxpemVkUmVkaXJlY3RNZXNzYWdlIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwiaGVpZ2h0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJ4IiwieSIsImxlZnQiLCJ0b3AiLCJwYWRkaW5nVG9wIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImFsaWduSXRlbXMiLCJjdXJyZW50UGFyZW50Q291bnQiLCJjdXJyZW50UGFyZW50IiwicGFyZW50RWxlbWVudCIsImNsaXBSZWN0cyIsInBhcmVudFN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBhcmVudE92ZXJmbG93Q3NzX3giLCJwYXJlbnRPdmVyZmxvd0Nzc195IiwicGFyZW50UmVjdCIsInJpZ2h0IiwiYm90dG9tIiwiaW5wdXRSZWN0IiwidmlzaWJpbGl0eSIsInNldE9wYWNpdHlPbk9yaWdpbmFsRWxlbWVudCIsInJvdW5kZWRXaWR0aCIsIk1hdGgiLCJyb3VuZCIsInJvdW5kZWRIZWlnaHQiLCJhZGp1c3RlZFdpZHRoIiwiYWRqdXN0ZWRIZWlnaHQiLCJzY2FsZUZhY3RvciIsImRldmljZVBpeGVsUmF0aW8iLCJlbGVtZW50U2l6ZSIsImRlZnNFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJmaXJzdENoaWxkIiwiZWxlbWVudFNpemVTdHIiLCJjaGVja2VyYm9hcmRSZWN0cyIsImZpbGwiLCJhdHRycyIsInJlY3RFbGVtZW50IiwiY29tcGxldGVSZWN0XzEiLCJuZXdXaWR0aEZhY3RvciIsIm5ld0hlaWdodEZhY3RvciIsImNvbXBsZXRlUmVjdCIsIm5ld1BhcmVudCIsInBhcmVudENsaWVudFJlY3QiLCJpbnNlcnRCZWZvcmVUYXJnZXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsInBhcmVudEluZm8iLCJnZXRSb290V2luZG93SW5mbyIsInBhcmVudE9mZnNldCIsInNjYWxlZFJlY3QiLCJ3aW5kb3dUaXRsZSIsImRpc3BsYXlTY2FsZUZhY3RvciIsInNldFRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCIsInZpZGVvUmVjdCIsImdldENsaXBSZWN0cyIsInBhcmVudCIsInNjYWxlZENsaXBXaWR0aCIsImhvcml6b250YWxDbGlwIiwic2NhbGVkQ2xpcEhlaWdodCIsInZlcnRpY2FsQ2xpcCIsInRvdGFsQ2xpcFJlY3RzIiwiY29uY2F0IiwibmV0d29ya1N0YXRlIiwiX2MiLCJfZCIsImFkZFRyYWNrUmVmIiwicmVtb3ZlVHJhY2tSZWYiLCJ0aGF0IiwiZXYiLCJtZWRpYVN0cmVhbVRyYWNrVXBkYXRlIiwiYXVkaW9UcmFjayIsInNldEF1ZGlvVHJhY2siLCJ2aWRlb1RyYWNrIiwic2V0VmlkZW9UcmFjayIsImlzQ2FwdHVyZSIsInByb3h5XzIiLCJkaXNjb25uZWN0Iiwib3JpZ2luYWxTdHlsZSIsIlBhdXNlZCIsInBsYXlJbnZva2VDYWxsYmFjayIsInRlc3RWaWRlb0VsZW1lbnQiLCJlcnIiLCJIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyIiwiaGFyZGNvZGVkT2NjbHVzaW9uRGVmaW5pdGlvbnMiLCJvY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3IiLCJjbGlwcGluZ0VsZW1lbnRTZWxlY3RvciIsInVybCIsImNsaWVudCIsImVudHJpZXMiLCJtYXRjaFBhdHRlcm4iLCJvY2NsdXNpb25JdGVtcyIsInJlZ2V4IiwiUmVnRXhwIiwiaGFyZGNvZGVkT2NjbHVkaW5nSXRlbURlZmluaXRpb25zIiwib2NjbHVkaW5nSXRlbURlZmluaXRpb25zIiwiYWN0aXZlT2NjbHVzaW9uVHJhY2tlcnMiLCJtb25pdG9yaW5nSW50ZXJ2YWwiLCJ0cmFja2VyXzEiLCJ0cnlBY3RpdmF0aW5nTmV3T2NjbHVzaW9uVHJhY2tlcnMiLCJ0cmFja2VyIiwiaHRtbEVsZW1lbnQiLCJPY2NsdXNpb25UcmFja2VyIiwib2Zmc2V0Q2xpcFJlY3RzIiwiaXNWaXNpYmxlIiwiY2xpcFJlY3RUb0FkZCIsImdldENsaXBSZWN0Iiwib2Zmc2V0Q2xpcFJlY3QiLCJyZWN0MiIsImhvcml6b250YWxJbnRlcnNlY3QiLCJyZWN0MSIsInZlcnRpY2FsSW50ZXJzZWN0IiwiZGVmaW5pdGlvbiIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJib3VuZGluZ0NsaWVudFJlY3QiLCJ1cGRhdGVWaXNpYmlsaXR5U3RhdGUiLCJjbGlwcGluZ0VsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiTWVkaWFTb3VyY2VTaGltIiwiTWltZVR5cGVTdGF0ZSIsIm1lZGlhU291cmNlX3JlZGlyZWN0XzEiLCJzb3VyY2VCdWZmZXJfc2hpbV8xIiwiZWxlbWVudFNoaW1Db21tb25fMiIsImdfbWVkaWFTb3VyY2VSZW1vdGVPYmplY3RNYW5hZ2VyIiwiZ19tZWRpYVNvdXJjZUZhbGxiYWNrT2JqZWN0TWFuYWdlciIsImdfb3JpZ2luYWxNZWRpYVNvdXJjZSIsImdfb3JpZ2luYWxDcmVhdGVPYmplY3RVUkwiLCJvcmlnaW5hbE1lZGlhU291cmNlIiwibWltZVR5cGVNYXAiLCJtZWRpYVNvdXJjZVJlZGlyZWN0IiwiTWVkaWFTb3VyY2VSZWRpcmVjdCIsInBvc3RTb3VyY2VPcGVuRmFsbGJhY2tRdWV1ZSIsInNvdXJjZUJ1ZmZlclNoaW1zIiwiZXhlY3V0ZVBvc3RTb3VyY2VPcGVuRmFsbGJhY2tRdWV1ZSIsIm9uU291cmNlT3Blbl8xIiwib3JpZ2luYWxNZWRpYVNvdXJjZV8xIiwiY2xlYXJMaXZlU2Vla2FibGVSYW5nZSIsImVuZE9mU3RyZWFtIiwiZW5kT2ZTdHJlYW1FcnJvciIsInNldExpdmVTZWVrYWJsZVJhbmdlIiwiYXBwbHlTaGltVG9Tb3VyY2VCdWZmZXJMaXN0IiwiYWN0aXZlU291cmNlQnVmZmVycyIsInNvdXJjZUJ1ZmZlckxpc3QiLCJvcmlnaW5hbFNvdXJjZUJ1ZmZlckxpc3QiLCJyZWRpcmVjdEFkZEV2ZW50TGlzdGVuZXIiLCJyZWRpcmVjdFJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjaGVja0lzVHlwZVN1cHBvcnRlZCIsInJldFZhbHVlIiwiaXNUeXBlU3VwcG9ydGVkIiwic3VwcG9ydCIsInVuc3VwcG9ydCIsInVua25vd24iLCJwYXJlbnRTaGltIiwicGVuZGluZ1NvdXJjZUJ1ZmZlclNoaW1zIiwic2V0QmxvYlVSTCIsIm9uU291cmNlQnVmZmVyTGlzdFVwZGF0ZSIsInNvdXJjZUJ1ZmZlclJlbW90ZU9iamVjdElkQXJyYXkiLCJzb3VyY2VCdWZmZXJBcnJheSIsIm1hdGNoaW5nU291cmNlQnVmZmVyIiwic291cmNlQnVmZmVyTG9jYWxPYmplY3RJZCIsInNvdXJjZUJ1ZmZlclJlbW90ZU9iamVjdElkIiwibG9jYWxUb1JlbW90ZUlkTWFwIiwiYnVmZmVyTGlzdFR5cGUiLCJtZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkIiwiYXBwZW5kV2luZG93RW5kIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJhcHBlbmRXaW5kb3dTdGFydCIsInRpbWVzdGFtcE9mZnNldCIsInVwZGF0aW5nIiwiYnl0ZUxlbmd0aCIsImJ1ZmZlciIsImJpbmFyeSIsImJ5dGVzIiwiVWludDhBcnJheSIsImxlbiIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImJ0b2EiLCJfYXJyYXlCdWZmZXJUb0Jhc2U2NCIsIm1tckVuZ2FnZWQiLCJwYWdlUHJveHkiLCJuYXRpdmVQb3J0SWQiLCJvblJlY2VpdmVkTWVzc2FnZSIsInNldENsaWVudCIsInNlbmRNZXNzYWdlIiwic2VuZE1NUkVuZ2FnZWRNZXNzYWdlIiwic2VuZFNhbWVPcmlnaW5QYXJlbnRJZCIsInBhcmVudE5hdGl2ZVBvcnRJZCIsIm1lc3NhZ2VPYmplY3QiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiayIsImEiLCJqIiwiamwiLCJSZW1vdGVNZXNzYWdlVHlwZXMiLCJQZW5kaW5nSW52b2tlTWV0aG9kIiwiY2FsbGJhY2siLCJ3ZWJyUnRjU3VwcG9ydFZlcnNpb24iLCJuZXh0TWV0aG9kQ2FsbElkIiwiaXNDb25uZWN0ZWQiLCJ3ZWJSdGNTdXBwb3J0VmVyc2lvbiIsImxvY2FsT2JqZWN0TWFwIiwicmVtb3RlVG9Mb2NhbE9iamVjdE1hcCIsInF1ZXVlZE1ldGhvZENhbGxzIiwicGVuZGluZ01ldGhvZENhbGxzIiwibWVzc2FnZUhpc3RvcnlRdWV1ZSIsInJlc2VuZE1lc3NhZ2VRdWV1ZSIsInNlbGYiLCJjaGVja0ZvclJlc2VuZE1lc3NhZ2VzIiwicmVtYWluZGVyUXVldWUiLCJzdG9wU2VuZGluZ0ludm9rZSIsIm1lc3NhZ2VUeXBlIiwiQ1JFQVRFX09CSkVDVCIsInByZXZpb3VzUmVtb3RlT2JqZWN0SWQiLCJkZWxldGUiLCJJTlZPS0VfTUVUSE9EIiwic2VuZCIsImxvY2FsT2JqZWN0Iiwib2JqZWN0VHlwZSIsIm1ldGhvZE5hbWUiLCJpbnZva2VNZXRob2RJbnRlcm5hbCIsIm1ldGhvZENhbGxJZCIsIkNSRUFURV9PQkpFQ1RfUkVTUE9OU0UiLCJyZW1vdGVPYmplY3RJZCIsInNlbGZfMSIsInF1ZXVlZENhbGxzIiwiSU5WT0tFX01FVEhPRF9SRVNQT05TRSIsInBlbmRpbmdNZXRob2RDYWxsIiwiT05fRVZFTlQiLCJldmVudEFyZ3MiLCJldmVudF8xIiwiT05fQVRUUklCVVRFX1VQREFURSIsImF0dHJOYW1lIiwiYXR0clZhbHVlIiwiT05fQ09OTkVDVElPTl9FVkVOVCIsImV2ZW50VHlwZV8xIiwibWFwIiwidXNlQ2FwdHVyZSIsImV2ZW50TWFwRm9yT2JqZWN0IiwidGFyZ2V0TG9jYWxPYmplY3RJZCIsImNhbmNlbFBlbmRpbmdDYWxscyIsIlBhZ2VMb2dnZXIiLCJjYWNoZWRMb2dzIiwiZmx1c2hMb2dzSW50ZXJ2YWwiLCJzY2hlZHVsZUxvZ0ZsdXNoVGltZXIiLCJmbHVzaExvZ3MiLCJMT0dfRkxVU0hfSU5URVJWQUxfTVMiLCJjYW5jZWxMb2dGbHVzaFRpbWVyIiwiYWRkVG9Mb2dDYWNoZSIsIklORk8iLCJFUlJPUiIsIldBUk5JTkciLCJNQVhfQ0FDSEVfRU5UUklFUyIsIm5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eSIsInJvb3RXaW5kb3dPZmZzZXQiLCJyb290V2luZG93VGl0bGUiLCJ0aXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQiLCJ1bmlxdWVJZCIsImxpc3RlbkZvclNldEluZm8iLCJzZXRQYXJlbnRJbmZvT25DaGlsZCIsInNldFBhcmVudEluZm9PbkNoaWxkcmVuIiwiZ2V0Um9vdFdpbmRvd1RpdGxlIiwidGl0bGUiLCJyb290V2luZG93SW5mbyIsIklmcmFtZXMiLCJpZnJhbWVFbGVtZW50Iiwib2Zmc2V0IiwiaWZyYW1lUmVjdCIsIndpbmRvd1RpdGxlVG9TZW5kIiwib3JpZ2luIiwiY29udGVudFdpbmRvdyIsInBvc3RNZXNzYWdlIiwicm9vdE9mZnNldCIsInJvb3RUaXRsZSIsInJvb3ROYXRpdmVQb3J0SWQiLCJyb290T3JpZ2luIiwidXBkYXRlUGFyZW50U2FtZU9yaWdpbiIsInBhcmVudE9yaWdpbiIsImVuYWJsZSIsInNldFRpdGxlTW9kSW5mb09uUGFyZW50IiwidXBkYXRlVGl0bGVNb2RMb2NhbCIsInJlcGxhY2UiLCJmbG9vciIsInJhbmRvbSIsInRpdGxlQXBwZW5kZWRTdHIiLCJ0aXRsZUNvbnRhaW5zQXBwZW5kZWRTdHIiLCJNZWRpYURldmljZXNSZWRpcmVjdCIsIk1tck1lZGlhRGV2aWNlSW5mbyIsImluZm8iLCJ0b0pTT04iLCJjcmVhdGVkUmVtb3RlT2JqZWN0IiwiX29uZGV2aWNlY2hhbmdlIiwiZGlzY29ubmVjdGVkIiwib3JpZ2luYWxNZWRpYURldmljZXMiLCJtZWRpYURldmljZXMiLCJlbnN1cmVPYmplY3RDcmVhdGVkIiwiU2VuZENvbm5lY3Rpb25TdGF0ZUNoYW5nZWRFdmVudCIsImVudW1lcmF0ZURldmljZXMiLCJyZXR2YWxfMSIsImdldFN1cHBvcnRlZENvbnN0cmFpbnRzIiwiZ2V0VXNlck1lZGlhIiwicmV0dmFsXzIiLCJjb25uZWN0aW9uRXZlbnQiLCJtZWRpYURldmljZXNSZWRpcmVjdCIsIkF1ZGlvRWxlbWVudFNoaW0iLCJhdWRpb0VsZW1lbnRfcmVkaXJlY3RfMSIsIk1tckF1ZGlvIiwiYXVkaW9FbGVtZW50Iiwib3JpZ2luYWxBdWRpb0NsYXNzIiwiQXVkaW8iLCJhdWRpb0VsZW1lbnRSZWRpcmVjdCIsIkF1ZGlvRWxlbWVudFJlZGlyZWN0Iiwib3JpZ2luYWxWYWx1ZSIsImNoaWxkIiwiYm9vbFZhbHVlIiwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdCIsInJ0Y0RhdGFDaGFubmVsX3JlZGlyZWN0XzEiLCJDcmVhdGVTdGF0c1JlcG9ydCIsInN0YXRzUmVwb3J0Iiwic3RhdHMiLCJrZXlzIiwid3JpdGFibGUiLCJNbXJSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0Iiwic2RwIiwiTW1yUlRDRFRNRlNlbmRlciIsInBhcmVudExvY2FsT2JqZWN0SWQiLCJjYW5JbnNlcnREVE1GIiwidG9uZUJ1ZmZlciIsImluc2VydERUTUYiLCJ0b25lcyIsImludGVyVG9uZUdhcCIsInRlc3QiLCJwcm9jZXNzVG9uZUNoYW5nZSIsInRvbmVQbGF5ZWQiLCJSVENEVE1GVG9uZUNoYW5nZUV2ZW50IiwiTW1yUlRDUnRwU2VuZGVyIiwidHJhbnNwb3J0IiwicnRjcFRyYW5zcG9ydCIsImR0bWYiLCJwYXJhbWV0ZXJzIiwiZ2V0UGFyYW1ldGVycyIsImdldFN0YXRzIiwicmVwbGFjZVRyYWNrIiwid2l0aFRyYWNrIiwid2l0aFRyYWNrU3RyaW5nIiwic2V0UGFyYW1ldGVycyIsImluaXRpYWxpemUiLCJzZXRTdHJlYW1zIiwic3RyZWFtcyIsInN0cmVhbUlkcyIsImZyb20iLCJlbmNvZGluZ3MiLCJjb2RlY3MiLCJoZWFkZXJFeHRlbnNpb25zIiwicnRjcFBhcmFtcyIsInNldElkIiwiTW1yUlRDUnRwUmVjZWl2ZXIiLCJwYXJhbWV0ZXJzQXJncyIsImNzcmNzIiwic3NyY3MiLCJnZXRDb250cmlidXRpbmdTb3VyY2VzIiwiZ2V0U3luY2hyb25pemF0aW9uU291cmNlcyIsIk1tclJUQ1J0cFRyYW5zY2VpdmVyIiwibWlkIiwicGFyZW50UGVlckNvbm5lY3Rpb24iLCJzZW5kZXIiLCJpbnRlcm5hbERpcmVjdGlvbiIsInNldENvZGVjUHJlZmVyZW5jZXMiLCJjb25maWd1cmF0aW9uIiwiaXNDbG9zZWQiLCJjb25uZWN0aW9uU3RhdGVfc2hpbSIsIm9yaWdpbmFsUlRDUGVlckNvbm5lY3Rpb24iLCJzZW5kZXJNYXAiLCJyZWNlaXZlck1hcCIsInRyYW5zY2VpdmVycyIsImNoYW5uZWxNYXAiLCJzdHJlYW1NYXAiLCJuZXh0Q2hhbm5lbElkIiwiY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXMiLCJjdXJyZW50TG9jYWxEZXNjcmlwdGlvbiIsImN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbiIsImljZUNvbm5lY3Rpb25TdGF0ZSIsImljZUdhdGhlcmluZ1N0YXRlIiwiaWRwRXJyb3JJbmZvIiwiaWRwTG9naW5VcmwiLCJwZWVySWRlbnRpdHkiLCJwZW5kaW5nTG9jYWxEZXNjcmlwdGlvbiIsInBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbiIsInNpZ25hbGluZ1N0YXRlIiwib3JpZ2luYWxSVENQZWVyQ29ubmVjdGlvbkNsYXNzIiwic2RwU2VtYW50aWNzIiwicHJvY2Vzc0ljZUNhbmRpZGF0ZUV2ZW50IiwiaW5wdXRFdmVudCIsImNhbmRpZGF0ZU9iamVjdCIsImNhbmRpZGF0ZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsInNkcE1MaW5lSW5kZXgiLCJzZHBfbWxpbmVfaW5kZXgiLCJzZHBNaWQiLCJzZHBfbWlkIiwiUlRDUGVlckNvbm5lY3Rpb25JY2VFdmVudCIsInByb2Nlc3NJY2VDYW5kaWRhdGVFcnJvckV2ZW50IiwiZXZlbnRJbml0IiwiYWRkcmVzcyIsImVycm9yQ29kZSIsImVycm9yX2NvZGUiLCJlcnJvclRleHQiLCJlcnJvcl90ZXh0IiwicG9ydCIsIlJUQ1BlZXJDb25uZWN0aW9uSWNlRXJyb3JFdmVudCIsInByb2Nlc3NUcmFja0V2ZW50Iiwic3RyZWFtQXJyYXkiLCJzdHJlYW1JZCIsIm5ld1N0cmVhbSIsInNlbmRlcklkIiwibG9jYWxUcmFja0lkIiwidHJhbnNjZWl2ZXIiLCJ0cmFuc2NlaXZlck1pZCIsInJldHVybkV2ZW50IiwicHJvY2Vzc0RhdGFDaGFubmVsRXZlbnQiLCJjaGFubmVsIiwiUlRDRGF0YUNoYW5uZWxSZWRpcmVjdCIsInV1aWQiLCJwcm9jZXNzTG9jYWxEZXNjcmlwdGlvblVwZGF0ZSIsImRlc2NyaXB0aW9uIiwiUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIiwicHJvY2Vzc1NlbmRlcnNVcGRhdGUiLCJ0cmFja0lkVG9QYXJhbWV0ZXJNYXAiLCJwcm9jZXNzUmVjZWl2ZXJzVXBkYXRlIiwicHJvY2Vzc1RyYW5zY2VpdmVyc1VwZGF0ZSIsInNlbmRlcklkVG9UcmFuc2NlaXZlcklkIiwicnRwU2VuZGVyIiwiYWRkSWNlQ2FuZGlkYXRlIiwiYWRkVHJhbnNjZWl2ZXIiLCJ0cmFja09yS2luZCIsImluaXQiLCJkaXJlY3Rpb24iLCJzZW5kRW5jb2RpbmdzIiwic2hpbV8xIiwiY3JlYXRlQW5zd2VyIiwicmV0dmFsIiwiY3JlYXRlRGF0YUNoYW5uZWwiLCJkYXRhQ2hhbm5lbERpY3QiLCJwcm90b2NvbCIsIm1heFBhY2tldExpZmVUaW1lIiwibWF4UmV0cmFuc21pdHMiLCJjaGFubmVsSWQiLCJhdHRlbXB0cyIsImNyZWF0ZU9mZmVyIiwiZ2V0Q29uZmlndXJhdGlvbiIsImdldElkZW50aXR5QXNzZXJ0aW9uIiwiZ2V0UmVjZWl2ZXJzIiwiZ2V0U2VuZGVycyIsInNlbGVjdG9yIiwiZ2V0VHJhbnNjZWl2ZXJzIiwic2V0Q29uZmlndXJhdGlvbiIsIm9sZEJ1bmRsZVBvbGljeSIsIm5ld0J1bmRsZVBvbGljeSIsIm9sZFJ0Y3BNdXhQb2xpY3kiLCJuZXdSdGNwTXV4UG9saWN5Iiwic2V0SWRlbnRpdHlQcm92aWRlciIsInByb3ZpZGVyIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uT2JqZWN0IiwicGFyc2UiLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiX2J1ZmZlcmVkQW1vdW50IiwiX2J1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkIiwiYmluYXJ5VHlwZSIsIm5lZ290aWF0ZWQiLCJvcmRlcmVkIiwicHJpb3JpdHkiLCJpc0JpbmFyeSIsImJ1ZmZlclZpZXciLCJhcnJheUJ1ZmZlciIsInByb2Nlc3NNZXNzYWdlRXZlbnQiLCJwcm9jZXNzRXJyb3JFdmVudCIsInR5cGVkQXJyYXkiLCJhdG9iIiwiY2hhckNvZGVBdCIsIk1lc3NhZ2VFdmVudCIsIkJsb2IiLCJzdHJpbmdNZXNzYWdlIiwicnRjRXJyb3IiLCJSVENFcnJvciIsImVycm9yRGV0YWlsIiwicmVjZWl2ZWRBbGVydCIsInNjdHBDYXVzZUNvZGUiLCJzZHBMaW5lTnVtYmVyIiwic2VudEFsZXJ0IiwiUlRDRXJyb3JFdmVudCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxv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LEtBQU1vd0IsRUFBV3JULGFBR2hFLENBRUQsSUFBSTBULEVBQWdCM0YsRUFBVzUyQixPQUFPbEgsUUFDdEN3L0IsRUFBYyxJQUFJK0QsYUFBYSxVQUFXLENBQUV2d0IsS0FBTXl3QixJQUV0RCxPQUFPakUsR0FFWEcsRUFBdUIxaEMsVUFBVWtsQyxrQkFBb0IsU0FBVXJnQyxHQUMzRCxJQUFJZzdCLEVBQWFoN0IsRUFDYjRnQyxFQUFXLElBQUlDLFNBQVMsQ0FDeEJDLFlBQWE5RixFQUFXNTJCLE9BQW9CLFlBQzVDMjhCLGNBQWUvRixFQUFXNTJCLE9BQXNCLGNBQ2hENDhCLGNBQWVoRyxFQUFXNTJCLE9BQXNCLGNBQ2hENjhCLGNBQWVqRyxFQUFXNTJCLE9BQXNCLGNBQ2hEODhCLFVBQVdsRyxFQUFXNTJCLE9BQWtCLFdBQ3pDNDJCLEVBQVc1MkIsT0FBT2xILFNBQ3JCLE9BQU8sSUFBSWlrQyxjQUFjLFFBQVMsQ0FBRTNsQixNQUFPb2xCLEtBRS9DL0QsRUFBdUJ2OEIsY0FBZ0IsQ0FBQyxvQkFBcUIsUUFBUyxVQUFXLFFBQVMsVUFBVyxRQUM5RnU4QixFQXpPZ0MsR0EyTzNDeGpDLEVBQVF3akMsdUJBQXlCQSIsImZpbGUiOiJtbXJfbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2dnaW5nQ29tbW9uID0gZXhwb3J0cy5DYWNoZWRMb2dFbnRyeSA9IGV4cG9ydHMuQ2FjaGVkTG9nRW50cnlUeXBlID0gZXhwb3J0cy5Jbml0aWFsaXplTG9nZ2VyID0gZXhwb3J0cy5NTVJfQVNTRVJUID0gZXhwb3J0cy5NTVJfV0FSTiA9IGV4cG9ydHMuTU1SX0VSUiA9IGV4cG9ydHMuTU1SX0xPRyA9IHZvaWQgMDtcbnZhciBuYXRpdmVNZXNzYWdpbmdQcm94eUNvbW1vbl8xID0gcmVxdWlyZShcIi4vbmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25cIik7XG47XG52YXIgZ19sb2dnZXIgPSBudWxsO1xuZnVuY3Rpb24gTU1SX0xPRyhsb2dTdHJpbmcpIHtcbiAgICBnX2xvZ2dlci5Mb2cobG9nU3RyaW5nKTtcbn1cbmV4cG9ydHMuTU1SX0xPRyA9IE1NUl9MT0c7XG5mdW5jdGlvbiBNTVJfRVJSKGVycm9yU3RyaW5nKSB7XG4gICAgZ19sb2dnZXIuRXJyb3IoZXJyb3JTdHJpbmcpO1xufVxuZXhwb3J0cy5NTVJfRVJSID0gTU1SX0VSUjtcbmZ1bmN0aW9uIE1NUl9XQVJOKHdhcm5pbmdTdHJpbmcpIHtcbiAgICBnX2xvZ2dlci5XYXJuKHdhcm5pbmdTdHJpbmcpO1xufVxuZXhwb3J0cy5NTVJfV0FSTiA9IE1NUl9XQVJOO1xuZnVuY3Rpb24gTU1SX0FTU0VSVChhc3NlcnRpb24pIHtcbiAgICBnX2xvZ2dlci5Bc3NlcnQoYXNzZXJ0aW9uKTtcbn1cbmV4cG9ydHMuTU1SX0FTU0VSVCA9IE1NUl9BU1NFUlQ7XG5mdW5jdGlvbiBJbml0aWFsaXplTG9nZ2VyKGxvZ2dlcikge1xuICAgIGdfbG9nZ2VyID0gbG9nZ2VyO1xufVxuZXhwb3J0cy5Jbml0aWFsaXplTG9nZ2VyID0gSW5pdGlhbGl6ZUxvZ2dlcjtcbnZhciBDYWNoZWRMb2dFbnRyeVR5cGU7XG4oZnVuY3Rpb24gKENhY2hlZExvZ0VudHJ5VHlwZSkge1xuICAgIENhY2hlZExvZ0VudHJ5VHlwZVtDYWNoZWRMb2dFbnRyeVR5cGVbXCJFUlJPUlwiXSA9IDFdID0gXCJFUlJPUlwiO1xuICAgIENhY2hlZExvZ0VudHJ5VHlwZVtDYWNoZWRMb2dFbnRyeVR5cGVbXCJXQVJOSU5HXCJdID0gMl0gPSBcIldBUk5JTkdcIjtcbiAgICBDYWNoZWRMb2dFbnRyeVR5cGVbQ2FjaGVkTG9nRW50cnlUeXBlW1wiSU5GT1wiXSA9IDNdID0gXCJJTkZPXCI7XG59KShDYWNoZWRMb2dFbnRyeVR5cGUgPSBleHBvcnRzLkNhY2hlZExvZ0VudHJ5VHlwZSB8fCAoZXhwb3J0cy5DYWNoZWRMb2dFbnRyeVR5cGUgPSB7fSkpO1xuO1xudmFyIENhY2hlZExvZ0VudHJ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENhY2hlZExvZ0VudHJ5KHR5cGUsIGxvZ1N0cmluZykge1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmxvZ1N0cmluZyA9IGxvZ1N0cmluZztcbiAgICB9XG4gICAgcmV0dXJuIENhY2hlZExvZ0VudHJ5O1xufSgpKTtcbmV4cG9ydHMuQ2FjaGVkTG9nRW50cnkgPSBDYWNoZWRMb2dFbnRyeTtcbnZhciBMb2dnaW5nQ29tbW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvZ2dpbmdDb21tb24oKSB7XG4gICAgfVxuICAgIExvZ2dpbmdDb21tb24uQXNzZXJ0ID0gZnVuY3Rpb24gKGFzc2VydGlvbikge1xuICAgICAgICAvLyBERUJVRyBkZWZpbmVkIGJ5IERlZmluZVBsdWdpbiBpbiB3ZWJwYWNrLmNvbmZpZy5qc1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoYXNzZXJ0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCEhYXNzZXJ0aW9uKTtcbiAgICB9O1xuICAgIExvZ2dpbmdDb21tb24uR2V0QXNzZXJ0TG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBHZW5lcmF0ZXMgYW4gZXJyb3Igc3RhY2sgYW5kIGV4dHJhY3QgdGhlIGNhbGxlcidzIGZ1bmN0aW9uIGxvY2F0aW9uLlxuICAgICAgICAvLyBOb3RlOiBkdWUgdG8gVHlwZVNjcmlwdCBjb21waWxhdGlvbiwgdGhpcyBkYXRhIGRvZXMgbm90IGNvcnJlc3BvbmQgd2l0aCBzb3VyY2UgY29kZS5cbiAgICAgICAgLy8gV2UgaW5zdGVhZCByZXBvcnQgdGhlIGVycm9yIG1lc3NhZ2UgaW4gaXRzIGVudGlyZXR5IGFsb25nIHdpdGggdGhlIGNvbHVtbiBudW1iZXIsXG4gICAgICAgIC8vIHNpbmNlIGxpbmUgbnVtYmVyIGlzIGFsd2F5cyAxIGluIHRoZSBjb21waWxlZCBqcyBjb2RlLlxuICAgICAgICB2YXIgZSA9IChuZXcgRXJyb3IoKSkuc3RhY2suc3BsaXQoJ2F0ICcpO1xuICAgICAgICB2YXIgY2FsbGVyTG9nID0gZVs0XS50b1N0cmluZygpLnRyaW0oKTsgLy8gNHRoIGluZGV4IGlzIHRoZSBjYWxsZXIgb2YgTU1SX0FTU0VSVCAoRXJyb3IgbWVzc2FnZSwgR2V0QXNzZXJ0TG9nLCBJTG9nZ2VyOjpBc3NlcnQsIE1NUl9BU1NFUlQsIDxjYWxsZXI+KVxuICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyBPYmplY3QoKTtcbiAgICAgICAgbWVzc2FnZVsndHlwZSddID0gTG9nZ2luZ0NvbW1vbi5BU1NFUlRfRkFJTFVSRV9NRVNTQUdFX1RZUEU7IC8vIEZvciBiZXR3ZWVuIGV4dGVuc2lvbiBjb21wb25lbnRzXG4gICAgICAgIG1lc3NhZ2VbJ21lc3NhZ2VUeXBlJ10gPSBuYXRpdmVNZXNzYWdpbmdQcm94eUNvbW1vbl8xLlByb3h5Q29tbW9uLkJHX0hPU1RfQVNTRVJUX0ZBSUxVUkVfTUVTU0FHRV9UWVBFOyAvLyBGb3IgaG9zdFxuICAgICAgICBtZXNzYWdlWydmaWxlTmFtZSddID0gY2FsbGVyTG9nO1xuICAgICAgICB2YXIgbGluZSA9IGNhbGxlckxvZy5tYXRjaCgvOig/OlxcZCspOihcXGQrKVteXFxkXSokLyk7IC8vIE1hdGNoZXMgY29sIG51bWJlclxuICAgICAgICBpZiAobGluZSkge1xuICAgICAgICAgICAgbWVzc2FnZVsnbGluZSddID0gbGluZVsxXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2VbJ2xpbmUnXSA9IDA7IC8vIGRlZmF1bHQgdG8gMCBpZiByZWdleCBmYWlsc1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTU1SX0FTU0VSVDogXCIgKyBjYWxsZXJMb2cgKyBcIiBMaW5lOiBcIiArIG1lc3NhZ2VbJ2xpbmUnXSArIFwiIExpbmUgb2JqZWN0OiBcIiArIGxpbmUpO1xuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9O1xuICAgIExvZ2dpbmdDb21tb24uTE9HR0lOR19QQUdFX1RPX0NPTlRFTlRfRVZFTlQgPSBcIk1zUmRjTW1yTG9nZ2luZ1BhZ2VUb0NvbnRlbnRfTWVzc2FnZVwiO1xuICAgIExvZ2dpbmdDb21tb24uTE9HR0lOR19DT05URU5UX1RPX1BBR0VfRVZFTlQgPSBcIk1zUmRjTW1yTG9nZ2luZ0NvbnRlbnRUb1BhZ2VfTWVzc2FnZVwiO1xuICAgIExvZ2dpbmdDb21tb24uTE9HR0lOR19DT05URU5UX0JBQ0tHUk9VTkRfUE9SVCA9IFwiTXNSZGNNbXJMb2dnaW5nQmFja2dyb3VuZENvbW1cIjtcbiAgICBMb2dnaW5nQ29tbW9uLkFTU0VSVF9GQUlMVVJFX0JBQ0tHUk9VTkRfUE9SVCA9IFwiTXNSZGNNbXJBc3NlcnRCYWNrZ3JvdW5kQ29tbVwiO1xuICAgIExvZ2dpbmdDb21tb24uQVNTRVJUX0ZBSUxVUkVfTUVTU0FHRV9UWVBFID0gXCJyZXBvcnRBc3NlcnRGYWlsdXJlXCI7XG4gICAgTG9nZ2luZ0NvbW1vbi5GTFVTSF9MT0dTX01FU1NBR0VfVFlQRSA9IFwiZmx1c2hMb2dFbnRyaWVzXCI7XG4gICAgcmV0dXJuIExvZ2dpbmdDb21tb247XG59KCkpO1xuZXhwb3J0cy5Mb2dnaW5nQ29tbW9uID0gTG9nZ2luZ0NvbW1vbjtcbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5tbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yID0gZXhwb3J0cy50cnlKc29uU3RyaW5naWZ5ID0gZXhwb3J0cy5TaGltQ29tbW9uID0gZXhwb3J0cy5QbGF5YmFja1BhdGhNb2RlID0gZXhwb3J0cy5nZXRTaGltT2JqZWN0ID0gZXhwb3J0cy5zaGltUHJveHlQcm9wZXJ0eU5hbWUgPSBleHBvcnRzLnNoaW1Qcm9wZXJ0eU5hbWUgPSBleHBvcnRzLlNvdXJjZUJ1ZmZlckxpc3RQcm94eSA9IGV4cG9ydHMuVGV4dFRyYWNrTGlzdFByb3h5ID0gZXhwb3J0cy5jcmVhdGVUaW1lUmFuZ2VzID0gdm9pZCAwO1xudmFyIGxvZ2dpbmdDb21tb25fMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdDb21tb25cIik7XG5mdW5jdGlvbiBjcmVhdGVUaW1lUmFuZ2VzKHRpbWVSYW5nZXNBcnJheSkge1xuICAgIC8vIENsZWFuIHVwIHRoZSB0aW1lUmFuZ2VzQXJyYXlcbiAgICB2YXIgdGltZVJhbmdlcyA9IHRpbWVSYW5nZXNBcnJheTtcbiAgICBpZiAodGltZVJhbmdlcy5mb3JFYWNoID09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aW1lUmFuZ2VzID0gbmV3IEFycmF5KCk7XG4gICAgfVxuICAgIHRpbWVSYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBhcnJheSkge1xuICAgICAgICBpZiAodmFsdWVbXCJzdGFydFwiXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBhcnJheVtpbmRleF1bXCJzdGFydFwiXSA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZVtcImVuZFwiXSA9PSBudWxsKSB7XG4gICAgICAgICAgICBhcnJheVtpbmRleF1bXCJlbmRcIl0gPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHZhciByZXQgPSBPYmplY3QuY3JlYXRlKFRpbWVSYW5nZXMucHJvdG90eXBlKTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0LCAnbGVuZ3RoJywge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRpbWVSYW5nZXMubGVuZ3RoOyB9XG4gICAgfSk7XG4gICAgcmV0LnN0YXJ0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB0aW1lUmFuZ2VzW2luZGV4XS5zdGFydDtcbiAgICB9O1xuICAgIHJldC5lbmQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRpbWVSYW5nZXNbaW5kZXhdLmVuZDtcbiAgICB9O1xuICAgIHJldHVybiByZXQ7XG59XG5leHBvcnRzLmNyZWF0ZVRpbWVSYW5nZXMgPSBjcmVhdGVUaW1lUmFuZ2VzO1xudmFyIFRleHRUcmFja0xpc3RQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0VHJhY2tMaXN0UHJveHkoKSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgVGV4dFRyYWNrTGlzdFByb3h5LnByb3RvdHlwZS5nZXRUcmFja0J5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgVGV4dFRyYWNrTGlzdFByb3h5LnByb3RvdHlwZS5pdGVtID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG4gICAgVGV4dFRyYWNrTGlzdFByb3h5LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG4gICAgVGV4dFRyYWNrTGlzdFByb3h5LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgIH07XG4gICAgVGV4dFRyYWNrTGlzdFByb3h5LnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9O1xuICAgIFRleHRUcmFja0xpc3RQcm94eS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0VHJhY2tMaXN0UHJveHk7XG59KCkpO1xuZXhwb3J0cy5UZXh0VHJhY2tMaXN0UHJveHkgPSBUZXh0VHJhY2tMaXN0UHJveHk7XG52YXIgU291cmNlQnVmZmVyTGlzdFByb3h5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvdXJjZUJ1ZmZlckxpc3RQcm94eShwYXJlbnRNZWRpYVNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLnBhcmVudE1lZGlhU291cmNlID0gcGFyZW50TWVkaWFTb3VyY2U7XG4gICAgICAgIFNvdXJjZUJ1ZmZlckxpc3RQcm94eS5ldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgLy8gaW1wbGVtZW50YXRpb24gYmFzZWQgb24gb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UgZnJvbSBodHRwczovL3dlYnJ0Yy5naXRodWIuaW8vYWRhcHRlci9hZGFwdGVyLWxhdGVzdC5qc1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gJ19vbicgKyBldmVudE5hbWUgKyAnZXZlbnRIYW5kbGVyJztcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ29uJyArIGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1twcm9wTmFtZV0gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzW3Byb3BOYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpc1twcm9wTmFtZV0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXNbcHJvcE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1twcm9wTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXNbcHJvcE5hbWVdLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgU291cmNlQnVmZmVyTGlzdFByb3h5LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyTGlzdFByb3h5OjphZGRFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50TGlzdGVuZXJzLmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQodHlwZSwgbmV3IEFycmF5KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KHR5cGUpLnB1c2gobGlzdGVuZXIpO1xuICAgICAgICB0aGlzLnBhcmVudE1lZGlhU291cmNlLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyTGlzdFByb3h5LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyTGlzdFByb3h5OjpyZW1vdmVFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdmFyIGV2ZW50TGlzdGVuZXJMaXN0ID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQodHlwZSk7XG4gICAgICAgIGlmIChldmVudExpc3RlbmVyTGlzdCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBsaXN0ZW5lckluZGV4ID0gZXZlbnRMaXN0ZW5lckxpc3QuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXJJbmRleCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBldmVudExpc3RlbmVyTGlzdC5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXJlbnRNZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlckxpc3RQcm94eS5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJMaXN0UHJveHk6Oml0ZXJhdG9yXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2VCdWZmZXJzLnZhbHVlcygpO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyTGlzdFByb3h5LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyTGlzdFByb3h5OjpkaXNwYXRjaEV2ZW50IC0gZXZlbnQgdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgdmFyIGV2ZW50TGlzdGVuZXJMaXN0ID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnQudHlwZSk7XG4gICAgICAgIHZhciBldmVudENhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciB0aGlzQnVmZmVyTGlzdCA9IHRoaXM7XG4gICAgICAgIGlmIChldmVudExpc3RlbmVyTGlzdCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV2ZW50TGlzdGVuZXJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAobGlzdGVuZXIuaGFuZGxlRXZlbnQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2FuY2VsZWQgPSAhbGlzdGVuZXIuaGFuZGxlRXZlbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ3RhcmdldCcsIHsgdmFsdWU6IHRoaXNCdWZmZXJMaXN0IH0pO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICdjdXJyZW50VGFyZ2V0JywgeyB2YWx1ZTogdGhpc0J1ZmZlckxpc3QgfSk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2FuY2VsZWQgPSAhbGlzdGVuZXIuYXBwbHkodGhpc0J1ZmZlckxpc3QsIFtldmVudF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGV2ZW50Q2FuY2VsZWQgPSBldmVudENhbmNlbGVkICYmIGV2ZW50LmNhbmNlbGFibGU7XG4gICAgICAgIHJldHVybiAhZXZlbnRDYW5jZWxlZDtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlckxpc3RQcm94eS5wcm90b3R5cGUuYWRkU291cmNlQnVmZmVyID0gZnVuY3Rpb24gKHNvdXJjZUJ1ZmZlcikge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlckxpc3RQcm94eTo6YWRkU291cmNlQnVmZmVyXCIpO1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMucHVzaChzb3VyY2VCdWZmZXIpO1xuICAgICAgICB0aGlzLnVwZGF0ZVNvdXJjZUJ1ZmZlcnMoKTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnYWRkc291cmNlYnVmZmVyJykpO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyTGlzdFByb3h5LnByb3RvdHlwZS5yZW1vdmVTb3VyY2VCdWZmZXIgPSBmdW5jdGlvbiAoc291cmNlQnVmZmVyKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyTGlzdFByb3h5OjpyZW1vdmVTb3VyY2VCdWZmZXJcIik7XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXJJbmRleCA9IHRoaXMuc291cmNlQnVmZmVycy5pbmRleE9mKHNvdXJjZUJ1ZmZlcik7XG4gICAgICAgIGlmIChzb3VyY2VCdWZmZXJJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMuc3BsaWNlKHNvdXJjZUJ1ZmZlckluZGV4LCAxKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU291cmNlQnVmZmVycygpO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncmVtb3Zlc291cmNlYnVmZmVyJykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJMaXN0UHJveHkucHJvdG90eXBlLnNldFNvdXJjZUJ1ZmZlcnMgPSBmdW5jdGlvbiAoc291cmNlQnVmZmVycykge1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlcnMgPSBzb3VyY2VCdWZmZXJzO1xuICAgICAgICB0aGlzLnVwZGF0ZVNvdXJjZUJ1ZmZlcnMoKTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJMaXN0UHJveHk6OnNldFNvdXJjZUJ1ZmZlcnMgLSB0aGlzLmxlbmd0aD1cIiArIHRoaXMubGVuZ3RoKTtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlckxpc3RQcm94eS5wcm90b3R5cGUudXBkYXRlU291cmNlQnVmZmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXJzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgIF90aGlzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5sZW5ndGggPSB0aGlzLnNvdXJjZUJ1ZmZlcnMubGVuZ3RoO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyTGlzdFByb3h5LmV2ZW50SGFuZGxlcnMgPSBbJ2FkZHNvdXJjZWJ1ZmZlcicsICdyZW1vdmVzb3VyY2VidWZmZXInXTtcbiAgICByZXR1cm4gU291cmNlQnVmZmVyTGlzdFByb3h5O1xufSgpKTtcbmV4cG9ydHMuU291cmNlQnVmZmVyTGlzdFByb3h5ID0gU291cmNlQnVmZmVyTGlzdFByb3h5O1xuZXhwb3J0cy5zaGltUHJvcGVydHlOYW1lID0gJ01TUkRDX01NUl9TaGltJztcbmV4cG9ydHMuc2hpbVByb3h5UHJvcGVydHlOYW1lID0gZXhwb3J0cy5zaGltUHJvcGVydHlOYW1lICsgXCJfUHJveHlcIjtcbmZ1bmN0aW9uIGdldFNoaW1PYmplY3Qob2JqKSB7XG4gICAgaWYgKG9iaiAhPSB1bmRlZmluZWQgJiYgb2JqW2V4cG9ydHMuc2hpbVByb3BlcnR5TmFtZV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBvYmpbZXhwb3J0cy5zaGltUHJvcGVydHlOYW1lXTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuZ2V0U2hpbU9iamVjdCA9IGdldFNoaW1PYmplY3Q7XG52YXIgUGxheWJhY2tQYXRoTW9kZTtcbihmdW5jdGlvbiAoUGxheWJhY2tQYXRoTW9kZSkge1xuICAgIFBsYXliYWNrUGF0aE1vZGVbUGxheWJhY2tQYXRoTW9kZVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIFBsYXliYWNrUGF0aE1vZGVbUGxheWJhY2tQYXRoTW9kZVtcIkxPQ0FMXCJdID0gMV0gPSBcIkxPQ0FMXCI7XG4gICAgUGxheWJhY2tQYXRoTW9kZVtQbGF5YmFja1BhdGhNb2RlW1wiUkVNT1RFXCJdID0gMl0gPSBcIlJFTU9URVwiO1xufSkoUGxheWJhY2tQYXRoTW9kZSA9IGV4cG9ydHMuUGxheWJhY2tQYXRoTW9kZSB8fCAoZXhwb3J0cy5QbGF5YmFja1BhdGhNb2RlID0ge30pKTtcbnZhciBTaGltQ29tbW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNoaW1Db21tb24oKSB7XG4gICAgfVxuICAgIFNoaW1Db21tb24uaW5pdGlhbFBsYXliYWNrUGF0aE1vZGUgPSBQbGF5YmFja1BhdGhNb2RlLlVOS05PV047XG4gICAgcmV0dXJuIFNoaW1Db21tb247XG59KCkpO1xuZXhwb3J0cy5TaGltQ29tbW9uID0gU2hpbUNvbW1vbjtcbmZ1bmN0aW9uIHRyeUpzb25TdHJpbmdpZnkob2JqKSB7XG4gICAgdmFyIHJldCA9IFwiPGZhaWxlZCBKU09OLnN0cmluZ2lmeSBwYXJzZT5cIjtcbiAgICB0cnkge1xuICAgICAgICByZXQgPSBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcInRyeUpzb25TdHJpbmdpZnkgZmFpbGVkIGZvciBvYmo9XCIgKyBvYmopO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0cy50cnlKc29uU3RyaW5naWZ5ID0gdHJ5SnNvblN0cmluZ2lmeTtcbi8vIFRoaXMgZnVuY3Rpb24gbWFwcyBhbiBlcnJvciBjb2RlIHRoYXQgd2FzIHJlY2VpdmVkIGZyb20gdGhlIE1zUkRDIGNsaWVudCB0byBhIHdlbGwta25vd25cbi8vIGJyb3dzZXIgZXJyb3IgY29kZS4gXG5mdW5jdGlvbiBtbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yKHN0YXR1c19jb2RlKSB7XG4gICAgLy8gVGhlICdtZXNzYWdlJyBwYXJhbWV0ZXIgaXMgYSBmcmVlLWZvcm0gdGV4dCBzdHJpbmcgdGhhdCB3ZSBjYW4gY2hvb3NlIGFyYml0cmFyaWx5LlxuICAgIHZhciBtZXNzYWdlID0gXCJUaGUgb3BlcmF0aW9uIGZhaWxlZCBmb3IgYW4gdW5rbm93biByZWFzb25cIjtcbiAgICAvLyBUaGUgJ25hbWUnIHBhcmFtZXRlciBpcyBhIHdlbGwta25vd24gc3RyaW5nIHRoYXQgaXMgZG9jdW1lbnRlZCBhbmQgdGhlIGJyb3dzZXIgd2lsbFxuICAgIC8vIG1hcCBpdCB0byBhIG51bWVyaWNhbCBjb2RlLiBcbiAgICB2YXIgbmFtZSA9IFwiVW5rbm93bkVycm9yXCI7XG4gICAgc3dpdGNoIChzdGF0dXNfY29kZSkge1xuICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiVGhlIG9iamVjdCBjYW5ub3QgYmUgZm91bmRcIjtcbiAgICAgICAgICAgIG5hbWUgPSBcIk5vdEZvdW5kRXJyb3JcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC0yOlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiVGhlIG9wZXJhdGlvbiBpcyBub3Qgc3VwcG9ydGVkXCI7XG4gICAgICAgICAgICBuYW1lID0gXCJOb3RTdXBwb3J0ZWRFcnJvclwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLTM6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJUaGUgb2JqZWN0IGlzIGluIGFuIGludmFsaWQgc3RhdGVcIjtcbiAgICAgICAgICAgIG5hbWUgPSBcIkludmFsaWRTdGF0ZUVycm9yXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAtNDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlRoZSBzdHJpbmcgZGlkIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgcGF0dGVyblwiO1xuICAgICAgICAgICAgbmFtZSA9IFwiU3ludGF4RXJyb3JcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC01OlxuICAgICAgICAgICAgbWVzc2FnZSA9IFwiVGhlIG9iamVjdCBjYW5ub3QgYmUgbW9kaWZpZWQgaW4gdGhpcyB3YXlcIjtcbiAgICAgICAgICAgIG5hbWUgPSBcIkludmFsaWRNb2RpZmljYXRpb25FcnJvclwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgLTY6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJUaGUgb2JqZWN0IGRvZXMgbm90IHN1cHBvcnQgdGhlIG9wZXJhdGlvbiBvciBhcmd1bWVudFwiO1xuICAgICAgICAgICAgbmFtZSA9IFwiSW52YWxpZEFjY2Vzc0Vycm9yXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAtNzpcbiAgICAgICAgICAgIC8vIEFjY29yZGluZyB0byB0aGUgc3BlYywgVHlwZU1pc01hdGNoRXJyb3IgaXMgZGVwcmVjYXRlZCBhbmQgdGhlIGdlbmVyaWMgSlMgVHlwZUVycm9yIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gICAgICAgICAgICByZXR1cm4gVHlwZUVycm9yKFwiVGhlIHR5cGUgb2YgdGhlIG9iamVjdCBkb2VzIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgdHlwZVwiKTtcbiAgICAgICAgY2FzZSAtODpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIkEgbmV0d29yayBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgbmFtZSA9IFwiTmV0d29ya0Vycm9yXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAtOTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWRcIjtcbiAgICAgICAgICAgIG5hbWUgPSBcIkFib3J0RXJyb3JcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC0xMDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlRoZSBvcGVyYXRpb24gdGltZWQgb3V0XCI7XG4gICAgICAgICAgICBuYW1lID0gXCJUaW1lb3V0RXJyb3JcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC0xMTpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlRoZSBpbnB1dC9vdXRwdXQgcmVhZCBvcGVyYXRpb24gZmFpbGVkXCI7XG4gICAgICAgICAgICBuYW1lID0gXCJOb3RSZWFkYWJsZUVycm9yXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gLTEyIChVbmtvd24gRXJyb3IpIGlzIHRoZSBkZWZhdWx0LlxuICAgICAgICBjYXNlIC0xMzpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlRoZSBjb25zdHJhaW50IHdhcyBub3Qgc2F0aXNmaWVkXCI7XG4gICAgICAgICAgICBuYW1lID0gXCJDb25zdHJhaW50RXJyb3JcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC0xNDpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIlByb3ZpZGVkIGRhdGEgaXMgaW5hZGVxdWF0ZVwiO1xuICAgICAgICAgICAgbmFtZSA9IFwiRGF0YUVycm9yXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAtMTU6XG4gICAgICAgICAgICBtZXNzYWdlID0gXCJUaGUgb3BlcmF0aW9uIGZhaWxlZCBmb3IgYW4gb3BlcmF0aW9uLXNwZWNpZmljIHJlYXNvblwiO1xuICAgICAgICAgICAgbmFtZSA9IFwiT3BlcmF0aW9uRXJyb3JcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIC0xNjpcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIk5vdCBhbGxvd2VkIGJ5IHRoZSB1c2VyIGFnZW50XCI7XG4gICAgICAgICAgICBuYW1lID0gXCJOb3RBbGxvd2VkRXJyb3JcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBEZWZhdWx0IGlzIHRvIHJldHVybiBVbmtub3duRXJyb3JcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBET01FeGNlcHRpb24obWVzc2FnZSwgbmFtZSk7XG59XG5leHBvcnRzLm1tcldlYlJ0Y1N0YXR1c1RvRE9NRXJyb3IgPSBtbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkljb25TdGF0dXMgPSBleHBvcnRzLlByb3h5Q29tbW9uID0gdm9pZCAwO1xudmFyIFByb3h5Q29tbW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFByb3h5Q29tbW9uKCkge1xuICAgIH1cbiAgICBQcm94eUNvbW1vbi5QUk9YWV9SRUNFSVZFX01FU1NBR0VfRVZFTlQgPSBcIk1zUmRjTW1yUHJveHlfTWVzc2FnZVJlY2VpdmVkXCI7XG4gICAgUHJveHlDb21tb24uUFJPWFlfU0VORF9NRVNTQUdFX0VWRU5UID0gXCJNc1JkY01tclByb3h5X1NlbmRNZXNzYWdlXCI7XG4gICAgUHJveHlDb21tb24uUFJPWFlfU0VORF9NTVJfRU5HQUdFRCA9IFwiTXNSZGNNbXJQcm94eV9NbXJFbmdhZ2VNZXNzYWdlXCI7XG4gICAgUHJveHlDb21tb24uUFJPWFlfU0VORF9TQU1FX09SSUdJTl9QQVJFTlRfSUQgPSBcIk1zUmRjTW1yUHJveHlfU2FtZU9yaWdpblBhcmVudFwiO1xuICAgIFByb3h5Q29tbW9uLkNPTlRFTlRfQkdfUFJPWFlfQ09OTkVDVElPTl9OQU1FID0gXCJNc1JkY01tckJhY2tncm91bmRDb21tXCI7XG4gICAgUHJveHlDb21tb24uQ09OVEVOVF9CR19DTElFTlRfQ09OTkVDVEVEX01FU1NBR0VfVFlQRSA9IFwiTXNSZGNNbXJCYWNrZ3JvdW5kQ2xpZW50Q29ubmVjdGVkXCI7XG4gICAgUHJveHlDb21tb24uQ09OVEVOVF9CR19NTVJfQUNUSVZFX01FU1NBR0VfVFlQRSA9IFwiTXNSZGNNbXJBY3RpdmVcIjtcbiAgICBQcm94eUNvbW1vbi5DT05URU5UX0JHX1NBTUVfT1JJR0lOX1BBUkVOVF9NRVNTQUdFX1RZUEUgPSBcIk1zUmRjTW1yU2FtZU9yaWdpblBhcmVudFwiO1xuICAgIFByb3h5Q29tbW9uLkNPTlRFTlRfQkdfUkVDT05ORUNUX01FU1NBR0VfVFlQRSA9IFwiTXNSZGNNbXJSZWNvbm5lY3RcIjtcbiAgICBQcm94eUNvbW1vbi5OQVRJVkVfTUVTU0FHSU5HX0FQUF9OQU1FID0gXCJjb20ubWljcm9zb2Z0Lm1zcmRjbW1ybmF0aXZlaG9zdFwiO1xuICAgIFByb3h5Q29tbW9uLkJHX1BST1hZX0NPTlZFUlRfVEFCX1RJVExFX1RPX1dJTkRPVyA9IFwiX19CR19Db252ZXJ0VGFiVGl0bGVUb1dpbmRvd0ZsYWdfX1wiO1xuICAgIFByb3h5Q29tbW9uLlBPUFVQX0JHX1BST1hZX0NPTk5FQ1RJT05fTkFNRSA9IFwiTXNSZGNNbXJQcm94eUJnQ29tbVwiO1xuICAgIFByb3h5Q29tbW9uLkJHX0hPU1RfU1RBUlRfVFJBQ0lOR19NRVNTQUdFX1RZUEUgPSBcInN0YXJ0RnVsbFRyYWNpbmdcIjtcbiAgICBQcm94eUNvbW1vbi5CR19IT1NUX1NUT1BfVFJBQ0lOR19NRVNTQUdFX1RZUEUgPSBcInN0b3BGdWxsVHJhY2luZ1wiO1xuICAgIFByb3h5Q29tbW9uLkJHX0hPU1RfRkxVU0hfTE9HU19NRVNTQUdFX1RZUEUgPSBcImZsdXNoTG9nc1wiO1xuICAgIFByb3h5Q29tbW9uLkJHX0hPU1RfQVNTRVJUX0ZBSUxVUkVfTUVTU0FHRV9UWVBFID0gXCJyZXBvcnRBc3NlcnRGYWlsdXJlXCI7XG4gICAgUHJveHlDb21tb24uSE9TVF9CR19UUkFDSU5HX1NUQVJURURfTUVTU0FHRV9UWVBFID0gXCJvblRyYWNpbmdTdGFydGVkXCI7XG4gICAgUHJveHlDb21tb24uSE9TVF9CR19UUkFDSU5HX1NUT1BQRURfTUVTU0FHRV9UWVBFID0gXCJvblRyYWNpbmdTdG9wcGVkXCI7XG4gICAgUHJveHlDb21tb24uSE9TVF9CR19MT0dTX0ZMVVNIX01FU1NBR0VfVFlQRSA9IFwib25GbHVzaExvZ3NcIjtcbiAgICByZXR1cm4gUHJveHlDb21tb247XG59KCkpO1xuZXhwb3J0cy5Qcm94eUNvbW1vbiA9IFByb3h5Q29tbW9uO1xuO1xudmFyIEljb25TdGF0dXM7XG4oZnVuY3Rpb24gKEljb25TdGF0dXMpIHtcbiAgICBJY29uU3RhdHVzW0ljb25TdGF0dXNbXCJOb3RMb2FkZWRcIl0gPSAwXSA9IFwiTm90TG9hZGVkXCI7XG4gICAgSWNvblN0YXR1c1tJY29uU3RhdHVzW1wiTG9hZEZhaWxlZFwiXSA9IDFdID0gXCJMb2FkRmFpbGVkXCI7XG4gICAgSWNvblN0YXR1c1tJY29uU3RhdHVzW1wiTG9hZGVkXCJdID0gMl0gPSBcIkxvYWRlZFwiO1xuICAgIEljb25TdGF0dXNbSWNvblN0YXR1c1tcIlZpZGVvUmVkaXJlY3RpbmdcIl0gPSAzXSA9IFwiVmlkZW9SZWRpcmVjdGluZ1wiO1xuICAgIEljb25TdGF0dXNbSWNvblN0YXR1c1tcIkNhbGxSZWRpcmVjdGluZ1wiXSA9IDRdID0gXCJDYWxsUmVkaXJlY3RpbmdcIjtcbn0pKEljb25TdGF0dXMgPSBleHBvcnRzLkljb25TdGF0dXMgfHwgKGV4cG9ydHMuSWNvblN0YXR1cyA9IHt9KSk7XG47XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuTG9jYWxpemVkU3RyaW5nSGFuZGxlciA9IHZvaWQgMDtcbnZhciBsb2dnaW5nQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nQ29tbW9uXCIpO1xudmFyIGRlZmF1bHRTdHJpbmdzT2JqZWN0ID0gbmV3IE9iamVjdCgpO1xuZGVmYXVsdFN0cmluZ3NPYmplY3RbJ2Rpc2Nvbm5lY3RlZE1lc3NhZ2UnXSA9IFwiUGxlYXNlIHJlZnJlc2ggcGFnZSB0byByZXN1bWUgdmlkZW8gcGxheWJhY2tcIjtcbmRlZmF1bHRTdHJpbmdzT2JqZWN0WydyZWRpcmVjdGVkTWVzc2FnZSddID0gXCJWaWRlbyBpcyBiZWluZyByZWRpcmVjdGVkLi4uXCI7XG5kZWZhdWx0U3RyaW5nc09iamVjdFsncmVkaXJlY3Rpb25GYWlsZWRNZXNzYWdlJ10gPSBcIlZpZGVvIHJlZGlyZWN0aW9uIGZhaWxlZFwiO1xudmFyIGxvY2FsaXplZFN0cmluZ3NPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG5PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhkZWZhdWx0U3RyaW5nc09iamVjdCkuZm9yRWFjaChmdW5jdGlvbiAodmFsKSB7XG4gICAgbG9jYWxpemVkU3RyaW5nc09iamVjdFt2YWxdID0gZGVmYXVsdFN0cmluZ3NPYmplY3RbdmFsXTtcbn0pO1xudmFyIFBST1hZX0xPQ0FMSVpFRF9TVFJJTkdTX0VWRU5UID0gXCJNc1JkY01tclByb3h5X0xvY2FsaXplZFN0cmluZ3NcIjtcbnZhciBMb2NhbGl6ZWRTdHJpbmdIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsaXplZFN0cmluZ0hhbmRsZXIoKSB7XG4gICAgfVxuICAgIC8vIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBmcm9tIHRoZSBjb250ZW50IHBhZ2UgdGhhdCBoYXMgYWNjZXNzIHRvIGNocm9tZS5pMThuXG4gICAgTG9jYWxpemVkU3RyaW5nSGFuZGxlci5kaXNwYXRjaExvY2FsaXplZFN0cmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTG9jYWxpemVkU3RyaW5nSGFuZGxlcjo6ZGlzcGF0Y2hMb2NhbGl6ZWRTdHJpbmdzXCIpO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IG5ldyBPYmplY3QoKTtcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZGVmYXVsdFN0cmluZ3NPYmplY3QpLmZvckVhY2goZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgbWVzc2FnZVt2YWxdID0gY2hyb21lLmkxOG4uZ2V0TWVzc2FnZSh2YWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoUFJPWFlfTE9DQUxJWkVEX1NUUklOR1NfRVZFTlQsIHsgZGV0YWlsOiBtZXNzYWdlIH0pKTtcbiAgICB9O1xuICAgIC8vIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBmcm9tIHRoZSBpbmplY3RlZCBqYXZhc2NyaXB0LCB0aGF0IGRvZXMgbm90IGhhdmUgYWNjZXNzIHRvIGNocm9tZS5pMThuXG4gICAgTG9jYWxpemVkU3RyaW5nSGFuZGxlci5saXN0ZW5Gb3JMb2NhbGl6ZWRTdHJpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkxvY2FsaXplZFN0cmluZ0hhbmRsZXI6Omxpc3RlbkZvckxvY2FsaXplZFN0cmluZ3NcIik7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoUFJPWFlfTE9DQUxJWkVEX1NUUklOR1NfRVZFTlQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGUuZGV0YWlsO1xuICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobWVzc2FnZSkuZm9yRWFjaChmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgbG9jYWxpemVkU3RyaW5nc09iamVjdFt2YWxdID0gbWVzc2FnZVt2YWxdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTG9jYWxpemVkU3RyaW5nSGFuZGxlci5nZXRMb2NhbGl6ZWRTdHJpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9jYWxpemVkU3RyaW5nc09iamVjdDtcbiAgICB9O1xuICAgIHJldHVybiBMb2NhbGl6ZWRTdHJpbmdIYW5kbGVyO1xufSgpKTtcbmV4cG9ydHMuTG9jYWxpemVkU3RyaW5nSGFuZGxlciA9IExvY2FsaXplZFN0cmluZ0hhbmRsZXI7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmFsbGJhY2tPYmplY3RNYW5hZ2VyID0gZXhwb3J0cy5RdWV1ZVR5cGUgPSB2b2lkIDA7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBRdWV1ZVR5cGU7XG4oZnVuY3Rpb24gKFF1ZXVlVHlwZSkge1xuICAgIFF1ZXVlVHlwZVtRdWV1ZVR5cGVbXCJGQUxMQkFDS1wiXSA9IDBdID0gXCJGQUxMQkFDS1wiO1xuICAgIFF1ZXVlVHlwZVtRdWV1ZVR5cGVbXCJQT1NURkFMTEJBQ0tcIl0gPSAxXSA9IFwiUE9TVEZBTExCQUNLXCI7XG59KShRdWV1ZVR5cGUgPSBleHBvcnRzLlF1ZXVlVHlwZSB8fCAoZXhwb3J0cy5RdWV1ZVR5cGUgPSB7fSkpO1xudmFyIEZhbGxiYWNrT2JqZWN0TWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBGYWxsYmFja09iamVjdE1hbmFnZXIoKSB7XG4gICAgICAgIHRoaXMubmV4dExvY2FsT2JqZWN0SWQgPSAwO1xuICAgICAgICB0aGlzLnVybFRvSWRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudFRvU291cmNlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmlkVG9NZWRpYVNvdXJjZU1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5mYWxsYmFja0Z1bmN0aW9uUXVldWUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5wb3N0RmFsbGJhY2tGdW5jdGlvblF1ZXVlID0gbmV3IEFycmF5KCk7XG4gICAgfVxuICAgIEZhbGxiYWNrT2JqZWN0TWFuYWdlci5wcm90b3R5cGUuYWRkRmFsbGJhY2tWaWRlb0VsZW1lbnQgPSBmdW5jdGlvbiAodmlkZW9FbGVtZW50U2hpbSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkZhbGxiYWNrT2JqZWN0TWFuYWdlcjo6YWRkRmFsbGJhY2tWaWRlb0VsZW1lbnQgLSBpZDogXCIgKyB0aGlzLm5leHRMb2NhbE9iamVjdElkKTtcbiAgICAgICAgdmlkZW9FbGVtZW50U2hpbS5zZXRGYWxsYmFja09iamVjdElkKHRoaXMubmV4dExvY2FsT2JqZWN0SWQpO1xuICAgICAgICB0aGlzLm5leHRMb2NhbE9iamVjdElkKys7XG4gICAgfTtcbiAgICBGYWxsYmFja09iamVjdE1hbmFnZXIucHJvdG90eXBlLmFkZEZhbGxiYWNrTWVkaWFTb3VyY2UgPSBmdW5jdGlvbiAobWVkaWFTb3VyY2VTaGltLCBibG9iVXJsKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiRmFsbGJhY2tPYmplY3RNYW5hZ2VyOjphZGRGYWxsYmFja01lZGlhU291cmNlIC0gaWQ6IFwiICsgdGhpcy5uZXh0TG9jYWxPYmplY3RJZCArIFwiLCB1cmw6IFwiICsgYmxvYlVybCk7XG4gICAgICAgIG1lZGlhU291cmNlU2hpbS5zZXRGYWxsYmFja09iamVjdElkKHRoaXMubmV4dExvY2FsT2JqZWN0SWQpO1xuICAgICAgICB0aGlzLnVybFRvSWRNYXAuc2V0KGJsb2JVcmwsIHRoaXMubmV4dExvY2FsT2JqZWN0SWQpO1xuICAgICAgICB0aGlzLmlkVG9NZWRpYVNvdXJjZU1hcC5zZXQodGhpcy5uZXh0TG9jYWxPYmplY3RJZCwgbWVkaWFTb3VyY2VTaGltKTtcbiAgICAgICAgdGhpcy5uZXh0TG9jYWxPYmplY3RJZCsrO1xuICAgIH07XG4gICAgRmFsbGJhY2tPYmplY3RNYW5hZ2VyLnByb3RvdHlwZS5hZGRFbGVtZW50VG9Tb3VyY2VBc3NvY2lhdGlvbiA9IGZ1bmN0aW9uIChpZCwgYmxvYlVybCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChpZCA+PSAwICYmIGlkIDwgdGhpcy5uZXh0TG9jYWxPYmplY3RJZCk7XG4gICAgICAgIHZhciBzb3VyY2VJZCA9IHRoaXMudXJsVG9JZE1hcC5nZXQoYmxvYlVybCk7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiRmFsbGJhY2tPYmplY3RNYW5hZ2VyOjphZGRFbGVtZW50VG9Tb3VyY2VBc3NvY2lhdGlvbiAtIGlkOiBcIiArIGlkICsgXCIsIHVybDogXCIgKyBibG9iVXJsICsgXCIsIHNvdXJjZUlkOiBcIiArIHNvdXJjZUlkKTtcbiAgICAgICAgaWYgKHNvdXJjZUlkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJGYWxsYmFja09iamVjdE1hbmFnZXI6OmFkZEVsZW1lbnRUb1NvdXJjZUFzc29jaWF0aW9uIC0gbWVkaWFTb3VyY2UgZm9yIHVybD1cIiArIGJsb2JVcmwgKyBcIiBkb2VzIG5vdCBleGlzdCB5ZXRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50VG9Tb3VyY2VNYXAuc2V0KGlkLCBzb3VyY2VJZCk7XG4gICAgfTtcbiAgICBGYWxsYmFja09iamVjdE1hbmFnZXIucHJvdG90eXBlLnF1ZXVlRmFsbGJhY2tGdW5jdGlvbiA9IGZ1bmN0aW9uIChpZCwgZnVuYywgcXVldWVUeXBlKSB7XG4gICAgICAgIGlmIChxdWV1ZVR5cGUgPT09IHZvaWQgMCkgeyBxdWV1ZVR5cGUgPSBRdWV1ZVR5cGUuRkFMTEJBQ0s7IH1cbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoaWQgPj0gMCAmJiBpZCA8IHRoaXMubmV4dExvY2FsT2JqZWN0SWQpO1xuICAgICAgICBzd2l0Y2ggKHF1ZXVlVHlwZSkge1xuICAgICAgICAgICAgY2FzZSBRdWV1ZVR5cGUuRkFMTEJBQ0s6XG4gICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja0Z1bmN0aW9uUXVldWUucHVzaCh7ICdpZCc6IGlkLCAnZnVuY3Rpb24nOiBmdW5jIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBRdWV1ZVR5cGUuUE9TVEZBTExCQUNLOlxuICAgICAgICAgICAgICAgIHRoaXMucG9zdEZhbGxiYWNrRnVuY3Rpb25RdWV1ZS5wdXNoKHsgJ2lkJzogaWQsICdmdW5jdGlvbic6IGZ1bmMgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEZhbGxiYWNrT2JqZWN0TWFuYWdlci5wcm90b3R5cGUuc3dpdGNoVG9Mb2NhbCA9IGZ1bmN0aW9uIChlbGVtZW50SWQpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJGYWxsYmFja09iamVjdE1hbmFnZXI6OnN3aXRjaFRvTG9jYWwgLSBpZDogXCIgKyBlbGVtZW50SWQpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChlbGVtZW50SWQgPj0gMCAmJiBlbGVtZW50SWQgPCB0aGlzLm5leHRMb2NhbE9iamVjdElkKTtcbiAgICAgICAgLy8gc291cmNlSWQgbWF5IGJlIHVuZGVmaW5lZCwgdmlkZW9lbGVtZW50IG1heSBkZWNpZGUgc3dpdGNoIHRvIGxvY2FsIHdpdGhvdXQgbWVkaWFzb3VyY2VcbiAgICAgICAgdmFyIHNvdXJjZUlkID0gdGhpcy5lbGVtZW50VG9Tb3VyY2VNYXAuZ2V0KGVsZW1lbnRJZCk7XG4gICAgICAgIHRoaXMuZmFsbGJhY2tGdW5jdGlvblF1ZXVlID0gdGhpcy5maWx0ZXJBbmRFeGVjdXRlRnVuY3Rpb25RdWV1ZShlbGVtZW50SWQsIHNvdXJjZUlkLCB0aGlzLmZhbGxiYWNrRnVuY3Rpb25RdWV1ZSk7XG4gICAgICAgIGlmIChzb3VyY2VJZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBtZWRpYVNvdXJjZVNoaW0gPSB0aGlzLmlkVG9NZWRpYVNvdXJjZU1hcC5nZXQoc291cmNlSWQpO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobWVkaWFTb3VyY2VTaGltICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBtZWRpYVNvdXJjZVNoaW0uc3dpdGNoVG9Mb2NhbCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNvbWUgZnVuY3Rpb25zIG5lZWQgdG8gYmUgcnVuIGFmdGVyIGFsbCBvdGhlciBxdWV1ZWQgZnVuY3Rpb25zIGFyZSBjb21wbGV0ZWQuIEUuZy4gYWRkRXZlbnRMaXN0ZW5lci9yZW1vdmVFdmVudExpc3RlbmVyXG4gICAgICAgIHRoaXMucG9zdEZhbGxiYWNrRnVuY3Rpb25RdWV1ZSA9IHRoaXMuZmlsdGVyQW5kRXhlY3V0ZUZ1bmN0aW9uUXVldWUoZWxlbWVudElkLCBzb3VyY2VJZCwgdGhpcy5wb3N0RmFsbGJhY2tGdW5jdGlvblF1ZXVlKTtcbiAgICB9O1xuICAgIEZhbGxiYWNrT2JqZWN0TWFuYWdlci5wcm90b3R5cGUuc3dpdGNoVG9SZW1vdGUgPSBmdW5jdGlvbiAoZWxlbWVudElkKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiRmFsbGJhY2tPYmplY3RNYW5hZ2VyOjpzd2l0Y2hUb1JlbW90ZSAtIGlkOiBcIiArIGVsZW1lbnRJZCk7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKGVsZW1lbnRJZCA+PSAwICYmIGVsZW1lbnRJZCA8IHRoaXMubmV4dExvY2FsT2JqZWN0SWQpO1xuICAgICAgICAvLyBzb3VyY2VJZCBtYXkgYmUgdW5kZWZpbmVkLCB2aWRlb2VsZW1lbnQgbWlnaHQgaGF2ZSBzcmMgc2V0IGRpcmVjdGx5IHRvIGZpbGUgb3IgZGF0YVxuICAgICAgICB2YXIgc291cmNlSWQgPSB0aGlzLmVsZW1lbnRUb1NvdXJjZU1hcC5nZXQoZWxlbWVudElkKTtcbiAgICAgICAgdGhpcy5mYWxsYmFja0Z1bmN0aW9uUXVldWUgPSB0aGlzLmZpbHRlckZ1bmN0aW9uUXVldWUoZWxlbWVudElkLCBzb3VyY2VJZCwgdGhpcy5mYWxsYmFja0Z1bmN0aW9uUXVldWUpO1xuICAgICAgICBpZiAoc291cmNlSWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgbWVkaWFTb3VyY2VTaGltID0gdGhpcy5pZFRvTWVkaWFTb3VyY2VNYXAuZ2V0KHNvdXJjZUlkKTtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKG1lZGlhU291cmNlU2hpbSAhPSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgbWVkaWFTb3VyY2VTaGltLnN3aXRjaFRvUmVtb3RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3N0RmFsbGJhY2tGdW5jdGlvblF1ZXVlID0gdGhpcy5maWx0ZXJGdW5jdGlvblF1ZXVlKGVsZW1lbnRJZCwgc291cmNlSWQsIHRoaXMucG9zdEZhbGxiYWNrRnVuY3Rpb25RdWV1ZSk7XG4gICAgfTtcbiAgICBGYWxsYmFja09iamVjdE1hbmFnZXIucHJvdG90eXBlLmZpbHRlckFuZEV4ZWN1dGVGdW5jdGlvblF1ZXVlID0gZnVuY3Rpb24gKGVsZW1lbnRJZCwgc291cmNlSWQsIHF1ZXVlKSB7XG4gICAgICAgIHJldHVybiBxdWV1ZS5maWx0ZXIoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IGVbJ2lkJ107XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChpZCAhPSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdmFyIGZ1bmMgPSBlWydmdW5jdGlvbiddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoZnVuYyAhPSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgaWYgKGlkID09IGVsZW1lbnRJZCB8fCBpZCA9PSBzb3VyY2VJZCkge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBmdW5jdGlvbiBmb3IgYW4gb2JqZWN0IGZhbGxpbmcgYmFjaywgZXhlY3V0ZSBpdCBhbmQgdGhyb3cgb3V0IHRoaXMgaXRlbVxuICAgICAgICAgICAgICAgIGZ1bmMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBFbHNlLCB0aGlzIGlzIGEgZnVuY3Rpb24gZm9yIGFuIG9iamVjdCB0aGF0IGhhc24ndCBmYWxsZW4gYmFjayB5ZXQsIGtlZXAgdGhpcyBpdGVtIGluIHRoZSBuZXcgYXJyYXlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEZhbGxiYWNrT2JqZWN0TWFuYWdlci5wcm90b3R5cGUuZmlsdGVyRnVuY3Rpb25RdWV1ZSA9IGZ1bmN0aW9uIChlbGVtZW50SWQsIHNvdXJjZUlkLCBxdWV1ZSkge1xuICAgICAgICByZXR1cm4gcXVldWUuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSBlWydpZCddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoaWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBmdW5jID0gZVsnZnVuY3Rpb24nXTtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKGZ1bmMgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGlmIChpZCA9PSBlbGVtZW50SWQgfHwgaWQgPT0gc291cmNlSWQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgZnVuY3Rpb24gZm9yIHRoZSByZW1vdGUgb2JqZWN0LCB0aHJvdyBvdXQgdGhpcyBpdGVtXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRWxzZSwgdGhpcyBpcyBhIGZ1bmN0aW9uIGZvciBhbiBvYmplY3QgdGhhdCBoYXNuJ3QgZmFsbGVuIGJhY2sgeWV0LCBrZWVwIHRoaXMgaXRlbSBpbiB0aGUgbmV3IGFycmF5XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmFsbGJhY2tPYmplY3RNYW5hZ2VyO1xufSgpKTtcbmV4cG9ydHMuRmFsbGJhY2tPYmplY3RNYW5hZ2VyID0gRmFsbGJhY2tPYmplY3RNYW5hZ2VyO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1tckluamVjdGlvblBhcmFtZXRlckhhbmRsZXIgPSB2b2lkIDA7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBJTkpFQ1RFRF9TSElNX0lOUFVUX1BBUkFNRVRFUlNfRUxFTUVOVCA9IFwibW1yLWVuYWJsZWRcIjtcbnZhciBNbXJJbmplY3Rpb25QYXJhbWV0ZXJIYW5kbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1tckluamVjdGlvblBhcmFtZXRlckhhbmRsZXIoKSB7XG4gICAgfVxuICAgIE1tckluamVjdGlvblBhcmFtZXRlckhhbmRsZXIuc2V0UGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICB2YXIgaW5wdXRQYXJhbWV0ZXJzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoSU5KRUNURURfU0hJTV9JTlBVVF9QQVJBTUVURVJTX0VMRU1FTlQpO1xuICAgICAgICBpbnB1dFBhcmFtZXRlcnNFbGVtZW50LmlubmVyVGV4dCA9XG4gICAgICAgICAgICBwYXJhbXMuZW5hYmxlU2hpbW1pbmcudG9TdHJpbmcoKSArIFwiO1wiICtcbiAgICAgICAgICAgICAgICBwYXJhbXMub2NjbHVzaW9uU3VwcG9ydFZlcnNpb24udG9TdHJpbmcoKSArIFwiO1wiICtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlUGFzc3Rocm91Z2gudG9TdHJpbmcoKSArIFwiO1wiICtcbiAgICAgICAgICAgICAgICBwYXJhbXMud2VicnRjU3VwcG9ydFZlcnNpb24udG9TdHJpbmcoKSArIFwiO1wiICtcbiAgICAgICAgICAgICAgICBwYXJhbXMubW1yU3VwcG9ydFZlcnNpb24udG9TdHJpbmcoKSArIFwiO1wiICtcbiAgICAgICAgICAgICAgICBwYXJhbXMuY29udGVudFBvcnRJZC50b1N0cmluZygpICsgXCI7XCIgK1xuICAgICAgICAgICAgICAgIHBhcmFtcy5lbmFibGVWaWRlb1N0YXR1c092ZXJsYXkudG9TdHJpbmcoKSArIFwiO1wiICtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlVmlkZW9PdXRsaW5lcy50b1N0cmluZygpO1xuICAgICAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnByZXBlbmQoaW5wdXRQYXJhbWV0ZXJzRWxlbWVudCk7XG4gICAgfTtcbiAgICBNbXJJbmplY3Rpb25QYXJhbWV0ZXJIYW5kbGVyLnJlYWRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwYXJhbXMgPSB7IGVuYWJsZVNoaW1taW5nOiBmYWxzZSwgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb246IDAsIGVuYWJsZVBhc3N0aHJvdWdoOiBmYWxzZSwgd2VicnRjU3VwcG9ydFZlcnNpb246IDAsIG1tclN1cHBvcnRWZXJzaW9uOiAwLCBjb250ZW50UG9ydElkOiAtMSwgZW5hYmxlVmlkZW9TdGF0dXNPdmVybGF5OiBmYWxzZSwgZW5hYmxlVmlkZW9PdXRsaW5lczogZmFsc2UgfTtcbiAgICAgICAgdmFyIGlucHV0UGFyYW1ldGVyc0VsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoSU5KRUNURURfU0hJTV9JTlBVVF9QQVJBTUVURVJTX0VMRU1FTlQpO1xuICAgICAgICBpZiAoaW5wdXRQYXJhbWV0ZXJzRWxlbWVudHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfRVJSKFwiTU1SIHJlYWRJbmplY3Rpb25QYXJhbWV0ZXJzOiBpbnB1dCBwYXJhbWV0ZXIgZWxlbWVudCBtaXNzaW5nLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBpbnB1dFBhcmFtZXRlclRleHQgPSBpbnB1dFBhcmFtZXRlcnNFbGVtZW50c1swXS5pbm5lclRleHQ7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1NUiByZWFkSW5qZWN0aW9uUGFyYW1ldGVyczogaW5wdXQgcGFyYW1ldGVyczogXCIgKyBpbnB1dFBhcmFtZXRlclRleHQpO1xuICAgICAgICAgICAgdmFyIGlucHV0UGFyYW1TdHJpbmdzID0gaW5wdXRQYXJhbWV0ZXJUZXh0LnNwbGl0KCc7Jyk7XG4gICAgICAgICAgICBpZiAoaW5wdXRQYXJhbVN0cmluZ3NbMF0gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmVuYWJsZVNoaW1taW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0UGFyYW1TdHJpbmdzWzBdID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlU2hpbW1pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfRVJSKFwiTU1SIHJlYWRJbmplY3Rpb25QYXJhbWV0ZXJzOiB1bmV4cGVjdGVkIGlucHV0IHBhcmFtZXRlciB0ZXh0OiBcIiArIGlucHV0UGFyYW1ldGVyVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMub2NjbHVzaW9uU3VwcG9ydFZlcnNpb24gPSBwYXJzZUludChpbnB1dFBhcmFtU3RyaW5nc1sxXSk7XG4gICAgICAgICAgICBpZiAoaW5wdXRQYXJhbVN0cmluZ3NbMl0gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zLmVuYWJsZVBhc3N0aHJvdWdoID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0UGFyYW1TdHJpbmdzWzJdID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlUGFzc3Rocm91Z2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfRVJSKFwiTU1SIHJlYWRJbmplY3Rpb25QYXJhbWV0ZXJzOiB1bmV4cGVjdGVkIGlucHV0IHBhcmFtZXRlciB0ZXh0OiBcIiArIGlucHV0UGFyYW1ldGVyVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJhbXMud2VicnRjU3VwcG9ydFZlcnNpb24gPSBwYXJzZUludChpbnB1dFBhcmFtU3RyaW5nc1szXSk7XG4gICAgICAgICAgICBwYXJhbXMubW1yU3VwcG9ydFZlcnNpb24gPSBwYXJzZUludChpbnB1dFBhcmFtU3RyaW5nc1s0XSk7XG4gICAgICAgICAgICBwYXJhbXMuY29udGVudFBvcnRJZCA9IHBhcnNlSW50KGlucHV0UGFyYW1TdHJpbmdzWzVdKTtcbiAgICAgICAgICAgIGlmIChpbnB1dFBhcmFtU3RyaW5nc1s2XSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlVmlkZW9TdGF0dXNPdmVybGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0UGFyYW1TdHJpbmdzWzZdID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlVmlkZW9TdGF0dXNPdmVybGF5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0VSUihcIk1NUiByZWFkSW5qZWN0aW9uUGFyYW1ldGVyczogdW5leHBlY3RlZCBpbnB1dCBwYXJhbWV0ZXIgdGV4dDogXCIgKyBpbnB1dFBhcmFtZXRlclRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlucHV0UGFyYW1TdHJpbmdzWzddID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgIHBhcmFtcy5lbmFibGVWaWRlb091dGxpbmVzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlucHV0UGFyYW1TdHJpbmdzWzddID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgICAgICAgICBwYXJhbXMuZW5hYmxlVmlkZW9PdXRsaW5lcyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9FUlIoXCJNTVIgcmVhZEluamVjdGlvblBhcmFtZXRlcnM6IHVuZXhwZWN0ZWQgaW5wdXQgcGFyYW1ldGVyIHRleHQ6IFwiICsgaW5wdXRQYXJhbWV0ZXJUZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH07XG4gICAgcmV0dXJuIE1tckluamVjdGlvblBhcmFtZXRlckhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5NbXJJbmplY3Rpb25QYXJhbWV0ZXJIYW5kbGVyID0gTW1ySW5qZWN0aW9uUGFyYW1ldGVySGFuZGxlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cFNoaW1zID0gZXhwb3J0cy5yb290V2luZG93SW5mb1RyYWNrZXIgPSB2b2lkIDA7XG52YXIgdmlkZW9FbGVtZW50X3NoaW1fMSA9IHJlcXVpcmUoXCIuL3ZpZGVvRWxlbWVudF9zaGltXCIpO1xudmFyIG1lZGlhU291cmNlX3NoaW1fMSA9IHJlcXVpcmUoXCIuL21lZGlhU291cmNlX3NoaW1cIik7XG52YXIgbmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5XzEgPSByZXF1aXJlKFwiLi9uYXRpdmVNZXNzYWdpbmdQYWdlUHJveHlcIik7XG52YXIgcmVtb3RlT2JqZWN0TWFuYWdlcl8xID0gcmVxdWlyZShcIi4vcmVtb3RlT2JqZWN0TWFuYWdlclwiKTtcbnZhciBwYWdlTG9nZ2VyXzEgPSByZXF1aXJlKFwiLi9wYWdlTG9nZ2VyXCIpO1xudmFyIGxvZ2dpbmdDb21tb25fMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdDb21tb25cIik7XG52YXIgcm9vdFdpbmRvd0luZm9UcmFja2VyXzEgPSByZXF1aXJlKFwiLi9yb290V2luZG93SW5mb1RyYWNrZXJcIik7XG52YXIgbW1ySW5qZWN0aW9uUGFyYW1ldGVyc18xID0gcmVxdWlyZShcIi4vbW1ySW5qZWN0aW9uUGFyYW1ldGVyc1wiKTtcbnZhciBsb2NhbGl6ZWRTdHJpbmdIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi9sb2NhbGl6ZWRTdHJpbmdIYW5kbGVyXCIpO1xudmFyIGZhbGxiYWNrT2JqZWN0TWFuYWdlcl8xID0gcmVxdWlyZShcIi4vZmFsbGJhY2tPYmplY3RNYW5hZ2VyXCIpO1xudmFyIGVsZW1lbnRTaGltQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9lbGVtZW50U2hpbUNvbW1vblwiKTtcbnZhciBtZWRpYURldmljZXNfcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL21lZGlhRGV2aWNlc19yZWRpcmVjdFwiKTtcbnZhciBhdWRpb0VsZW1lbnRfc2hpbV8xID0gcmVxdWlyZShcIi4vYXVkaW9FbGVtZW50X3NoaW1cIik7XG52YXIgcnRjUGVlckNvbm5lY3Rpb25fcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL3J0Y1BlZXJDb25uZWN0aW9uX3JlZGlyZWN0XCIpO1xudmFyIG1lZGlhU3RyZWFtX3NoaW1fMSA9IHJlcXVpcmUoXCIuL21lZGlhU3RyZWFtX3NoaW1cIik7XG52YXIgYXVkaW9Db250ZXh0X3JlZGlyZWN0XzEgPSByZXF1aXJlKFwiLi9hdWRpb0NvbnRleHRfcmVkaXJlY3RcIik7XG5wYWdlTG9nZ2VyXzEuUmVnaXN0ZXJQYWdlTG9nZ2VyKCk7XG52YXIgaW5wdXRQYXJhbXMgPSBtbXJJbmplY3Rpb25QYXJhbWV0ZXJzXzEuTW1ySW5qZWN0aW9uUGFyYW1ldGVySGFuZGxlci5yZWFkUGFyYW1zKCk7XG52YXIgc2hpbW1pbmdFbmFibGVkID0gaW5wdXRQYXJhbXMuZW5hYmxlU2hpbW1pbmc7XG52YXIgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24gPSBpbnB1dFBhcmFtcy5vY2NsdXNpb25TdXBwb3J0VmVyc2lvbjtcbnZhciB3ZWJydGNTdXBwb3J0VmVyc2lvbiA9IGlucHV0UGFyYW1zLndlYnJ0Y1N1cHBvcnRWZXJzaW9uO1xudmFyIG1tclN1cHBvcnRWZXJzaW9uID0gaW5wdXRQYXJhbXMubW1yU3VwcG9ydFZlcnNpb247XG52YXIgdmlkZW9TdGF0dXNPdmVybGF5RW5hYmxlZCA9IGlucHV0UGFyYW1zLmVuYWJsZVZpZGVvU3RhdHVzT3ZlcmxheTtcbnZhciB2aWRlb091dGxpbmVzRW5hYmxlZCA9IGlucHV0UGFyYW1zLmVuYWJsZVZpZGVvT3V0bGluZXM7XG5sb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1TUkRDIE1NUiBtYWluIGxvYWRlZCAtIHNoaW0gZW5hYmxlZDogXCIgKyBzaGltbWluZ0VuYWJsZWQgK1xuICAgIFwiLCBvY2NsdXNpb24gc3VwcG9ydCB2ZXJzaW9uOiBcIiArIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uICtcbiAgICBcIiwgV2ViUlRDIHN1cHBvcnQgdmVyc2lvbjogXCIgKyB3ZWJydGNTdXBwb3J0VmVyc2lvbiArXG4gICAgXCIsIE1NUiBzdXBwb3J0IHZlcnNpb246IFwiICsgbW1yU3VwcG9ydFZlcnNpb24gK1xuICAgIFwiLCB2aWRlb1N0YXR1c092ZXJsYXlFbmFibGVkOiBcIiArIHZpZGVvU3RhdHVzT3ZlcmxheUVuYWJsZWQgK1xuICAgIFwiLCB2aWRlb091dGxpbmVzRW5hYmxlZDogXCIgKyB2aWRlb091dGxpbmVzRW5hYmxlZCk7XG52YXIgbW1yUHJveHkgPSBuZXcgbmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5XzEuTmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5KGlucHV0UGFyYW1zLmNvbnRlbnRQb3J0SWQpO1xudmFyIHJlbW90ZU9iamVjdE1hbmFnZXIgPSBudWxsO1xudmFyIGZhbGxiYWNrT2JqZWN0TWFuYWdlciA9IG51bGw7XG52YXIgcm9vdFdpbmRvd0luZm9UcmFja2VyID0gbmV3IHJvb3RXaW5kb3dJbmZvVHJhY2tlcl8xLlJvb3RXaW5kb3dJbmZvVHJhY2tlcihtbXJQcm94eSk7XG5leHBvcnRzLnJvb3RXaW5kb3dJbmZvVHJhY2tlciA9IHJvb3RXaW5kb3dJbmZvVHJhY2tlcjtcbmxvY2FsaXplZFN0cmluZ0hhbmRsZXJfMS5Mb2NhbGl6ZWRTdHJpbmdIYW5kbGVyLmxpc3RlbkZvckxvY2FsaXplZFN0cmluZ3MoKTtcbmVsZW1lbnRTaGltQ29tbW9uXzEuU2hpbUNvbW1vbi5pbml0aWFsUGxheWJhY2tQYXRoTW9kZSA9IGlucHV0UGFyYW1zLmVuYWJsZVBhc3N0aHJvdWdoID8gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMIDogZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV047XG5mdW5jdGlvbiBzaGltSHRtbEVsZW1lbnRzKGVsZW1lbnROb2RlKSB7XG4gICAgaWYgKG1tclN1cHBvcnRWZXJzaW9uID4gMCB8fCB3ZWJydGNTdXBwb3J0VmVyc2lvbiA+IDEpIHtcbiAgICAgICAgdmFyIHZpZGVvVGFncyA9IGVsZW1lbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoXCJ2aWRlb1wiKTtcbiAgICAgICAgaWYgKHZpZGVvVGFncyAmJiB2aWRlb1RhZ3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTaGltbWluZyBleGlzdGluZyBlbGVtZW50cy4uLlwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlkZW9UYWdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh2aWRlb1RhZ3NbaV0pICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRygnSWdub3JpbmcgdmlkZW8gbm9kZSBhcyBpdCBpcyBhbHJlYWR5IHNoaW1tZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNoaW1taW5nIG5ldyB2aWRlbyBlbGVtZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnRfc2hpbV8xLnNldHVwVmlkZW9FbGVtZW50U2hpbXMocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbiwgdmlkZW9UYWdzW2ldLCB2aWRlb1N0YXR1c092ZXJsYXlFbmFibGVkLCB2aWRlb091dGxpbmVzRW5hYmxlZCwgd2VicnRjU3VwcG9ydFZlcnNpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAod2VicnRjU3VwcG9ydFZlcnNpb24gPiAwKSB7XG4gICAgICAgIHZhciBhdWRpb1RhZ3MgPSBlbGVtZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsKFwiYXVkaW9cIik7XG4gICAgICAgIGlmIChhdWRpb1RhZ3MgJiYgYXVkaW9UYWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU2hpbW1pbmcgZXhpc3RpbmcgYXVkaW8gZWxlbWVudHMuLi5cIik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF1ZGlvVGFncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QoYXVkaW9UYWdzW2ldKSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJJZ25vcmluZyBhdWRpbyBub2RlIGFzIGl0IGlzIGFscmVhZHkgc2hpbW1lZC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNoaW1taW5nIG5ldyBhdWRpbyBlbGVtZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0VsZW1lbnRfc2hpbV8xLnNldHVwQXVkaW9FbGVtZW50U2hpbXMocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbiwgYXVkaW9UYWdzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzZXR1cFNoaW1zKCkge1xuICAgIHJlbW90ZU9iamVjdE1hbmFnZXIgPSBuZXcgcmVtb3RlT2JqZWN0TWFuYWdlcl8xLlJlbW90ZU9iamVjdE1hbmFnZXIobW1yUHJveHksIHdlYnJ0Y1N1cHBvcnRWZXJzaW9uKTtcbiAgICBmYWxsYmFja09iamVjdE1hbmFnZXIgPSBuZXcgZmFsbGJhY2tPYmplY3RNYW5hZ2VyXzEuRmFsbGJhY2tPYmplY3RNYW5hZ2VyKCk7XG4gICAgc2hpbUh0bWxFbGVtZW50cyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpO1xuICAgIHZhciBvcmlnQ3JlYXRlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQ7XG4gICAgZG9jdW1lbnRbXCJjcmVhdGVFbGVtZW50X29yaWdpbmFsXCJdID0gb3JpZ0NyZWF0ZUVsZW1lbnQ7XG4gICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uICh0YWdOYW1lKSB7XG4gICAgICAgIGlmICh0YWdOYW1lID09PSAndmlkZW8nIHx8IHRhZ05hbWUgPT09ICdWSURFTycpIHtcbiAgICAgICAgICAgIGlmIChtbXJTdXBwb3J0VmVyc2lvbiA+IDAgfHwgd2VicnRjU3VwcG9ydFZlcnNpb24gPiAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBvcmlnQ3JlYXRlRWxlbWVudC5hcHBseShkb2N1bWVudCwgWydWSURFTyddKTtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNoaW1taW5nIG5ldyBlbGVtZW50Li4uXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWRlb0VsZW1lbnRfc2hpbV8xLnNldHVwVmlkZW9FbGVtZW50U2hpbXMocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbiwgZWxlbWVudCwgdmlkZW9TdGF0dXNPdmVybGF5RW5hYmxlZCwgdmlkZW9PdXRsaW5lc0VuYWJsZWQsIHdlYnJ0Y1N1cHBvcnRWZXJzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0YWdOYW1lID09PSAnYXVkaW8nIHx8IHRhZ05hbWUgPT09ICdBVURJTycpIHtcbiAgICAgICAgICAgIGlmICh3ZWJydGNTdXBwb3J0VmVyc2lvbiA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IG9yaWdDcmVhdGVFbGVtZW50LmFwcGx5KGRvY3VtZW50LCBbJ0FVRElPJ10pO1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU2hpbW1pbmcgbmV3IGF1ZGlvIGVsZW1lbnQuLi5cIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvRWxlbWVudF9zaGltXzEuc2V0dXBBdWRpb0VsZW1lbnRTaGltcyhyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3JpZ0NyZWF0ZUVsZW1lbnQuYXBwbHkoZG9jdW1lbnQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgICBpZiAod2VicnRjU3VwcG9ydFZlcnNpb24gPiAwKSB7XG4gICAgICAgIC8vIFNoaW0gbWFueSBvZiB0aGUgZnVuY3Rpb25zIGluIHdpbmRvdy5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzXG4gICAgICAgIG1lZGlhRGV2aWNlc19yZWRpcmVjdF8xLnNldHVwTWVkaWFEZXZpY2VzU2hpbXMocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbik7XG4gICAgICAgIHJ0Y1BlZXJDb25uZWN0aW9uX3JlZGlyZWN0XzEuc2V0dXBSVENQZWVyQ29ubmVjdGlvblNoaW1zKHJlbW90ZU9iamVjdE1hbmFnZXIsIGZhbGxiYWNrT2JqZWN0TWFuYWdlciwgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24pO1xuICAgICAgICBtZWRpYVN0cmVhbV9zaGltXzEuc2V0dXBNZWRpYVN0cmVhbVNoaW0oKTtcbiAgICAgICAgYXVkaW9Db250ZXh0X3JlZGlyZWN0XzEuc2V0dXBXZWJBdWRpb1NoaW1zKCk7XG4gICAgICAgIGF1ZGlvRWxlbWVudF9zaGltXzEuc2hpbUF1ZGlvQ2xhc3MocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbik7XG4gICAgfVxuICAgIGlmIChtbXJTdXBwb3J0VmVyc2lvbiA+IDApIHtcbiAgICAgICAgdmFyIG9yaWdDcmVhdGVPYmplY3RVUkxfMSA9IFVSTC5jcmVhdGVPYmplY3RVUkw7XG4gICAgICAgIHZhciBvcmlnTWVkaWFTb3VyY2UgPSBNZWRpYVNvdXJjZTtcbiAgICAgICAgVVJMLmNyZWF0ZU9iamVjdFVSTCA9IGZ1bmN0aW9uIChtZWRpYVNvdXJjZSkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJVUkwuY3JlYXRlT2JqZWN0VVJMXCIpO1xuICAgICAgICAgICAgdmFyIGJsb2JVUkwgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKG1lZGlhU291cmNlLmlzTVNSRENPYmplY3QgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGJsb2JVUkwgPSBtZWRpYVNvdXJjZS5ibG9iVVJMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYmxvYlVSTCA9IG9yaWdDcmVhdGVPYmplY3RVUkxfMShtZWRpYVNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmxvYlVSTDtcbiAgICAgICAgfTtcbiAgICAgICAgbWVkaWFTb3VyY2Vfc2hpbV8xLnNldHVwTWVkaWFTb3VyY2VTaGltcyhyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIpO1xuICAgIH1cbiAgICB2YXIgdGFyZ2V0Tm9kZSA9IGRvY3VtZW50O1xuICAgIHZhciBvYnNlcnZlck9wdGlvbnMgPSB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xuICAgIHZhciBtdXRhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgbXV0YXRpb25zTGlzdF8xID0gbXV0YXRpb25zTGlzdDsgX2kgPCBtdXRhdGlvbnNMaXN0XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbXV0YXRpb24gPSBtdXRhdGlvbnNMaXN0XzFbX2ldO1xuICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBfYiA9IG11dGF0aW9uLmFkZGVkTm9kZXM7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRlZE5vZGUgPSBfYltfYV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChhZGRlZE5vZGUubm9kZU5hbWUgPT0gJ1ZJREVPJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1tclN1cHBvcnRWZXJzaW9uID4gMCB8fCB3ZWJydGNTdXBwb3J0VmVyc2lvbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KGFkZGVkTm9kZSkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKCdJZ25vcmluZyBhZGRlZCB2aWRlbyBub2RlIGFzIGl0IGlzIGFscmVhZHkgc2hpbW1lZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKCdTaGltbWluZyBuZXcgdmlkZW8gZWxlbWVudCBmcm9tIG11dGF0aW9uIG9ic2VydmVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudF9zaGltXzEuc2V0dXBWaWRlb0VsZW1lbnRTaGltcyhyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uLCBhZGRlZE5vZGUsIHZpZGVvU3RhdHVzT3ZlcmxheUVuYWJsZWQsIHZpZGVvT3V0bGluZXNFbmFibGVkLCB3ZWJydGNTdXBwb3J0VmVyc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFkZGVkTm9kZS5ub2RlTmFtZSA9PSAnQVVESU8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2VicnRjU3VwcG9ydFZlcnNpb24gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdChhZGRlZE5vZGUpICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRygnSWdub3JpbmcgYWRkZWQgYXVkaW8gbm9kZSBhcyBpdCBpcyBhbHJlYWR5IHNoaW1tZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRygnU2hpbW1pbmcgbmV3IGF1ZGlvIGVsZW1lbnQgZnJvbSBtdXRhdGlvbiBvYnNlcnZlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0VsZW1lbnRfc2hpbV8xLnNldHVwQXVkaW9FbGVtZW50U2hpbXMocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbiwgYWRkZWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYWRkZWROb2RlLm5vZGVOYW1lID09ICdTT1VSQ0UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRygnTmV3IHZpZGVvIGVsZW1lbnQgc291cmNlIG5vZGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYWRkZWROb2RlLm5vZGVOYW1lID09ICdESVYnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRygnTXV0YXRpb24gb2JzZXJ2ZXIgZm91bmQgRElWIG5vZGUgd2l0aCBpZDogJyArIGFkZGVkTm9kZS5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGltSHRtbEVsZW1lbnRzKGFkZGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoYWRkZWROb2RlLm5vZGVOYW1lID09ICdDTlgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGEgaGFyZC1jb2RlZCBjYXNlIGZvciBDb25uYXRpeCBwbGF5ZXIgd2hpY2ggYWRkcyAndmlkZW8nIGVsZW1lbnQgYXMgY2hpbGRyZW4gb2YgJ2NueCcgZWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKCdNdXRhdGlvbiBvYnNlcnZlciBmb3VuZCBDTlggbm9kZSB3aXRoIGlkOiAnICsgYWRkZWROb2RlLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaW1IdG1sRWxlbWVudHMoYWRkZWROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25DYWxsYmFjayk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXROb2RlLCBvYnNlcnZlck9wdGlvbnMpO1xufVxuZXhwb3J0cy5zZXR1cFNoaW1zID0gc2V0dXBTaGltcztcbmlmIChzaGltbWluZ0VuYWJsZWQpIHtcbiAgICBzZXR1cFNoaW1zKCk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVUcmFja1JlZGlyZWN0T25NZWRpYVN0cmVhbSA9IGV4cG9ydHMuc2V0dXBNZWRpYVN0cmVhbVNoaW0gPSBleHBvcnRzLmNyZWF0ZU1lZGlhU3RyZWFtU2hpbSA9IGV4cG9ydHMuTW1yTWVkaWFTdHJlYW0gPSBleHBvcnRzLk1tckV2ZW50VGFyZ2V0ID0gdm9pZCAwO1xudmFyIG1lZGlhU3RyZWFtVHJhY2tfcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL21lZGlhU3RyZWFtVHJhY2tfcmVkaXJlY3RcIik7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBNbXJFdmVudFRhcmdldCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNbXJFdmVudFRhcmdldCgpIHtcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgTW1yRXZlbnRUYXJnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJFdmVudFRhcmdldDo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50TGlzdGVuZXJzW3R5cGVdID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVyc1t0eXBlXSA9IG5ldyBBcnJheSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gICAgfTtcbiAgICBNbXJFdmVudFRhcmdldC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tckV2ZW50VGFyZ2V0OjpyZW1vdmVFdmVudExpc3RlbmVyXCIpO1xuICAgICAgICB2YXIgZXZlbnRMaXN0ZW5lckxpc3QgPSB0aGlzLmV2ZW50TGlzdGVuZXJzW3R5cGVdO1xuICAgICAgICBpZiAoZXZlbnRMaXN0ZW5lckxpc3QgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX1dBUk4oXCJNbXJFdmVudFRhcmdldDo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIG5vIGV2ZW50IGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXN0ZW5lckluZGV4ID0gZXZlbnRMaXN0ZW5lckxpc3QuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICAgIGlmIChsaXN0ZW5lckluZGV4ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJFdmVudFRhcmdldDo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIHJlbW92aW5nIGxpc3RlbmVyIGZvciB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgZXZlbnRMaXN0ZW5lckxpc3Quc3BsaWNlKGxpc3RlbmVySW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9XQVJOKFwiTW1yRXZlbnRUYXJnZXQ6OnJlbW92ZUV2ZW50TGlzdGVuZXIgLSBzcGVjaWZpZWQgbGlzdGVuZXIgbm90IGZvdW5kIGZvciB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNbXJFdmVudFRhcmdldC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tckV2ZW50VGFyZ2V0OjpkaXNwYXRjaEV2ZW50IC0gZXZlbnQudHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBcIlVOU1BFQ0lGSUVEX0VWRU5UX1RZUEVfRVJSXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZXZlbnRMaXN0ZW5lcnNbZXZlbnQudHlwZV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tckV2ZW50VGFyZ2V0OjpkaXNwYXRjaEV2ZW50IC0gbm8gbGlzdGVuZXJzIHJlZ2lzdGVyZWQgZm9yIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9iamVjdE1hbmFnZXIgPSB0aGlzO1xuICAgICAgICB2YXIgZXZlbnRDYW5jZWxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzW2V2ZW50LnR5cGVdLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGV2ZW50Q2FuY2VsZWQgPSAhb2JqZWN0TWFuYWdlci5pbnZva2VFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIH0pO1xuICAgICAgICBldmVudENhbmNlbGVkID0gZXZlbnRDYW5jZWxlZCAmJiBldmVudC5jYW5jZWxhYmxlO1xuICAgICAgICByZXR1cm4gIWV2ZW50Q2FuY2VsZWQ7XG4gICAgfTtcbiAgICBNbXJFdmVudFRhcmdldC5wcm90b3R5cGUuaW52b2tlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJFdmVudFRhcmdldDo6aW52b2tlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIGlmIChsaXN0ZW5lci5oYW5kbGVFdmVudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZUV2ZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICd0YXJnZXQnLCB7IHZhbHVlOiB0aGlzLmV2ZW50VGFyZ2V0IH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHsgdmFsdWU6IHRoaXMuZXZlbnRUYXJnZXQgfSk7XG4gICAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBNbXJFdmVudFRhcmdldC5wcm90b3R5cGUuc2hpbUV2ZW50SGFuZGxlcnMgPSBmdW5jdGlvbiAoc2hpbSwgZXZlbnRIYW5kbGVycykge1xuICAgICAgICBldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgLy8gaW1wbGVtZW50YXRpb24gYmFzZWQgb24gb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UgZnJvbSBodHRwczovL3dlYnJ0Yy5naXRodWIuaW8vYWRhcHRlci9hZGFwdGVyLWxhdGVzdC5qc1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gJ19vbicgKyBldmVudE5hbWUgKyAnZXZlbnRIYW5kbGVyJztcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzaGltLCAnb24nICsgZXZlbnROYW1lLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGltW3Byb3BOYW1lXSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNoaW1bcHJvcE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGltLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBzaGltW3Byb3BOYW1lXSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2hpbVtwcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGltW3Byb3BOYW1lXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2hpbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgc2hpbVtwcm9wTmFtZV0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1tckV2ZW50VGFyZ2V0O1xufSgpKTtcbmV4cG9ydHMuTW1yRXZlbnRUYXJnZXQgPSBNbXJFdmVudFRhcmdldDtcbnZhciBNbXJNZWRpYVN0cmVhbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTW1yTWVkaWFTdHJlYW0sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTW1yTWVkaWFTdHJlYW0oc3RyZWFtT3JUcmFja0FycmF5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzTVNSRENPYmplY3QgPSB0cnVlO1xuICAgICAgICBfdGhpcy50cmFja3MgPSBbXTtcbiAgICAgICAgX3RoaXMuZXZlbnRUYXJnZXQgPSBfdGhpcztcbiAgICAgICAgX3RoaXMuc2hpbUV2ZW50SGFuZGxlcnMoX3RoaXMsIFsnYWRkdHJhY2snLCAncmVtb3ZldHJhY2snXSk7XG4gICAgICAgIGlmIChzdHJlYW1PclRyYWNrQXJyYXkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tck1lZGlhU3RyZWFtOiBlbXB0eSBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdHJlYW1PclRyYWNrQXJyYXlbJ2xlbmd0aCddICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJNZWRpYVN0cmVhbTogY29uc3RydWN0b3IgY2FsbGVkIHdpdGggYXJyYXkgb2YgdHJhY2tzXCIpO1xuICAgICAgICAgICAgdmFyIHRyYWNrcyA9IHN0cmVhbU9yVHJhY2tBcnJheTtcbiAgICAgICAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBleGlzdHMgPSBfdGhpcy5nZXRUcmFja0J5SWQodHJhY2suaWQpICE9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFleGlzdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudHJhY2tzLnB1c2godHJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJNZWRpYVN0cmVhbTogY29uc3RydWN0b3IgY2FsbGVkIHdpdGggTWVkaWFTdHJlYW0gXCIgKyBzdHJlYW1PclRyYWNrQXJyYXlbJ2lkJ10pO1xuICAgICAgICAgICAgdmFyIG1lZGlhU3RyZWFtID0gc3RyZWFtT3JUcmFja0FycmF5O1xuICAgICAgICAgICAgbWVkaWFTdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaChmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgZXhpc3RzID0gX3RoaXMuZ2V0VHJhY2tCeUlkKHRyYWNrLmlkKSAhPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIF90aGlzLmlkID0gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tck1lZGlhU3RyZWFtOiBhc3NpZ25lZCB0aGlzIGlkIHRvIHRoZSBuZXcgc3RyZWFtOiBcIiArIF90aGlzLmlkKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW1yTWVkaWFTdHJlYW0ucHJvdG90eXBlLCBcImFjdGl2ZVwiLCB7XG4gICAgICAgIC8vIE1lZGlhU3RyZWFtIG1ldGhvZHNcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLnRyYWNrcy5maW5kKGZ1bmN0aW9uICh0cmFjaykgeyByZXR1cm4gdHJhY2sucmVhZHlTdGF0ZSAhPT0gXCJlbmRlZFwiOyB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cmFjayAhPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNbXJNZWRpYVN0cmVhbS5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVNoaW06OmFkZFRyYWNrOiBzdHJlYW0gaWQ6IFwiICsgdGhpcy5pZCArIFwiIHRyYWNrIGlkOiBcIiArIHRyYWNrLmlkKTtcbiAgICAgICAgdmFyIGV4aXN0cyA9IHRoaXMuZ2V0VHJhY2tCeUlkKHRyYWNrLmlkKSAhPSBudWxsO1xuICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgdGhpcy50cmFja3MucHVzaCh0cmFjayk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1lZGlhU3RyZWFtVHJhY2tFdmVudCgnYWRkdHJhY2snLCB7IHRyYWNrOiB0cmFjayB9KSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1tck1lZGlhU3RyZWFtLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVNoaW06OmNsb25lLCBjbG9uaW5nIHN0cmVhbSB3aXRoIGlkIFwiICsgdGhpcy5pZCk7XG4gICAgICAgIHJldHVybiBuZXcgTWVkaWFTdHJlYW0odGhpcyk7XG4gICAgfTtcbiAgICBNbXJNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0QXVkaW9UcmFja3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiZ2V0QXVkaW9UcmFja3MgY2FsbGVkIG9uIHN0cmVhbSB3aXRoIGlkIFwiICsgdGhpcy5pZCk7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrKSB7IHJldHVybiB0cmFjay5raW5kID09PSAnYXVkaW8nOyB9KTtcbiAgICB9O1xuICAgIE1tck1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRUcmFja0J5SWQgPSBmdW5jdGlvbiAodHJhY2tJZCkge1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLnRyYWNrcy5maW5kKGZ1bmN0aW9uICh0cmFjaykgeyByZXR1cm4gdHJhY2suaWQgPT09IHRyYWNrSWQ7IH0pO1xuICAgICAgICByZXR1cm4gKHRyYWNrICE9IHVuZGVmaW5lZCkgPyB0cmFjayA6IG51bGw7XG4gICAgfTtcbiAgICBNbXJNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0VHJhY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmFja3M7XG4gICAgfTtcbiAgICBNbXJNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrKSB7IHJldHVybiB0cmFjay5raW5kID09PSAndmlkZW8nOyB9KTtcbiAgICB9O1xuICAgIE1tck1lZGlhU3RyZWFtLnByb3RvdHlwZS5yZW1vdmVUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU3RyZWFtU2hpbTo6cmVtb3ZlVHJhY2s6IHN0cmVhbSBpZDogXCIgKyB0aGlzLmlkICsgXCIgdHJhY2sgaWQ6IFwiICsgdHJhY2suaWQpO1xuICAgICAgICB2YXIgaW5kZXhUb1JlbW92ZUF0ID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy50cmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRyYWNrc1tpXS5pZCA9PSB0cmFjay5pZCkge1xuICAgICAgICAgICAgICAgIGluZGV4VG9SZW1vdmVBdCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4VG9SZW1vdmVBdCAhPSAtMSkge1xuICAgICAgICAgICAgdGhpcy50cmFja3Muc3BsaWNlKGluZGV4VG9SZW1vdmVBdCwgMSk7XG4gICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobmV3IE1lZGlhU3RyZWFtVHJhY2tFdmVudCgncmVtb3ZldHJhY2snLCB7IHRyYWNrOiB0cmFjayB9KSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1tck1lZGlhU3RyZWFtLm9yaWdpbmFsTWVkaWFTdHJlYW1DbGFzcyA9IE1lZGlhU3RyZWFtO1xuICAgIHJldHVybiBNbXJNZWRpYVN0cmVhbTtcbn0oTW1yRXZlbnRUYXJnZXQpKTtcbmV4cG9ydHMuTW1yTWVkaWFTdHJlYW0gPSBNbXJNZWRpYVN0cmVhbTtcbmZ1bmN0aW9uIGNyZWF0ZU1lZGlhU3RyZWFtU2hpbShvcmlnaW5hbE1lZGlhU3RyZWFtLCBpZCkge1xuICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQ3JlYXRpbmcgc2hpbW1lZCBtZWRpYSBzdHJlYW0gd2l0aCBpZCBcIiArIGlkKTtcbiAgICBvcmlnaW5hbE1lZGlhU3RyZWFtWydpZCddID0gaWQ7XG4gICAgcmV0dXJuIG9yaWdpbmFsTWVkaWFTdHJlYW07XG59XG5leHBvcnRzLmNyZWF0ZU1lZGlhU3RyZWFtU2hpbSA9IGNyZWF0ZU1lZGlhU3RyZWFtU2hpbTtcbmZ1bmN0aW9uIHNldHVwTWVkaWFTdHJlYW1TaGltKCkge1xuICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU2hpbW1pbmcgTWVkaWFTdHJlYW1cIik7XG4gICAgd2luZG93Lk1lZGlhU3RyZWFtID0gTW1yTWVkaWFTdHJlYW07XG59XG5leHBvcnRzLnNldHVwTWVkaWFTdHJlYW1TaGltID0gc2V0dXBNZWRpYVN0cmVhbVNoaW07XG5mdW5jdGlvbiBjcmVhdGVUcmFja1JlZGlyZWN0T25NZWRpYVN0cmVhbShyZW1vdGVPYmplY3RNYW5hZ2VyLCBvcmlnaW5hbE1lZGlhU3RyZWFtLCB0cmFja0d1aWQsIHRyYWNrTGFiZWwsIHNldHRpbmdzLCBraW5kKSB7XG4gICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJjcmVhdGVUcmFja1JlZGlyZWN0T25NZWRpYVN0cmVhbTogQ3JlYXRpbmcgTWVkaWFTdHJlYW1UcmFjayB3aXRoIElEOiBcIiArIHRyYWNrR3VpZCk7XG4gICAgb3JpZ2luYWxNZWRpYVN0cmVhbS5hZGRUcmFjayhtZWRpYVN0cmVhbVRyYWNrX3JlZGlyZWN0XzEuY3JlYXRlVHJhY2tSZWRpcmVjdChyZW1vdGVPYmplY3RNYW5hZ2VyLCB0cmFja0d1aWQsIHRyYWNrTGFiZWwsIHNldHRpbmdzLCBraW5kLCB0cnVlKSk7XG59XG5leHBvcnRzLmNyZWF0ZVRyYWNrUmVkaXJlY3RPbk1lZGlhU3RyZWFtID0gY3JlYXRlVHJhY2tSZWRpcmVjdE9uTWVkaWFTdHJlYW07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXBQYXNzdGhyb3VnaFNvdXJjZUJ1ZmZlclNoaW0gPSBleHBvcnRzLnNldHVwU291cmNlQnVmZmVyU2hpbSA9IGV4cG9ydHMuU291cmNlQnVmZmVyU2hpbSA9IHZvaWQgMDtcbnZhciBzb3VyY2VCdWZmZXJfcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL3NvdXJjZUJ1ZmZlcl9yZWRpcmVjdFwiKTtcbnZhciBlbGVtZW50U2hpbUNvbW1vbl8xID0gcmVxdWlyZShcIi4vZWxlbWVudFNoaW1Db21tb25cIik7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBTb3VyY2VCdWZmZXJTaGltID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvdXJjZUJ1ZmZlclNoaW0ocmVtb3RlT2JqZWN0TWFuYWdlciwgbWltZVR5cGUsIG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIgPSByZW1vdGVPYmplY3RNYW5hZ2VyO1xuICAgICAgICB0aGlzLm1pbWVUeXBlID0gbWltZVR5cGU7XG4gICAgICAgIHRoaXMucGxheWJhY2tQYXRoTW9kZSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuU2hpbUNvbW1vbi5pbml0aWFsUGxheWJhY2tQYXRoTW9kZTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJTaGltOjpTb3VyY2VCdWZmZXJTaGltIC0gbWltZVR5cGU6IFwiICsgbWltZVR5cGUpO1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlclJlZGlyZWN0ID0gbmV3IHNvdXJjZUJ1ZmZlcl9yZWRpcmVjdF8xLlNvdXJjZUJ1ZmZlclJlZGlyZWN0KHJlbW90ZU9iamVjdE1hbmFnZXIsIHRoaXMsIG1pbWVUeXBlLCBtZWRpYVNvdXJjZUxvY2FsT2JqZWN0SWQpO1xuICAgICAgICB0aGlzLmZhbGxiYWNrRnVuY3Rpb25RdWV1ZSA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLnBvc3RGYWxsYmFja0Z1bmN0aW9uUXVldWUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgU291cmNlQnVmZmVyU2hpbS5ldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgLy8gaW1wbGVtZW50YXRpb24gYmFzZWQgb24gb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UgZnJvbSBodHRwczovL3dlYnJ0Yy5naXRodWIuaW8vYWRhcHRlci9hZGFwdGVyLWxhdGVzdC5qc1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gJ19vbicgKyBldmVudE5hbWUgKyAnZXZlbnRIYW5kbGVyJztcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ29uJyArIGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaGltW3Byb3BOYW1lXSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2hpbVtwcm9wTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHNoaW1bcHJvcE5hbWVdLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzaGltW3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaW1bcHJvcE5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGltLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBzaGltW3Byb3BOYW1lXSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucHJvdG90eXBlLmxvY2FsT3JSZW1vdGVFeGVjdXRlID0gZnVuY3Rpb24gKGZ1bmN0aW9uTmFtZSwgYXJnc0FycmF5KSB7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgbG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlID0gc2hpbS5vcmlnaW5hbFNvdXJjZUJ1ZmZlcltmdW5jdGlvbk5hbWVdLmFwcGx5KHNoaW0ub3JpZ2luYWxTb3VyY2VCdWZmZXIsIGFyZ3NBcnJheSk7XG4gICAgICAgIH07XG4gICAgICAgIHN3aXRjaCAodGhpcy5wbGF5YmFja1BhdGhNb2RlKSB7XG4gICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5SRU1PVEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBzaGltLnNvdXJjZUJ1ZmZlclJlZGlyZWN0W2Z1bmN0aW9uTmFtZV0uYXBwbHkoc2hpbS5zb3VyY2VCdWZmZXJSZWRpcmVjdCwgYXJnc0FycmF5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV046XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBzaGltLnNvdXJjZUJ1ZmZlclJlZGlyZWN0W2Z1bmN0aW9uTmFtZV0uYXBwbHkoc2hpbS5zb3VyY2VCdWZmZXJSZWRpcmVjdCwgYXJnc0FycmF5KTtcbiAgICAgICAgICAgICAgICBpZiAoU291cmNlQnVmZmVyU2hpbS5wb3N0RmFsbGJhY2tRdWV1ZU1ldGhvZHMuaW5jbHVkZXMoZnVuY3Rpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBzaGltLnBvc3RGYWxsYmFja0Z1bmN0aW9uUXVldWUucHVzaChsb2NhbEZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNoaW0uZmFsbGJhY2tGdW5jdGlvblF1ZXVlLnB1c2gobG9jYWxGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUw6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBsb2NhbEZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJTaGltOjpsb2NhbE9yUmVtb3RlRXhlY3V0ZSAtIGZ1bmN0aW9uTmFtZT1cIiArIGZ1bmN0aW9uTmFtZSArIFwiIGFyZ3M9XCIgKyBhcmdzQXJyYXkgKyBcIiByZXR1cm49XCIgKyByZXR1cm5WYWx1ZSk7XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucHJvdG90eXBlLmxvY2FsT3JSZW1vdGVFeGVjdXRlRnVuY3Rpb25zID0gZnVuY3Rpb24gKGxvY2FsRnVuY3Rpb24sIHJlbW90ZUZ1bmN0aW9uKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyU2hpbTo6bG9jYWxPclJlbW90ZUV4ZWN1dGVGdW5jdGlvbnNcIik7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBzd2l0Y2ggKHRoaXMucGxheWJhY2tQYXRoTW9kZSkge1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuUkVNT1RFOlxuICAgICAgICAgICAgICAgIHJldHVyblZhbHVlID0gcmVtb3RlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV046XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSByZW1vdGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgICAgIHNoaW0uZmFsbGJhY2tGdW5jdGlvblF1ZXVlLnB1c2gobG9jYWxGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTDpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGxvY2FsRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJTaGltLnByb3RvdHlwZS5zZXRNZWRpYVNvdXJjZU93bmVyID0gZnVuY3Rpb24gKG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclNoaW06c2V0TWVkaWFTb3VyY2VPd25lclwiKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBzaGltLnNvdXJjZUJ1ZmZlclJlZGlyZWN0LnNldE1lZGlhU291cmNlT3duZXIobWVkaWFTb3VyY2VMb2NhbE9iamVjdElkKTtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucHJvdG90eXBlLnNldEZhbGxiYWNrUGF0aE1vZGUgPSBmdW5jdGlvbiAoaW5pdGlhbFBsYXliYWNrUGF0aE1vZGUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJTaGltOnNldEZhbGxiYWNrUGF0aE1vZGVcIik7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgc2hpbS5wbGF5YmFja1BhdGhNb2RlID0gaW5pdGlhbFBsYXliYWNrUGF0aE1vZGU7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJTaGltLnByb3RvdHlwZS5zd2l0Y2hUb0xvY2FsID0gZnVuY3Rpb24gKG9yaWdpbmFsU291cmNlQnVmZmVyKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyU2hpbTpzd2l0Y2hUb0xvY2FsIC0gcGxheWJhY2tQYXRoTW9kZT1cIiArIHRoaXMucGxheWJhY2tQYXRoTW9kZSk7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgc2hpbS5vcmlnaW5hbFNvdXJjZUJ1ZmZlciA9IG9yaWdpbmFsU291cmNlQnVmZmVyO1xuICAgICAgICBzaGltLnBsYXliYWNrUGF0aE1vZGUgPSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUw7XG4gICAgICAgIHNoaW0uZmFsbGJhY2tGdW5jdGlvblF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGUpIHsgZSgpOyB9KTtcbiAgICAgICAgc2hpbS5mYWxsYmFja0Z1bmN0aW9uUXVldWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHNoaW0ucG9zdEZhbGxiYWNrRnVuY3Rpb25RdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGUoKTsgfSk7XG4gICAgICAgIHNoaW0ucG9zdEZhbGxiYWNrRnVuY3Rpb25RdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucHJvdG90eXBlLnN3aXRjaFRvUmVtb3RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclNoaW06c3dpdGNoVG9SZW1vdGUgLSBwbGF5YmFja1BhdGhNb2RlPVwiICsgdGhpcy5wbGF5YmFja1BhdGhNb2RlKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChzaGltLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV04pO1xuICAgICAgICBzaGltLnBsYXliYWNrUGF0aE1vZGUgPSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuUkVNT1RFO1xuICAgICAgICBzaGltLmZhbGxiYWNrRnVuY3Rpb25RdWV1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgc2hpbS5wb3N0RmFsbGJhY2tGdW5jdGlvblF1ZXVlID0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyU2hpbS5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyU2hpbTo6YWJvcnRcIik7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgc2hpbS5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgnYWJvcnQnLCBbXSk7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJTaGltLnByb3RvdHlwZS5hcHBlbmRCdWZmZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclNoaW06OmFwcGVuZEJ1ZmZlclwiKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdhcHBlbmRCdWZmZXInLCBbZGF0YV0pO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyU2hpbS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJTaGltOjpyZW1vdmVcIik7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgc2hpbS5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgncmVtb3ZlJywgW3N0YXJ0LCBlbmRdKTtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucHJvdG90eXBlLmNoYW5nZVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyU2hpbTo6Y2hhbmdlVHlwZSAtIHR5cGU6IFwiICsgdHlwZSArIFwiLCBjdXJyZW50VHlwZTogXCIgKyBzaGltLm1pbWVUeXBlKTtcbiAgICAgICAgc2hpbS5taW1lVHlwZSA9IHR5cGU7XG4gICAgICAgIHJldHVybiBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdjaGFuZ2VUeXBlJywgW3R5cGVdKTtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJTaGltOjphZGRFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBpZiAoZWxlbWVudFNoaW1Db21tb25fMS5TaGltQ29tbW9uLmluaXRpYWxQbGF5YmFja1BhdGhNb2RlID09IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgLy8gV2UgYXJlIHVzaW5nIGVuYWJsZVBhc3N0aHJvdWdoIHRlc3Qgc2V0dGluZywgc28gd2Ugd2FudCB0byBrbm93IHdoZW4gdGhlIGxvY2FsIG9iamVjdCBmaXJlcyBldmVudHNcbiAgICAgICAgICAgIHZhciBvbkV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJTaGltOjphZGRFdmVudExpc3RlbmVyW0xPQ0FMXTo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSArIFwiIGZpcmVkIVwiKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLm9yaWdpbmFsU291cmNlQnVmZmVyLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25FdmVudExpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdhZGRFdmVudExpc3RlbmVyJywgW3R5cGUsIGxpc3RlbmVyLCBvcHRpb25zXSk7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJTaGltLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyU2hpbTo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgc2hpbS5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgncmVtb3ZlRXZlbnRMaXN0ZW5lcicsIFt0eXBlLCBsaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyU2hpbS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclNoaW06OmRpc3BhdGNoRXZlbnQgLSB0eXBlOiBcIiArIGV2ZW50LnR5cGUpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIHJldHVybiBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdkaXNwYXRjaEV2ZW50JywgW2V2ZW50XSk7XG4gICAgfTtcbiAgICAvLyBNZXRob2RzIGZvciBNZWRpYVNvdXJjZVJlZGlyZWN0IHRvIGFjY2VzcyBpbmZvcm1hdGlvbiBvbiBTb3VyY2VCdWZmZXJSZWRpcmVjdFxuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucHJvdG90eXBlLmdldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgcmV0dXJuIHNoaW0uc291cmNlQnVmZmVyUmVkaXJlY3QubG9jYWxPYmplY3RJZDtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlclNoaW0uZXZlbnRIYW5kbGVycyA9IFsnYWJvcnQnLCAnZXJyb3InLCAndXBkYXRlJywgJ3VwZGF0ZWVuZCcsICd1cGRhdGVzdGFydCddO1xuICAgIC8vIER1cmluZyBzd2l0Y2hUb0xvY2FsLCBldmVudCBsaXN0ZW5lciBtZXRob2RzIHNob3VsZCBiZSBleGVjdXRlZCBhZnRlcndhcmRzIHNvIHRoYXRcbiAgICAvLyBjYWxsZXJzIGRvIG5vdCByZWNlaXZlIGV2ZW50IG5vdGlmaWNhdGlvbnMgdHdpY2UgKG9uY2UgZnJvbSBzaGltLCBhbmQgb25jZSBmcm9tIG9yaWdpbmFsKVxuICAgIFNvdXJjZUJ1ZmZlclNoaW0ucG9zdEZhbGxiYWNrUXVldWVNZXRob2RzID0gWydhZGRFdmVudExpc3RlbmVyJywgJ3JlbW90ZUV2ZW50TGlzdGVuZXInXTtcbiAgICByZXR1cm4gU291cmNlQnVmZmVyU2hpbTtcbn0oKSk7XG5leHBvcnRzLlNvdXJjZUJ1ZmZlclNoaW0gPSBTb3VyY2VCdWZmZXJTaGltO1xuZnVuY3Rpb24gc2V0dXBTb3VyY2VCdWZmZXJTaGltKHJlbW90ZU9iamVjdE1hbmFnZXIsIG1pbWVUeXBlLCBtZWRpYVNvdXJjZUxvY2FsT2JqZWN0SWQpIHtcbiAgICB2YXIgc291cmNlQnVmZmVyU2hpbSA9IG5ldyBTb3VyY2VCdWZmZXJTaGltKHJlbW90ZU9iamVjdE1hbmFnZXIsIG1pbWVUeXBlLCBtZWRpYVNvdXJjZUxvY2FsT2JqZWN0SWQpO1xuICAgIC8vIFNldCBhIHJlZmVyZW5jZSB0byBzZWxmOyBzb21ldGltZXMgJ3RoaXMnIGNhbiBiZWNvbWUgdGhlIHByb3h5IGluc3RlYWQgb2YgdGhlIHNoaW1cbiAgICBzb3VyY2VCdWZmZXJTaGltW2VsZW1lbnRTaGltQ29tbW9uXzEuc2hpbVByb3BlcnR5TmFtZV0gPSBzb3VyY2VCdWZmZXJTaGltO1xuICAgIHZhciBwcm94eUhhbmRsZXIgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIGlmIChwcm9wID09IGVsZW1lbnRTaGltQ29tbW9uXzEuc2hpbVByb3BlcnR5TmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VCdWZmZXJTaGltO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZUJ1ZmZlcl9yZWRpcmVjdF8xLlNvdXJjZUJ1ZmZlclJlZGlyZWN0LnNvdXJjZUJ1ZmZlclJlZGlyZWN0QXR0cmlidXRlcy5pbmNsdWRlcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VCdWZmZXJTaGltLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwic2V0dXBTb3VyY2VCdWZmZXJTaGltOjpnZXRbTE9DQUxdIC0gcHJvcD1cIiArIHByb3ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc291cmNlQnVmZmVyU2hpbS5vcmlnaW5hbFNvdXJjZUJ1ZmZlcltwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VCdWZmZXJTaGltLnNvdXJjZUJ1ZmZlclJlZGlyZWN0W3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBzb3VyY2VCdWZmZXJTaGltW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocHJvcCA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLnNoaW1Qcm9wZXJ0eU5hbWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsb2NhbEZ1bmN0aW9uID0gZnVuY3Rpb24gKCkgeyBzb3VyY2VCdWZmZXJTaGltLm9yaWdpbmFsU291cmNlQnVmZmVyW3Byb3BdID0gdmFsdWU7IH07XG4gICAgICAgICAgICB2YXIgcmVtb3RlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZUJ1ZmZlcl9yZWRpcmVjdF8xLlNvdXJjZUJ1ZmZlclJlZGlyZWN0LnNvdXJjZUJ1ZmZlclJlZGlyZWN0QXR0cmlidXRlcy5pbmNsdWRlcyhwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXJTaGltLnNvdXJjZUJ1ZmZlclJlZGlyZWN0LnNldEF0dHJpYnV0ZShwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXJTaGltW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNvdXJjZUJ1ZmZlclNoaW0ubG9jYWxPclJlbW90ZUV4ZWN1dGVGdW5jdGlvbnMobG9jYWxGdW5jdGlvbiwgcmVtb3RlRnVuY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzb3VyY2VCdWZmZXJQcm94eSA9IG5ldyBQcm94eShzb3VyY2VCdWZmZXJTaGltLCBwcm94eUhhbmRsZXIpO1xuICAgIHNvdXJjZUJ1ZmZlclNoaW1bZWxlbWVudFNoaW1Db21tb25fMS5zaGltUHJveHlQcm9wZXJ0eU5hbWVdID0gc291cmNlQnVmZmVyUHJveHk7XG4gICAgcmV0dXJuIHNvdXJjZUJ1ZmZlclByb3h5O1xufVxuZXhwb3J0cy5zZXR1cFNvdXJjZUJ1ZmZlclNoaW0gPSBzZXR1cFNvdXJjZUJ1ZmZlclNoaW07XG5mdW5jdGlvbiBzZXR1cFBhc3N0aHJvdWdoU291cmNlQnVmZmVyU2hpbShvcmlnaW5hbFNvdXJjZUJ1ZmZlcikge1xuICAgIHZhciBwYXNzdGhyb3VnaFNvdXJjZUJ1ZmZlciA9IG9yaWdpbmFsU291cmNlQnVmZmVyO1xuICAgIHZhciBjb21tb25TaGltbWVkTWV0aG9kcyA9IFsnYWJvcnQnLCAnYXBwZW5kQnVmZmVyJywgJ3JlbW92ZScsICdjaGFuZ2VUeXBlJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInLCAnZGlzcGF0Y2hFdmVudCddO1xuICAgIGNvbW1vblNoaW1tZWRNZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKGZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgIHBhc3N0aHJvdWdoU291cmNlQnVmZmVyW2Z1bmN0aW9uU3RyaW5nICsgJ19vcmlnaW5hbCddID0gcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJbZnVuY3Rpb25TdHJpbmddO1xuICAgICAgICBwYXNzdGhyb3VnaFNvdXJjZUJ1ZmZlcltmdW5jdGlvblN0cmluZ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclNoaW06OlwiICsgZnVuY3Rpb25TdHJpbmcgKyBcIltMT0NBTF1cIik7XG4gICAgICAgICAgICByZXR1cm4gcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJbZnVuY3Rpb25TdHJpbmcgKyAnX29yaWdpbmFsJ10uYXBwbHkocGFzc3Rocm91Z2hTb3VyY2VCdWZmZXIsIGFyZ3VtZW50cyk7XG4gICAgICAgIH07XG4gICAgfSk7XG4gICAgcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJbJ2FkZEV2ZW50TGlzdGVuZXJfb3JpZ2luYWwnXSA9IHBhc3N0aHJvdWdoU291cmNlQnVmZmVyWydhZGRFdmVudExpc3RlbmVyJ107XG4gICAgcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJbJ2FkZEV2ZW50TGlzdGVuZXInXSA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclNoaW06OmFkZEV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAvLyB3ZSB3YW50IHRvIGtub3cgd2hlbiB0aGUgbG9jYWwgb2JqZWN0IGZpcmVzIGV2ZW50c1xuICAgICAgICB2YXIgb25FdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJTaGltOjphZGRFdmVudExpc3RlbmVyW0xPQ0FMXTo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSArIFwiIGZpcmVkIVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJbJ2FkZEV2ZW50TGlzdGVuZXJfb3JpZ2luYWwnXS5hcHBseShwYXNzdGhyb3VnaFNvdXJjZUJ1ZmZlciwgW3R5cGUsIG9uRXZlbnRMaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgICAgICByZXR1cm4gcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJbJ2FkZEV2ZW50TGlzdGVuZXJfb3JpZ2luYWwnXS5hcHBseShwYXNzdGhyb3VnaFNvdXJjZUJ1ZmZlciwgYXJndW1lbnRzKTtcbiAgICB9O1xuICAgIHZhciBzaGltbWVkUHJvcGVydGllcyA9IFsnYXBwZW5kV2luZG93RW5kJywgJ2FwcGVuZFdpbmRvd1N0YXJ0JywgJ2F1ZGlvVHJhY2tzJywgJ2J1ZmZlcmVkJywgJ21vZGUnLCAndGV4dFRyYWNrcycsICd0aW1lc3RhbXBPZmZzZXQnLCAndXBkYXRpbmcnLCAndmlkZW9UcmFja3MnXTtcbiAgICBzaGltbWVkUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eVN0cmluZykge1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZhciBvcmlnR2V0ID0gcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXIuX19sb29rdXBHZXR0ZXJfXyhwcm9wZXJ0eVN0cmluZyk7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIG9yaWdpbmFsIGdldHRlciwgaXQgbWVhbnMgdGhhdCB0aGUgYXR0cmlidXRlIGlzIG5vdCByZWNvZ25pemVkIGJ5IHRoZSBicm93c2VyLlxuICAgICAgICAvLyBXZSBwcm92aWRlIGEgZGVmYXVsdCBmdW5jdGlvbiB0byB1c2UgaW4gdGhhdCBzaXR1YXRpb24uXG4gICAgICAgIGlmIChvcmlnR2V0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgb3JpZ0dldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJbcHJvcGVydHlTdHJpbmcgKyBcIl9ub3NoaW1fXCJdO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHZhciBvcmlnU2V0ID0gcGFzc3Rocm91Z2hTb3VyY2VCdWZmZXIuX19sb29rdXBTZXR0ZXJfXyhwcm9wZXJ0eVN0cmluZyk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwYXNzdGhyb3VnaFNvdXJjZUJ1ZmZlciwgcHJvcGVydHlTdHJpbmcsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXQgPSBvcmlnR2V0LmFwcGx5KHBhc3N0aHJvdWdoU291cmNlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclNoaW06OmdldCAtIFwiICsgcHJvcGVydHlTdHJpbmcgKyBcIj1cIiArIHJldCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyU2hpbTo6c2V0IC0gXCIgKyBwcm9wZXJ0eVN0cmluZyArIFwiPVwiICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnU2V0LmFwcGx5KHBhc3N0aHJvdWdoU291cmNlQnVmZmVyLCBbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhc3N0aHJvdWdoU291cmNlQnVmZmVyO1xufVxuZXhwb3J0cy5zZXR1cFBhc3N0aHJvdWdoU291cmNlQnVmZmVyU2hpbSA9IHNldHVwUGFzc3Rocm91Z2hTb3VyY2VCdWZmZXJTaGltO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPSAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fCBmdW5jdGlvbiAoKSB7XG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKVxuICAgICAgICAgICAgICAgIHRbcF0gPSBzW3BdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH07XG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5jcmVhdGVUcmFja1JlZGlyZWN0ID0gZXhwb3J0cy5NZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QgPSB2b2lkIDA7XG52YXIgZWxlbWVudFNoaW1Db21tb25fMSA9IHJlcXVpcmUoXCIuL2VsZW1lbnRTaGltQ29tbW9uXCIpO1xudmFyIGxvZ2dpbmdDb21tb25fMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdDb21tb25cIik7XG52YXIgYXVkaW9Db250ZXh0X3JlZGlyZWN0XzEgPSByZXF1aXJlKFwiLi9hdWRpb0NvbnRleHRfcmVkaXJlY3RcIik7XG52YXIgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdChyZW1vdGVPYmplY3RNYW5hZ2VyLCBpZCwgbGFiZWwsIHNldHRpbmdzLCBraW5kLCBpc0NhcHR1cmVUcmFjaywgb3JpZ2luYWxUcmFjaykge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIgPSByZW1vdGVPYmplY3RNYW5hZ2VyO1xuICAgICAgICB0aGlzLm9yaWdpbmFsVHJhY2sgPSBvcmlnaW5hbFRyYWNrO1xuICAgICAgICAvL01lZGlhU3RyZWFtVHJhY2sgYXR0cmlidXRlc1xuICAgICAgICB0aGlzLmlzb2xhdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMubXV0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gXCJsaXZlXCI7XG4gICAgICAgIC8vIFNoaW0gYXR0cmlidXRlc1xuICAgICAgICB0aGlzLmxvY2FsT2JqZWN0SWQgPSAwO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdEFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb25zdHJhaW50cyA9IHt9O1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdCBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgdGhpcy5pc0NhcHR1cmVUcmFjayA9IGlzQ2FwdHVyZVRyYWNrO1xuICAgICAgICAvLyBUaGUgY2FwYWJpbGl0aWVzIG9iamVjdCBsaXN0cyBwb3NzaWJsZSB2YWx1ZXMgdGhhdCB0aGUgc2V0dGluZ3MgY2FuIHRha2UuIFNpbmNlIHdlIGRvbid0IGFsbG93IG1vZGlmeWluZ1xuICAgICAgICAvLyB0aGUgc2V0dGluZ3MgcmlnaHQgbm93LCB3ZSBkb24ndCBzcGVjaWZ5IGEgcmFuZ2Ugb2YgdmFsdWVzIGJ1dCBzaW1wbHkgc3BlY2lmeSB0aGUgb25seSBhbGxvd2VkIHZhbHVlLlxuICAgICAgICB0aGlzLmNhcGFiaWxpdGllcyA9IHsgZGV2aWNlSWQ6IHNldHRpbmdzWydkZXZpY2VJZCddLCBncm91cElkOiBzZXR0aW5nc1snZ3JvdXBJZCddIH07XG4gICAgICAgIG9yaWdpbmFsVHJhY2tbZWxlbWVudFNoaW1Db21tb25fMS5zaGltUHJvcGVydHlOYW1lXSA9IHRoaXM7XG4gICAgICAgIHZhciBwcm94eSA9IHRoaXM7XG4gICAgICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5zaGltbWVkTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jdGlvblN0cmluZykge1xuICAgICAgICAgICAgb3JpZ2luYWxUcmFja1tmdW5jdGlvblN0cmluZ10gPSBwcm94eVtmdW5jdGlvblN0cmluZ107XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTaGltIHJlYWQtb25seSBwcm9wZXJ0aWVzLiBTZXR0YWJsZSBwcm9wZXJ0aWVzIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHkuXG4gICAgICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5zaGltbWVkUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eVN0cmluZykge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9yaWdpbmFsVHJhY2ssIHByb3BlcnR5U3RyaW5nLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm94eVtwcm9wZXJ0eVN0cmluZ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUaGUgJ2VuYWJsZWQnIHByb3BlcnR5IGlzIHNwZWNpYWwgLS0gaXQgY2FuIGJlIHNldC5cbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5U3RyaW5nXzEgPSBcImVuYWJsZWRcIjtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcmlnaW5hbFRyYWNrLCBwcm9wZXJ0eVN0cmluZ18xLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm94eVtwcm9wZXJ0eVN0cmluZ18xXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3h5LnNldElkbEF0dHJpYnV0ZShwcm9wZXJ0eVN0cmluZ18xLCB2YWx1ZSA/IHRydWUgOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5ldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgLy8gaW1wbGVtZW50YXRpb24gYmFzZWQgb24gb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UgZnJvbSBodHRwczovL3dlYnJ0Yy5naXRodWIuaW8vYWRhcHRlci9hZGFwdGVyLWxhdGVzdC5qc1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gJ19vbicgKyBldmVudE5hbWUgKyAnZXZlbnRIYW5kbGVyJztcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcmlnaW5hbFRyYWNrLCAnb24nICsgZXZlbnROYW1lLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm94eVtwcm9wTmFtZV0gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm94eVtwcm9wTmFtZV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgcHJveHlbcHJvcE5hbWVdLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBwcm94eVtwcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHlbcHJvcE5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgcHJveHlbcHJvcE5hbWVdLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5jcmVhdGVPYmplY3QodGhpcywgXCJNZWRpYVN0cmVhbVRyYWNrXCIsIHsgXCJ0cmFja0lkXCI6IGlkLCBcImtpbmRcIjoga2luZCwgXCJpc0NhcHR1cmVUcmFja1wiOiBpc0NhcHR1cmVUcmFjayB9KTtcbiAgICB9XG4gICAgLy8gUmVtb3RlT2JqZWN0TWFuYWdlckNsaWVudCBtZXRob2RzXG4gICAgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0LnByb3RvdHlwZS5zZXRMb2NhbE9iamVjdElkID0gZnVuY3Rpb24gKGxvY2FsT2JqZWN0SWQpIHtcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdElkID0gbG9jYWxPYmplY3RJZDtcbiAgICB9O1xuICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5wcm90b3R5cGUuZ2V0TG9jYWxPYmplY3RJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxPYmplY3RJZDtcbiAgICB9O1xuICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5wcm90b3R5cGUub25SZW1vdGVPYmplY3RDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdEFjdGl2ZSA9IHRydWU7XG4gICAgfTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QucHJvdG90eXBlLmludm9rZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7IH07XG4gICAgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0LnByb3RvdHlwZS5pbnZva2VFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdDo6aW52b2tlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IFwiZW5kZWRcIikge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q6Omludm9rZUV2ZW50TGlzdGVuZXI6IElnbm9yaW5nIGV2ZW50IHdoZW4gdHJhY2sgaXMgaW4gZW5kZWQgc3RhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJlbmRlZFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZGxBdHRyaWJ1dGUoXCJyZWFkeVN0YXRlXCIsIFwiZW5kZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwibXV0ZWRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SWRsQXR0cmlidXRlKFwibXV0ZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwidW5tdXRlZFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZGxBdHRyaWJ1dGUoXCJtdXRlZFwiLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIuaGFuZGxlRXZlbnQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuaGFuZGxlRXZlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0LnByb3RvdHlwZS5zZXRJZGxBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q6OnNldElkbEF0dHJpYnV0ZSAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIGlmIChuYW1lID09IFwiZW5hYmxlZFwiKSB7XG4gICAgICAgICAgICB2YXIgd2FzRW5hYmxlZCA9IHRoaXMuZW5hYmxlZDtcbiAgICAgICAgICAgIHRoaXMuZW5hYmxlZCA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gXCJlbmRlZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdhc0VuYWJsZWQgJiYgIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5sb2NhbE9iamVjdElkLCAnZGlzYWJsZWQnLCB7fSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykgeyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXdhc0VuYWJsZWQgJiYgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdlbmFibGVkJywge30sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QucHJvdG90eXBlLm9uQXR0cmlidXRlVXBkYXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0OjpvbkF0dHJpYnV0ZVVwZGF0ZSAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkodmFsdWUpKTtcbiAgICB9O1xuICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5wcm90b3R5cGUub25Db25uZWN0aW9uRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XG4gICAgICAgIGlmIChldmVudFR5cGUgPT0gXCJjbGllbnRDb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q6Om9uQ29ubmVjdGlvbkV2ZW50IC0gY2xpZW50Q29ubmVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VHlwZSA9PSBcImNsaWVudERpc2Nvbm5lY3RlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZU9iamVjdEFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VHlwZSA9PSBcInN3aXRjaFRvUmVtb3RlXCIpIHtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0LnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzID0gZnVuY3Rpb24gKGNvbnN0cmFpbnRzKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0OjphcHBseUNvbnN0cmFpbnRzW0JFR0lOXSAtIG9wdGlvbnM6IFwiICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBpZiAoY29uc3RyYWludHMgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3RyYWludHMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q6OmFwcGx5Q29uc3RyYWludHNbRU5EXVwiKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgLy8gU2luY2Ugb3VyIGNhcGFiaWxpdGllcyBvYmplY3QgZG9lcyBub3QgYWxsb3cgYW55dGhpbmcgdG8gYmUgY2hhbmdlZCwgaXQgaXMgZWFzeSB0byB2YWxpZGF0ZS5cbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50cy5kZXZpY2VJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnRzLmRldmljZUlkICE9PSBzaGltLmNhcGFiaWxpdGllcy5kZXZpY2VJZCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIGNvbnN0cmFpbnQgY291bGQgbm90IGJlIHNhdGlzZmllZFwiLCBcIkNvbnN0cmFpbnRFcnJvclwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29uc3RyYWludHMuZ3JvdXBJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnRzLmdyb3VwSWQgIT09IHNoaW0uY2FwYWJpbGl0aWVzLmdyb3VwSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gbmV3IERPTUV4Y2VwdGlvbihcIlRoZSBjb25zdHJhaW50IGNvdWxkIG5vdCBiZSBzYXRpc2ZpZWRcIiwgXCJDb25zdHJhaW50RXJyb3JcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNoaW0uY29uc3RyYWludHMgPSBjb25zdHJhaW50cztcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBXZSBjYW4ndCBhY3R1YWxseSBjcmVhdGUgYSBjbG9uZSBvZiB0aGUgdHJhY2suIEp1c3QgcmV0dXJuaW5nIHRoZSB0aGlzIHBvaW50ZXJcbiAgICAgICAgLy8gaXMgbGlrZWx5IHRvIHdvcmsgaW4gbW9zdCBjYXNlcy5cbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q6OmNsb25lIC0gcmV0dXJuaW5nIHNhbWUgdHJhY2tcIik7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgcmV0dXJuIHNoaW0ub3JpZ2luYWxUcmFjaztcbiAgICB9O1xuICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5wcm90b3R5cGUuZ2V0Q2FwYWJpbGl0aWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBjYXBhYmlsaXRpZXMgb2JqZWN0LlxuICAgICAgICAvLyBVc2luZyB0aGUgXCIuLi5cIiBvcGVyYXRvciB3b3JrcyBmaW5lIG5vdyB3aGVuIHRoaXMuY2FwYWJpbGl0aWVzIG9ubHkgaW5jbHVkZSBzaW1wbGUgc3RyaW5ncy5cbiAgICAgICAgLy8gSXQgbWlnaHQgbm90IHdvcmsgaW4gdGhlIGZ1dHVyZSBpZiB0aGlzLmNhcGFiaWxpdGllcyBpbmNsdWRlIG90aGVyIG9iamVjdHMuXG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzaGltLmNhcGFiaWxpdGllcyk7XG4gICAgfTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QucHJvdG90eXBlLmdldENvbnN0cmFpbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBjb25zdHJhaW50cyBvYmplY3QuXG4gICAgICAgIC8vIFVzaW5nIHRoZSBcIi4uLlwiIG9wZXJhdG9yIHdvcmtzIGZpbmUgbm93IHdoZW4gdGhpcy5jb25zdHJhaW50cyBvbmx5IGluY2x1ZGUgc2ltcGxlIHN0cmluZ3MuXG4gICAgICAgIC8vIEl0IG1pZ2h0IG5vdCB3b3JrIGluIHRoZSBmdXR1cmUgaWYgdGhpcy5jb25zdHJhaW50cyBpbmNsdWRlIG90aGVyIG9iamVjdHMuXG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduKHt9LCBzaGltLmNvbnN0cmFpbnRzKTtcbiAgICB9O1xuICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5wcm90b3R5cGUuZ2V0U2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIHNldHRpbmdzIG9iamVjdC5cbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHNoaW0uc2V0dGluZ3MpO1xuICAgIH07XG4gICAgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0LnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGlmIChzaGltLnJlYWR5U3RhdGUgIT09IFwiZW5kZWRcIikge1xuICAgICAgICAgICAgc2hpbS5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZChzaGltLmxvY2FsT2JqZWN0SWQsICdzdG9wJywge30sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHsgfSk7XG4gICAgICAgICAgICAvLyBTcGVjIHNheXMgdG8gc2V0IHJlYWR5U3RhdGUgdG8gZW5kZWQsIGJ1dCB0byBub3QgZmlyZSBhbiBldmVudCBpbiB0aGlzIGNhc2UuXG4gICAgICAgICAgICBzaGltLnNldElkbEF0dHJpYnV0ZShcInJlYWR5U3RhdGVcIiwgXCJlbmRlZFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQ29tbW9uIHNoaW1tZWQgbWV0aG9kc1xuICAgIE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdDo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgc2hpbS5yZW1vdGVPYmplY3RNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIoc2hpbS5sb2NhbE9iamVjdElkLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q6OnJlbW92ZUV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIHNoaW0ucmVtb3RlT2JqZWN0TWFuYWdlci5yZW1vdmVFdmVudExpc3RlbmVyKHNoaW0ubG9jYWxPYmplY3RJZCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0OjpkaXNwYXRjaEV2ZW50IC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICByZXR1cm4gc2hpbS5yZW1vdGVPYmplY3RNYW5hZ2VyLmRpc3BhdGNoRXZlbnQoc2hpbS5sb2NhbE9iamVjdElkLCBldmVudCk7XG4gICAgfTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QuYXVkaW9Db250ZXh0ID0gbnVsbDtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QuZXZlbnRIYW5kbGVycyA9IFsnZW5kZWQnLCAnbXV0ZScsICd1bm11dGUnIC8qLCAnaXNvbGF0aW9uY2hhbmdlJyovXTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Quc2hpbW1lZE1ldGhvZHMgPSBbJ2FwcGx5Q29uc3RyYWludHMnLCAnY2xvbmUnLCAnZ2V0Q2FwYWJpbGl0aWVzJywgJ2dldENvbnN0cmFpbnRzJywgJ2dldFNldHRpbmdzJywgJ3N0b3AnLCAnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJywgJ2Rpc3BhdGNoRXZlbnQnXTtcbiAgICBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Quc2hpbW1lZFByb3BlcnRpZXMgPSBbJ2lkJywgJ2tpbmQnLCAnbGFiZWwnLCAnbXV0ZWQnLCAncmVhZHlTdGF0ZSddO1xuICAgIHJldHVybiBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q7XG59KCkpO1xuZXhwb3J0cy5NZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QgPSBNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3Q7XG5mdW5jdGlvbiBjcmVhdGVUcmFja1JlZGlyZWN0KHJlbW90ZU9iamVjdE1hbmFnZXIsIHRyYWNrR3VpZCwgdHJhY2tMYWJlbCwgc2V0dGluZ3MsIGtpbmQsIGlzQ2FwdHVyZVRyYWNrKSB7XG4gICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJjcmVhdGVUcmFja1JlZGlyZWN0OiBDcmVhdGluZyBNZWRpYVN0cmVhbVRyYWNrIHdpdGggSUQ6IFwiICsgdHJhY2tHdWlkKTtcbiAgICAvLyBUaGUgc2hpbSBmb3IgQXVkaW9Db250ZXh0IHdpbGwgaGF2ZSByZXBsYWNlZCB0aGUgZ2xvYmFsIEF1ZGlvQ29udGV4dCBjbGFzcyB3aXRoIGl0cyBvd24gaW1wbGVtZW50YXRpb24uXG4gICAgLy8gQnV0IGhlcmUgd2UgYWN0dWFsbHkgbmVlZCB0aGUgb3JpZ2luYWwgQXVkaW9Db250ZXh0LiBXZSBjYW4gcGljayByZXRyaWV2ZSBpdCBmcm9tIGEgc3RhdGljIG1lbWJlciB2YXJpYWJsZVxuICAgIC8vIG9uIHRoZSBNbXJBdWRpb0NvbnRleHQgY2xhc3MuIFxuICAgIGlmIChNZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QuYXVkaW9Db250ZXh0ID09IG51bGwpIHtcbiAgICAgICAgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0LmF1ZGlvQ29udGV4dCA9IG5ldyBhdWRpb0NvbnRleHRfcmVkaXJlY3RfMS5NbXJBdWRpb0NvbnRleHQub3JpZ2luYWxBdWRpb0NvbnRleHRDbGFzcztcbiAgICB9XG4gICAgLy8gVGhlIGJyb3dzZXIgd29uJ3QgYWxsb3cgdXMgdG8gc2ltcGx5IGNhbGwgXCJuZXcgTWVkaWFTdHJlYW1UcmFjaygpXCIsIHNvIHdlIHVzZSB0aGUgbm9uLXNoaW1tZWQgQXVkaW9Db250ZXh0XG4gICAgLy8gdG8gY3JlYXRlIGFuIGluc3RhbmNlIG9mIGEgcmVhbCBNZWRpYVN0cmVhbVRyYWNrLlxuICAgIHZhciBkZXN0aW5hdGlvbiA9IE1lZGlhU3RyZWFtVHJhY2tSZWRpcmVjdC5hdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO1xuICAgIHZhciB0cmFjayA9IGRlc3RpbmF0aW9uLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgIC8vIE5vdyBzaGltIHZhcmlvdXMgbWV0aG9kcyBhbmQgYXR0cmlidXRlcyBvbiB0aGUgcmVhbCBNZWRpYVN0cmVhbVRyYWNrLlxuICAgIHZhciBtZWRpYVN0cmVhbVRyYWNrUmVkaXJlY3QgPSBuZXcgTWVkaWFTdHJlYW1UcmFja1JlZGlyZWN0KHJlbW90ZU9iamVjdE1hbmFnZXIsIHRyYWNrR3VpZCwgdHJhY2tMYWJlbCwgc2V0dGluZ3MsIGtpbmQsIGlzQ2FwdHVyZVRyYWNrLCB0cmFjayk7XG4gICAgcmV0dXJuIHRyYWNrO1xufVxuZXhwb3J0cy5jcmVhdGVUcmFja1JlZGlyZWN0ID0gY3JlYXRlVHJhY2tSZWRpcmVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cFdlYkF1ZGlvU2hpbXMgPSBleHBvcnRzLk1tckF1ZGlvQ29udGV4dCA9IHZvaWQgMDtcbnZhciBlbGVtZW50U2hpbUNvbW1vbl8xID0gcmVxdWlyZShcIi4vZWxlbWVudFNoaW1Db21tb25cIik7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBNbXJBdWRpb0NvbnRleHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW1yQXVkaW9Db250ZXh0KGNvbnRleHRPcHRpb25zKSB7XG4gICAgICAgIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UgPSBuZXcgTW1yQXVkaW9Db250ZXh0Lm9yaWdpbmFsQXVkaW9Db250ZXh0Q2xhc3MoY29udGV4dE9wdGlvbnMpO1xuICAgIH1cbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlID0gZnVuY3Rpb24gKG1lZGlhU3RyZWFtKSB7XG4gICAgICAgIC8vIElzIHRoZSBNZWRpYVN0cmVhbSBvdXIgV2ViUlRDIHNoaW1tZWQgdmVyc2lvbj9cbiAgICAgICAgaWYgKG1lZGlhU3RyZWFtWydpc01TUkRDT2JqZWN0J10gIT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIE5vdCBhIHNoaW1tZWQgTWVkaWFTdHJlYW0sIHNvIGp1c3QgaW52b2tlIHRoZSBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvbiBvZiBjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZVxuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZTogaW52b2tlZCB3aXRoIG5vbi1XZWJSVEMgc3RyZWFtXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobWVkaWFTdHJlYW0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IG5ldyBNZWRpYVN0cmVhbUF1ZGlvRGVzdGluYXRpb25Ob2RlKHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcImNyZWF0ZU1lZGlhU3RyZWFtU291cmNlOiByZXBsYWNpbmcgV2ViUlRDIHN0cmVhbSB3aXRoIHNpbGVudCB0cmFjayBpZDogXCIgKyBkZXN0aW5hdGlvbi5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5pZCk7XG4gICAgICAgIHZhciBzb3VyY2VOb2RlID0gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShkZXN0aW5hdGlvbi5zdHJlYW0pO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcImNyZWF0ZU1lZGlhU3RyZWFtU291cmNlOiBzb3VyY2VOb2RlIGhhcyBzdHJlYW0gaWQ6IFwiICsgc291cmNlTm9kZS5tZWRpYVN0cmVhbS5pZCArIFwiIGFuZCB0cmFjayBpZDogXCIgKyBzb3VyY2VOb2RlLm1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0uaWQpO1xuICAgICAgICByZXR1cm4gc291cmNlTm9kZTtcbiAgICB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlTWVkaWFTdHJlYW1UcmFja1NvdXJjZSA9IGZ1bmN0aW9uIChtZWRpYVN0cmVhbVRyYWNrKSB7XG4gICAgICAgIC8vIElzIHRoZSBNZWRpYVN0cmVhbVRyYWNrIG91ciBXZWJSVEMgc2hpbW1lZCB2ZXJzaW9uP1xuICAgICAgICBpZiAobWVkaWFTdHJlYW1UcmFja1tlbGVtZW50U2hpbUNvbW1vbl8xLnNoaW1Qcm9wZXJ0eU5hbWVdID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gTm90IGEgc2hpbW1lZCBNZWRpYVN0cmVhbVRyYWNrLCBzbyBqdXN0IGludm9rZSB0aGUgb3JpZ2luYWwgaW1wbGVtZW50YXRpb24gb2YgY3JlYXRlTWVkaWFTdHJlYW1UcmFja1NvdXJjZVxuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJjcmVhdGVNZWRpYVN0cmVhbVRyYWNrU291cmNlOiBpbnZva2VkIHdpdGggbm9uLVdlYlJUQyB0cmFja1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tTb3VyY2UobWVkaWFTdHJlYW1UcmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gbmV3IE1lZGlhU3RyZWFtQXVkaW9EZXN0aW5hdGlvbk5vZGUodGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZSk7XG4gICAgICAgIHZhciB0cmFjayA9IGRlc3RpbmF0aW9uLnN0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcImNyZWF0ZU1lZGlhU3RyZWFtVHJhY2tTb3VyY2U6IHJlcGxhY2luZyBXZWJSVEMgdHJhY2sgd2l0aCBzaWxlbnQgdHJhY2sgaWQ6IFwiICsgdHJhY2suaWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVNZWRpYVN0cmVhbVRyYWNrU291cmNlKHRyYWNrKTtcbiAgICB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpOyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLCBcImJhc2VMYXRlbmN5XCIsIHtcbiAgICAgICAgLy8gT3RoZXIgQXVkaW9Db250ZXh0IHByb3BlcnRpZXMgYW5kIG1ldGhvZHNcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmJhc2VMYXRlbmN5OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUsIFwib3V0cHV0TGF0ZW5jeVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5vdXRwdXRMYXRlbmN5OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuY2xvc2UoKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSA9IGZ1bmN0aW9uIChtZWRpYUVsZW1lbnQpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKG1lZGlhRWxlbWVudCk7IH07XG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5nZXRPdXRwdXRUaW1lc3RhbXAgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmdldE91dHB1dFRpbWVzdGFtcCgpOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUucmVzdW1lID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5yZXN1bWUoKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLnN1c3BlbmQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLnN1c3BlbmQoKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7IH07XG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpOyB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLCBcImF1ZGlvV29ya2xldFwiLCB7XG4gICAgICAgIC8vIFByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSB0aGUgQmFzZUF1ZGlvQ29udGV4dCBjbGFzc1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuYXVkaW9Xb3JrbGV0OyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUsIFwiY3VycmVudFRpbWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuY3VycmVudFRpbWU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZSwgXCJkZXN0aW5hdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIioqKiBkZXN0aW5hdGlvbiBwcm9wZXJ0eSB3YXMgcXVlcmllZC5cIik7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmRlc3RpbmF0aW9uOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUsIFwibGlzdGVuZXJcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UubGlzdGVuZXI7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZSwgXCJvbnN0YXRlY2hhbmdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9vbnN0YXRlY2hhbmdlZXZlbnRIYW5kbGVyOyB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX29uc3RhdGVjaGFuZ2VldmVudEhhbmRsZXIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdGF0ZWNoYW5nZScsIHRoaXMuX29uc3RhdGVjaGFuZ2VldmVudEhhbmRsZXIsIG51bGwpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vbnN0YXRlY2hhbmdlZXZlbnRIYW5kbGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uc3RhdGVjaGFuZ2VldmVudEhhbmRsZXIgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmFkZEV2ZW50TGlzdGVuZXIoJ3N0YXRlY2hhbmdlJywgdGhpcy5fb25zdGF0ZWNoYW5nZWV2ZW50SGFuZGxlciwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZSwgXCJzYW1wbGVSYXRlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLnNhbXBsZVJhdGU7IH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5zdGF0ZTsgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQW5hbHlzZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZUFuYWx5c2VyKCk7IH07XG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVCaXF1YWRGaWx0ZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZUJpcXVhZEZpbHRlcigpOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQnVmZmVyID0gZnVuY3Rpb24gKG51bWJlck9mQ2hhbm5lbHMsIGxlbmd0aCwgc2FtcGxlUmF0ZSkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVCdWZmZXIobnVtYmVyT2ZDaGFubmVscywgbGVuZ3RoLCBzYW1wbGVSYXRlKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUJ1ZmZlclNvdXJjZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuY3JlYXRlQnVmZmVyU291cmNlKCk7IH07XG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVDaGFubmVsTWVyZ2VyID0gZnVuY3Rpb24gKG51bWJlck9mSW5wdXRzKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZUNoYW5uZWxNZXJnZXIobnVtYmVyT2ZJbnB1dHMpOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQ2hhbm5lbFNwbGl0dGVyID0gZnVuY3Rpb24gKG51bWJlck9mT3V0cHV0cykgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVDaGFubmVsU3BsaXR0ZXIobnVtYmVyT2ZPdXRwdXRzKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUNvbnN0YW50U291cmNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVDb25zdGFudFNvdXJjZSgpOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlQ29udm9sdmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVDb252b2x2ZXIoKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZURlbGF5ID0gZnVuY3Rpb24gKG1heERlbGF5VGltZSkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVEZWxheShtYXhEZWxheVRpbWUpOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlRHluYW1pY3NDb21wcmVzc29yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVEeW5hbWljc0NvbXByZXNzb3IoKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUdhaW4gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZUdhaW4oKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZUlJUkZpbHRlciA9IGZ1bmN0aW9uIChmZWVkZm9yd2FyZCwgZmVlZGJhY2spIHsgcmV0dXJuIHRoaXMuYXVkaW9Db250ZXh0SW5zdGFuY2UuY3JlYXRlSUlSRmlsdGVyKGZlZWRmb3J3YXJkLCBmZWVkYmFjayk7IH07XG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVPc2NpbGxhdG9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVPc2NpbGxhdG9yKCk7IH07XG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVQYW5uZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZVBhbm5lcigpOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlUGVyaW9kaWNXYXZlID0gZnVuY3Rpb24gKHJlYWwsIGltYWcsIGNvbnN0cmFpbnRzKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZVBlcmlvZGljV2F2ZShyZWFsLCBpbWFnLCBjb25zdHJhaW50cyk7IH07XG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgTW1yQXVkaW9Db250ZXh0LnByb3RvdHlwZS5jcmVhdGVTY3JpcHRQcm9jZXNzb3IgPSBmdW5jdGlvbiAoYnVmZmVyU2l6ZSwgbnVtYmVyT2ZJbnB1dENoYW5uZWxzLCBudW1iZXJPZk91dHB1dENoYW5uZWxzKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihidWZmZXJTaXplLCBudW1iZXJPZklucHV0Q2hhbm5lbHMsIG51bWJlck9mT3V0cHV0Q2hhbm5lbHMpOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuY3JlYXRlU3RlcmVvUGFubmVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5jcmVhdGVTdGVyZW9QYW5uZXIoKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmNyZWF0ZVdhdmVTaGFwZXIgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmF1ZGlvQ29udGV4dEluc3RhbmNlLmNyZWF0ZVdhdmVTaGFwZXIoKTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQucHJvdG90eXBlLmRlY29kZUF1ZGlvRGF0YSA9IGZ1bmN0aW9uIChhdWRpb0RhdGEsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5kZWNvZGVBdWRpb0RhdGEoYXVkaW9EYXRhLCBzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spOyB9O1xuICAgIE1tckF1ZGlvQ29udGV4dC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHRJbnN0YW5jZS5kaXNwYXRjaEV2ZW50KGV2ZW50KTsgfTtcbiAgICBNbXJBdWRpb0NvbnRleHQub3JpZ2luYWxBdWRpb0NvbnRleHRDbGFzcyA9IEF1ZGlvQ29udGV4dDtcbiAgICByZXR1cm4gTW1yQXVkaW9Db250ZXh0O1xufSgpKTtcbmV4cG9ydHMuTW1yQXVkaW9Db250ZXh0ID0gTW1yQXVkaW9Db250ZXh0O1xuZnVuY3Rpb24gc2V0dXBXZWJBdWRpb1NoaW1zKCkge1xuICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU2hpbW1pbmcgV2ViIEF1ZGlvXCIpO1xuICAgIHdpbmRvdy5BdWRpb0NvbnRleHQgPSBNbXJBdWRpb0NvbnRleHQ7XG59XG5leHBvcnRzLnNldHVwV2ViQXVkaW9TaGltcyA9IHNldHVwV2ViQXVkaW9TaGltcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cFZpZGVvRWxlbWVudFNoaW1zID0gZXhwb3J0cy5WaWRlb0VsZW1lbnRTaGltID0gdm9pZCAwO1xudmFyIGVsZW1lbnRTaGltQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9lbGVtZW50U2hpbUNvbW1vblwiKTtcbnZhciB2aWRlb0VsZW1lbnRfcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL3ZpZGVvRWxlbWVudF9yZWRpcmVjdFwiKTtcbnZhciBmYWxsYmFja09iamVjdE1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrT2JqZWN0TWFuYWdlclwiKTtcbnZhciBsb2dnaW5nQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nQ29tbW9uXCIpO1xudmFyIFZpZGVvRWxlbWVudFNoaW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlkZW9FbGVtZW50U2hpbShyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uLCBvcmlnaW5hbEVsZW1lbnQsIHZpZGVvU3RhdHVzT3ZlcmxheUVuYWJsZWQsIHZpZGVvT3V0bGluZXNFbmFibGVkLCB3ZWJydGNTdXBwb3J0VmVyc2lvbikge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIgPSByZW1vdGVPYmplY3RNYW5hZ2VyO1xuICAgICAgICB0aGlzLmZhbGxiYWNrT2JqZWN0TWFuYWdlciA9IGZhbGxiYWNrT2JqZWN0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVsZW1lbnQgPSBvcmlnaW5hbEVsZW1lbnQ7XG4gICAgICAgIHRoaXMud2VicnRjU3VwcG9ydFZlcnNpb24gPSB3ZWJydGNTdXBwb3J0VmVyc2lvbjtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IE5hTjtcbiAgICAgICAgdGhpcy5yZWFkeVN0YXRlID0gMDtcbiAgICAgICAgdGhpcy5zZWVraW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuSEFWRV9OT1RISU5HID0gMDtcbiAgICAgICAgdGhpcy5IQVZFX01FVEFEQVRBID0gMTtcbiAgICAgICAgdGhpcy5IQVZFX0NVUlJFTlRfREFUQSA9IDI7XG4gICAgICAgIHRoaXMuSEFWRV9GVVRVUkVfREFUQSA9IDM7XG4gICAgICAgIHRoaXMuSEFWRV9FTk9VR0hfREFUQSA9IDQ7XG4gICAgICAgIHRoaXMuTkVUV09SS19FTVBUWSA9IDA7XG4gICAgICAgIHRoaXMuTkVUV09SS19JRExFID0gMTtcbiAgICAgICAgdGhpcy5ORVRXT1JLX0xPQURJTkcgPSAyO1xuICAgICAgICB0aGlzLk5FVFdPUktfTk9fU09VUkNFID0gMztcbiAgICAgICAgLy8gTm9kZSBhdHRyaWJ1dGVzXG4gICAgICAgIHRoaXMubm9kZVR5cGUgPSBOb2RlLkVMRU1FTlRfTk9ERTtcbiAgICAgICAgLy8gRWxlbWVudCBhdHRyaWJ1dGVzXG4gICAgICAgIHRoaXMudGFnTmFtZSA9IFwidmlkZW9cIjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFNldHRlcnMgPSB7fTtcbiAgICAgICAgLy8gVmFyaWFibGVzIGZvciBoYW5kbGluZyBjaGlsZCBTT1VSQ0Ugbm9kZXNcbiAgICAgICAgdGhpcy5zb3VyY2VDaGlsZE9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2VDaGlsZEF0dHJpYnV0ZU9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5zb3VyY2VOb2RlcyA9IFtdO1xuICAgICAgICAvLyBWYXJpYWJsZXMgZm9yIGZhbGxiYWNrIHBhdGhcbiAgICAgICAgdGhpcy5wbGF5YmFja1BhdGhNb2RlID0gZWxlbWVudFNoaW1Db21tb25fMS5TaGltQ29tbW9uLmluaXRpYWxQbGF5YmFja1BhdGhNb2RlO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFNoaW06OlZpZGVvRWxlbWVudFNoaW0gcGxheWJhY2tQYXRoTW9kZT1cIiArIHRoaXMucGxheWJhY2tQYXRoTW9kZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXliYWNrUGF0aE1vZGUgIT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvRWxlbWVudFJlZGlyZWN0ID0gbmV3IHZpZGVvRWxlbWVudF9yZWRpcmVjdF8xLlZpZGVvRWxlbWVudFJlZGlyZWN0KHJlbW90ZU9iamVjdE1hbmFnZXIsIG9yaWdpbmFsRWxlbWVudCwgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24sIHZpZGVvU3RhdHVzT3ZlcmxheUVuYWJsZWQsIHZpZGVvT3V0bGluZXNFbmFibGVkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm93bmVyRG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgICAgIC8vIFNldCBkZWZhdWx0IHZpZGVvIHdpZHRoL2hlaWdodFxuICAgICAgICB0aGlzLnZpZGVvV2lkdGggPSAxOTIwO1xuICAgICAgICB0aGlzLnZpZGVvSGVpZ2h0ID0gMTA4MDtcbiAgICAgICAgdGhpcy50ZXh0VHJhY2tzID0gbmV3IGVsZW1lbnRTaGltQ29tbW9uXzEuVGV4dFRyYWNrTGlzdFByb3h5KCk7XG4gICAgICAgIHRoaXMuYnVmZmVyZWQgPSBlbGVtZW50U2hpbUNvbW1vbl8xLmNyZWF0ZVRpbWVSYW5nZXMobmV3IE9iamVjdCgpKTtcbiAgICAgICAgdGhpcy5zZWVrYWJsZSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuY3JlYXRlVGltZVJhbmdlcyhuZXcgT2JqZWN0KCkpO1xuICAgICAgICAvLyBUaGUgRmFsbGJhY2sgT2JqZWN0IE1hbmFnZXIgYW5kIHRoZSBvcmlnaW5hbCBtZWRpYSBlbGVtZW50IG11c3QgYmUgbWFkZSB0byBwb2ludCB0byBvdXIgY2xhc3NcbiAgICAgICAgLy8gYmVmb3JlIHdlIHN0YXJ0IHNoaW1taW5nIHRoZSBwcm9wZXJ0aWVzLCBiZWxvdy5cbiAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdE1hbmFnZXIuYWRkRmFsbGJhY2tWaWRlb0VsZW1lbnQodGhpcyk7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFbGVtZW50W2VsZW1lbnRTaGltQ29tbW9uXzEuc2hpbVByb3BlcnR5TmFtZV0gPSB0aGlzO1xuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xuICAgICAgICBWaWRlb0VsZW1lbnRTaGltLnNoaW1tZWRNZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKGZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgICAgICBwcm94eVtmdW5jdGlvblN0cmluZyArICdfb3JpZ2luYWwnXSA9IG9yaWdpbmFsRWxlbWVudFtmdW5jdGlvblN0cmluZ107XG4gICAgICAgICAgICBvcmlnaW5hbEVsZW1lbnRbZnVuY3Rpb25TdHJpbmddID0gcHJveHlbZnVuY3Rpb25TdHJpbmddO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpc1snc2V0SWRsQXR0cmlidXRlX29yaWdpbmFsJ10gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChwcm94eS5vcmlnaW5hbFNldHRlcnNbJ3NldF8nICsgbmFtZSArICdfb3JpZ2luYWwnXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJveHkub3JpZ2luYWxTZXR0ZXJzWydzZXRfJyArIG5hbWUgKyAnX29yaWdpbmFsJ10uYXBwbHkob3JpZ2luYWxFbGVtZW50LCBbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIG9yaWdpbmFsIHNldHRlciwgdGhlIGF0dHJpYnV0ZSBtaWdodCBiZSByZWFkLW9ubHksIG9yIG5vdCByZWNvZ25pemVkIGJ5IHRoZSBicm93c2VyLlxuICAgICAgICAgICAgICAgIC8vIFdlIHN0aWxsIG5lZWQgdG8gYmUgYWJsZSB0byBzdXBwb3J0IHNldHRpbmcgdGhlIGF0dHJpYnV0ZS4gVG8gYXZvaWQgaW5maW5pdGUgcmVjdXJzaW9uLCB3ZSBzdG9yZSBpdFxuICAgICAgICAgICAgICAgIC8vIHVzaW5nIGEgbW9kaWZpZWQgbmFtZS5cbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVsZW1lbnRbbmFtZSArIFwiX25vc2hpbV9cIl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVmlkZW9FbGVtZW50U2hpbS5zaGltbWVkUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eVN0cmluZykge1xuICAgICAgICAgICAgaWYgKFZpZGVvRWxlbWVudFNoaW0uYm9vbFNoaW1tZWRQcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5U3RyaW5nKSkge1xuICAgICAgICAgICAgICAgIHByb3h5W3Byb3BlcnR5U3RyaW5nXSA9IG9yaWdpbmFsRWxlbWVudFtwcm9wZXJ0eVN0cmluZ10gPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm94eVtwcm9wZXJ0eVN0cmluZ10gPSBvcmlnaW5hbEVsZW1lbnRbcHJvcGVydHlTdHJpbmddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIG9yaWdHZXQgPSBvcmlnaW5hbEVsZW1lbnQuX19sb29rdXBHZXR0ZXJfXyhwcm9wZXJ0eVN0cmluZyk7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBvcmlnaW5hbCBnZXR0ZXIsIGl0IG1lYW5zIHRoYXQgdGhlIGF0dHJpYnV0ZSBpcyBub3QgcmVjb2duaXplZCBieSB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIC8vIFdlIHByb3ZpZGUgYSBkZWZhdWx0IGZ1bmN0aW9uIHRvIHVzZSBpbiB0aGF0IHNpdHVhdGlvbi5cbiAgICAgICAgICAgIGlmIChvcmlnR2V0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9yaWdHZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEVsZW1lbnRbcHJvcGVydHlTdHJpbmcgKyBcIl9ub3NoaW1fXCJdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBwcm94eS5vcmlnaW5hbFNldHRlcnNbJ3NldF8nICsgcHJvcGVydHlTdHJpbmcgKyAnX29yaWdpbmFsJ10gPSBvcmlnaW5hbEVsZW1lbnQuX19sb29rdXBTZXR0ZXJfXyhwcm9wZXJ0eVN0cmluZyk7XG4gICAgICAgICAgICAvLyBEZWZpbmUgb3VyIHNldCBmdW5jdGlvbiBiYXNlZCBvbiB3aGV0aGVyIHRoZSBwcm9wZXJ0eSBpcyBhIGJvb2wgdHlwZSBvciBub3RcbiAgICAgICAgICAgIHZhciBzZXRGdW5jdGlvbiA9IFZpZGVvRWxlbWVudFNoaW0uYm9vbFNoaW1tZWRQcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5U3RyaW5nKSA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3h5LnNldElkbEF0dHJpYnV0ZShwcm9wZXJ0eVN0cmluZywgdmFsdWUgPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkuc2V0SWRsQXR0cmlidXRlKHByb3BlcnR5U3RyaW5nLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3JpZ2luYWxFbGVtZW50LCBwcm9wZXJ0eVN0cmluZywge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0O1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJveHkucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IG9yaWdHZXQuYXBwbHkob3JpZ2luYWxFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByb3h5W3Byb3BlcnR5U3RyaW5nXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFNoaW1bXCIgKyBwcm94eS5mYWxsYmFja09iamVjdElkICsgXCJdOjpnZXQgLSBcIiArIHByb3BlcnR5U3RyaW5nICsgXCI9XCIgKyByZXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgcHJveHkuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c2V0IC0gXCIgKyBwcm9wZXJ0eVN0cmluZyArIFwiPVwiICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzZXRGdW5jdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBXZSBhbHNvIHNoaW0gdGhlIHN0eWxlIHByb3BlcnR5LCB1c2luZyBhIHN0eWxlIHByb3h5IG9iamVjdDpcbiAgICAgICAgVmlkZW9FbGVtZW50U2hpbS5zaGltbWVkU3R5bGVQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5U3RyaW5nKSB7XG4gICAgICAgICAgICBwcm94eVtwcm9wZXJ0eVN0cmluZ10gPSBvcmlnaW5hbEVsZW1lbnQuc3R5bGVbcHJvcGVydHlTdHJpbmddO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBwcm94eVsnZ2V0X3N0eWxlX29yaWdpbmFsJ10gPSBvcmlnaW5hbEVsZW1lbnQuX19sb29rdXBHZXR0ZXJfXygnc3R5bGUnKTtcbiAgICAgICAgdmFyIHN0eWxlUHJveHlIYW5kbGVyID0ge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHRhcmdldC5mYWxsYmFja09iamVjdElkICsgXCJdLnN0eWxlOjpnZXQgLSBcIiArIHByb3ApO1xuICAgICAgICAgICAgICAgIGlmIChWaWRlb0VsZW1lbnRTaGltLnNoaW1tZWRTdHlsZVByb3BlcnRpZXMuaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5W3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlID0gcHJveHlbJ2dldF9zdHlsZV9vcmlnaW5hbCddLmFwcGx5KG9yaWdpbmFsRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZVtwcm9wXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHRhcmdldC5mYWxsYmFja09iamVjdElkICsgXCJdLnN0eWxlOjpzZXQgLSBcIiArIHByb3ApO1xuICAgICAgICAgICAgICAgIGlmIChWaWRlb0VsZW1lbnRTaGltLnNoaW1tZWRTdHlsZVByb3BlcnRpZXMuaW5jbHVkZXMocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJveHlbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IHByb3h5WydnZXRfc3R5bGVfb3JpZ2luYWwnXS5hcHBseShvcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdHlsZSA9IG5ldyBQcm94eSh0aGlzLCBzdHlsZVByb3h5SGFuZGxlcik7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcmlnaW5hbEVsZW1lbnQsICdzdHlsZScsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHByb3h5LmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OmdldCAtIHN0eWxlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm94eS5zdHlsZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBWaWRlb0VsZW1lbnRTaGltLmV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiBvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSBmcm9tIGh0dHBzOi8vd2VicnRjLmdpdGh1Yi5pby9hZGFwdGVyL2FkYXB0ZXItbGF0ZXN0LmpzXG4gICAgICAgICAgICB2YXIgcHJvcE5hbWUgPSAnX29uJyArIGV2ZW50TmFtZSArICdldmVudEhhbmRsZXInO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9yaWdpbmFsRWxlbWVudCwgJ29uJyArIGV2ZW50TmFtZSwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJveHlbcHJvcE5hbWVdIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJveHlbcHJvcE5hbWVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHByb3h5W3Byb3BOYW1lXSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcHJveHlbcHJvcE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5W3Byb3BOYW1lXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHByb3h5W3Byb3BOYW1lXSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodGhpcy5wbGF5YmFja1BhdGhNb2RlICE9IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmlnaW5hbEVsZW1lbnQuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGUgPSBvcmlnaW5hbEVsZW1lbnQuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBjYWxsIHNldElkbEF0dHJpYnV0ZSBkaXJlY3RseSBvbiB0aGUgdmlkZW9FbGVtZW50UmVkaXJlY3QsIHdlIGRvbid0IHdhbnQgdG8gc2V0IGF0dHJpYnV0ZXMgb24gb3JpZ2luYWwgZWxlbWVudCBhIHNlY29uZCB0aW1lXG4gICAgICAgICAgICAgICAgaWYgKFZpZGVvRWxlbWVudFNoaW0uYm9vbFNoaW1tZWRQcm9wZXJ0aWVzLmluY2x1ZGVzKGF0dHJpYnV0ZS5uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyB1c3VhbGx5IGJvb2wgYXR0cmlidXRlIChlLmcuIGF1dG9wbGF5KSBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIGluIGh0bWxcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldFZhbHVlID0gKGF0dHJpYnV0ZS52YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb0VsZW1lbnRSZWRpcmVjdC5zZXRJZGxBdHRyaWJ1dGUoYXR0cmlidXRlLm5hbWUsIHNldFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW9FbGVtZW50UmVkaXJlY3Quc2V0SWRsQXR0cmlidXRlKGF0dHJpYnV0ZS5uYW1lLCBhdHRyaWJ1dGUudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiBTT1VSQ0UgY2hpbGQgaXMgc2V0XG4gICAgICAgIG9yaWdpbmFsRWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09ICdTT1VSQ0UnKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltOjpWaWRlb0VsZW1lbnRTaGltIGZvdW5kIHNvdXJjZSBjaGlsZE5vZGVcIik7XG4gICAgICAgICAgICAgICAgcHJveHkub25Tb3VyY2VOb2RlQWRkZWQobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBNdXRhdGlvbiBvYnNlcnZlciBmb3IgU09VUkNFIGVsZW1lbnQgY2hpbGQgc2V0IG9uIHRoZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgIHZhciBjb25maWcgPSB7IGNoaWxkTGlzdDogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9O1xuICAgICAgICB2YXIgbXV0YXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtdXRhdGlvbnNMaXN0XzEgPSBtdXRhdGlvbnNMaXN0OyBfaSA8IG11dGF0aW9uc0xpc3RfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbXV0YXRpb24gPSBtdXRhdGlvbnNMaXN0XzFbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAnY2hpbGRMaXN0Jykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gbXV0YXRpb24uYWRkZWROb2RlczsgX2EgPCBfYi5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE5vZGUgPSBfYltfYV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGROb2RlLm5vZGVOYW1lID09ICdTT1VSQ0UnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltOjpWaWRlb0VsZW1lbnRTaGltIHNvdXJjZSBjaGlsZE5vZGUgaXMgYWRkZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkub25Tb3VyY2VOb2RlQWRkZWQoY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zb3VyY2VDaGlsZE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25DYWxsYmFjayk7XG4gICAgICAgIHRoaXMuc291cmNlQ2hpbGRPYnNlcnZlci5vYnNlcnZlKG9yaWdpbmFsRWxlbWVudCwgY29uZmlnKTtcbiAgICAgICAgLy8gU2V0IGEgMTBzZWMgdGltZW91dCB0byBmYWxsYmFjayB0byBmdWxsIHJlbW90ZSwganVzdCBpbiBjYXNlIGhvc3QgaXMgb3V0ZGF0ZWQgYW5kIGRvZXNuJ3Qgc2VuZCBzd2l0Y2hUb1JlbW90ZSBldmVudFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbSBzd2l0Y2hUb1JlbW90ZSAxMCBzZWMgdGltZW91dFwiKTtcbiAgICAgICAgICAgIHByb3h5LnN3aXRjaFRvUmVtb3RlKCk7XG4gICAgICAgIH0sIDEwMDAwKTtcbiAgICB9XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUubG9jYWxPclJlbW90ZUV4ZWN1dGUgPSBmdW5jdGlvbiAoZnVuY3Rpb25OYW1lLCBhcmdzQXJyYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoVmlkZW9FbGVtZW50U2hpbS5zaGltbWVkTWV0aG9kcy5pbmNsdWRlcyhmdW5jdGlvbk5hbWUpIHx8IGZ1bmN0aW9uTmFtZSA9PSAnc2V0SWRsQXR0cmlidXRlJyk7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGxvY2FsRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXNbZnVuY3Rpb25OYW1lICsgJ19vcmlnaW5hbCddLmFwcGx5KF90aGlzLm9yaWdpbmFsRWxlbWVudCwgYXJnc0FycmF5KTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnBsYXliYWNrUGF0aE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlJFTU9URTpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMudmlkZW9FbGVtZW50UmVkaXJlY3RbZnVuY3Rpb25OYW1lXS5hcHBseSh0aGlzLnZpZGVvRWxlbWVudFJlZGlyZWN0LCBhcmdzQXJyYXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuVU5LTk9XTjpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMudmlkZW9FbGVtZW50UmVkaXJlY3RbZnVuY3Rpb25OYW1lXS5hcHBseSh0aGlzLnZpZGVvRWxlbWVudFJlZGlyZWN0LCBhcmdzQXJyYXkpO1xuICAgICAgICAgICAgICAgIGlmIChWaWRlb0VsZW1lbnRTaGltLnBvc3RGYWxsYmFja1F1ZXVlTWV0aG9kcy5pbmNsdWRlcyhmdW5jdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFsbGJhY2tPYmplY3RNYW5hZ2VyLnF1ZXVlRmFsbGJhY2tGdW5jdGlvbih0aGlzLmZhbGxiYWNrT2JqZWN0SWQsIGxvY2FsRnVuY3Rpb24sIGZhbGxiYWNrT2JqZWN0TWFuYWdlcl8xLlF1ZXVlVHlwZS5QT1NURkFMTEJBQ0spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdE1hbmFnZXIucXVldWVGYWxsYmFja0Z1bmN0aW9uKHRoaXMuZmFsbGJhY2tPYmplY3RJZCwgbG9jYWxGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUw6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBsb2NhbEZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpsb2NhbE9yUmVtb3RlRXhlY3V0ZSAtIGZ1bmN0aW9uTmFtZT1cIiArIGZ1bmN0aW9uTmFtZSArIFwiIGFyZ3M9XCIgKyBhcmdzQXJyYXkgKyBcIiByZXR1cm49XCIgKyByZXR1cm5WYWx1ZSArIFwiIHBsYXliYWNrUGF0aE1vZGU9XCIgKyB0aGlzLnBsYXliYWNrUGF0aE1vZGUpO1xuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfTtcbiAgICAvLyBVc2VkIGZvciAncGxheScsIHdoaWNoIGhhcyBzb21lIGNvbXBsZXggbG9naWMgd2l0aCBjaGFpbmluZyBwcm9taXNlc1xuICAgIFZpZGVvRWxlbWVudFNoaW0ucHJvdG90eXBlLmxvY2FsT3JSZW1vdGVFeGVjdXRlRnVuY3Rpb25zID0gZnVuY3Rpb24gKGxvY2FsRnVuY3Rpb24sIHJlbW90ZUZ1bmN0aW9uKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5wbGF5YmFja1BhdGhNb2RlKSB7XG4gICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5SRU1PVEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5VTktOT1dOOlxuICAgICAgICAgICAgICAgIHRoaXMuZmFsbGJhY2tPYmplY3RNYW5hZ2VyLnF1ZXVlRmFsbGJhY2tGdW5jdGlvbih0aGlzLmZhbGxiYWNrT2JqZWN0SWQsIGxvY2FsRnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUw6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsRnVuY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUuc2V0RmFsbGJhY2tPYmplY3RJZCA9IGZ1bmN0aW9uIChmYWxsYmFja09iamVjdElkKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c2V0RmFsbGJhY2tPYmplY3RJZCAtIGZhbGxiYWNrT2JqZWN0SWQ6IFwiICsgZmFsbGJhY2tPYmplY3RJZCk7XG4gICAgICAgIHRoaXMuZmFsbGJhY2tPYmplY3RJZCA9IGZhbGxiYWNrT2JqZWN0SWQ7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zd2l0Y2hUb0xvY2FsID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UgPT09IHZvaWQgMCkgeyBtZXNzYWdlID0gXCJVbmtub3duLlwiOyB9XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c3dpdGNoVG9Mb2NhbCAtIHBsYXliYWNrUGF0aE1vZGU9XCIgKyB0aGlzLnBsYXliYWNrUGF0aE1vZGUgKyBcIiBtZXNzYWdlPVwiICsgbWVzc2FnZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV04pIHtcbiAgICAgICAgICAgIHRoaXMudmlkZW9FbGVtZW50UmVkaXJlY3QuY2FuY2VsUmVtb3RlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5wbGF5YmFja1BhdGhNb2RlID0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMO1xuICAgICAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdE1hbmFnZXIuc3dpdGNoVG9Mb2NhbCh0aGlzLmZhbGxiYWNrT2JqZWN0SWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zd2l0Y2hUb1JlbW90ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpzd2l0Y2hUb1JlbW90ZSAtIHBsYXliYWNrUGF0aE1vZGU9XCIgKyB0aGlzLnBsYXliYWNrUGF0aE1vZGUpO1xuICAgICAgICBpZiAodGhpcy5wbGF5YmFja1BhdGhNb2RlID09IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5VTktOT1dOKSB7XG4gICAgICAgICAgICB0aGlzLnBsYXliYWNrUGF0aE1vZGUgPSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuUkVNT1RFO1xuICAgICAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdE1hbmFnZXIuc3dpdGNoVG9SZW1vdGUodGhpcy5mYWxsYmFja09iamVjdElkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUuc2V0Q29udGVudEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICAvLyBhdHRyaWJ1dGVzIG1vZGlmaWVkIHZpYSBzZXRBdHRyaWJ1dGUgc2hvdWxkIGJlIHVwZGF0ZWQgaW4gaHRtbCB0b29cbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpzZXRDb250ZW50QXR0cmlidXRlIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgdGhpc1snc2V0QXR0cmlidXRlX29yaWdpbmFsJ10uYXBwbHkodGhpcy5vcmlnaW5hbEVsZW1lbnQsIFtuYW1lLCB2YWx1ZV0pO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUuc2V0SWRsQXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c2V0SWRsQXR0cmlidXRlIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgaWYgKG5hbWUgPT0gJ2N1cnJlbnRUaW1lJyAmJiB0aGlzLmN1cnJlbnRUaW1lICE9IHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNlZWtpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlT25TaGltKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuVU5LTk9XTikge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gJ3NyY09iamVjdCcgJiYgdGhpcy53ZWJydGNTdXBwb3J0VmVyc2lvbiA8IDIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkbyBub3Qgc3VwcG9ydCBzcmNPYmplY3QsIHdoaWNoIGlzIHVzZWQgaW4gV2ViUlRDXG4gICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hUb0xvY2FsKFwiVmlkZW9FbGVtZW50U2hpbSBzcmNPYmplY3QgYXR0cmlidXRlIHdhcyBzZXQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSA9PSAnc3JjJykge1xuICAgICAgICAgICAgICAgIHRoaXMuZmFsbGJhY2tPYmplY3RNYW5hZ2VyLmFkZEVsZW1lbnRUb1NvdXJjZUFzc29jaWF0aW9uKHRoaXMuZmFsbGJhY2tPYmplY3RJZCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9jYWxPclJlbW90ZUV4ZWN1dGUoJ3NldElkbEF0dHJpYnV0ZScsIFtuYW1lLCB2YWx1ZV0pO1xuICAgICAgICAvLyBpZiBzZXRJZGxBdHRyaWJ1dGUgaXMgc2V0dGluZyBzcmMgdG8gJycsIHNldCBzb3VyY2VOb2RlXG4gICAgICAgIGlmIChuYW1lID09ICdzcmMnICYmIHZhbHVlID09ICcnICYmIHRoaXMuc291cmNlTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGVja0FuZFNldFNyY0Zyb21Tb3VyY2VOb2RlKHRoaXMuc291cmNlTm9kZXNbMF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGVPblNoaW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICB2YXIgc2V0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKFZpZGVvRWxlbWVudFNoaW0uYm9vbFNoaW1tZWRQcm9wZXJ0aWVzLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZSA9IHZhbHVlID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHNoaW1bbmFtZV0gPSBzZXRWYWx1ZTtcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFNoaW0ucHJvdG90eXBlLm9uU291cmNlTm9kZUFkZGVkID0gZnVuY3Rpb24gKHNvdXJjZU5vZGUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltOjpvblNvdXJjZU5vZGVBZGRlZFwiKTtcbiAgICAgICAgdGhpcy5zb3VyY2VOb2Rlcy5wdXNoKHNvdXJjZU5vZGUpO1xuICAgICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHNldCB0aGUgZmlyc3Qgc291cmVOb2RlXG4gICAgICAgIC8vIFRvIGRvOiBpZiB0aGUgZmlyc3Qgc291cmNlTm9kZSBmYWlscyB0byBiZSBkZWNvZGVkLCB3ZSB0cnkgdGhlIG5leHQgc291cmVOb2RlXG4gICAgICAgIGlmICh0aGlzLnNvdXJjZU5vZGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQW5kU2V0U3JjRnJvbVNvdXJjZU5vZGUoc291cmNlTm9kZSk7XG4gICAgICAgICAgICB2YXIgcHJveHlfMSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlIH07XG4gICAgICAgICAgICB2YXIgbXV0YXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgbXV0YXRpb25zTGlzdF8yID0gbXV0YXRpb25zTGlzdDsgX2kgPCBtdXRhdGlvbnNMaXN0XzIubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtdXRhdGlvbiA9IG11dGF0aW9uc0xpc3RfMltfaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09ICdzcmMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eV8xLmNoZWNrQW5kU2V0U3JjRnJvbVNvdXJjZU5vZGUoc291cmNlTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VDaGlsZEF0dHJpYnV0ZU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25DYWxsYmFjayk7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUNoaWxkQXR0cmlidXRlT2JzZXJ2ZXIub2JzZXJ2ZShzb3VyY2VOb2RlLCBjb25maWcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5jaGVja0FuZFNldFNyY0Zyb21Tb3VyY2VOb2RlID0gZnVuY3Rpb24gKHNvdXJjZU5vZGUpIHtcbiAgICAgICAgaWYgKCh0aGlzLnNyYyA9PSB1bmRlZmluZWQgfHwgdGhpcy5zcmMgPT0gJycpXG4gICAgICAgICAgICAmJiBzb3VyY2VOb2RlWydzcmMnXSAhPSAnJykge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltOjpjaGVja0FuZFNldFNyY0Zyb21Tb3VyY2VOb2RlIFwiICsgc291cmNlTm9kZVsnc3JjJ10pO1xuICAgICAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdE1hbmFnZXIuYWRkRWxlbWVudFRvU291cmNlQXNzb2NpYXRpb24odGhpcy5mYWxsYmFja09iamVjdElkLCBzb3VyY2VOb2RlWydzcmMnXSk7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5YmFja1BhdGhNb2RlICE9IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9FbGVtZW50UmVkaXJlY3Quc2V0SWRsQXR0cmlidXRlKCdzcmMnLCBzb3VyY2VOb2RlWydzcmMnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIERPTSBFbGVtZW50IG1ldGhvZHMgKG5vdCBpbmNsdWRpbmcgZXZlbnQgbGlzdGVuZXIgbWV0aG9kcylcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFNoaW1bXCIgKyBzaGltLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OnNldEF0dHJpYnV0ZSAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIHNoaW0uc2V0Q29udGVudEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgIGlmIChzaGltLnBsYXliYWNrUGF0aE1vZGUgIT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHNldElkbEF0dHJpYnV0ZSBkaXJlY3RseSBvbiB0aGUgdmlkZW9FbGVtZW50UmVkaXJlY3QsIHdlIGFscmVhZHkgaGFuZGxlIGxvY2FsIHBsYXliYWNrIHBhdGggd2hlbiBjYWxsaW5nIHNldENvbnRlbnRBdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmIChWaWRlb0VsZW1lbnRTaGltLmJvb2xTaGltbWVkUHJvcGVydGllcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXRWYWx1ZSA9ICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICBzaGltLnZpZGVvRWxlbWVudFJlZGlyZWN0LnNldElkbEF0dHJpYnV0ZShuYW1lLCBzZXRWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaGltLnZpZGVvRWxlbWVudFJlZGlyZWN0LnNldElkbEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2hpbS5zZXRBdHRyaWJ1dGVPblNoaW0obmFtZSwgdmFsdWUpO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFNoaW1bXCIgKyBzaGltLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OnJlbW92ZUF0dHJpYnV0ZSAtIG5hbWU6IFwiICsgbmFtZSk7XG4gICAgICAgIHNoaW1bJ3JlbW92ZUF0dHJpYnV0ZV9vcmlnaW5hbCddLmFwcGx5KHNoaW0ub3JpZ2luYWxFbGVtZW50LCBbbmFtZV0pO1xuICAgICAgICBzaGltLnNldEF0dHJpYnV0ZU9uU2hpbShuYW1lLCBzaGltLm9yaWdpbmFsRWxlbWVudFtuYW1lXSk7XG4gICAgfTtcbiAgICAvLyBIVE1MVmlkZW9FbGVtZW50IG1ldGhvZHNcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBpZiAoc2hpbS5wbGF5YmFja1BhdGhNb2RlID09IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgcmV0dXJuIHNoaW1bJ2dldFZpZGVvUGxheWJhY2tRdWFsaXR5X29yaWdpbmFsJ10uYXBwbHkoc2hpbS5vcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGltLnZpZGVvRWxlbWVudFJlZGlyZWN0LmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XG4gICAgfTtcbiAgICAvLyBIVE1MTWVkaWFFbGVtZW50IHNoaW1tZWQgbWV0aG9kc1xuICAgIFZpZGVvRWxlbWVudFNoaW0ucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHNoaW0uZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6cGF1c2VcIik7XG4gICAgICAgIGlmIChzaGltLnBsYXliYWNrUGF0aE1vZGUgIT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICAvLyAnd29ya2Fyb3VuZCcgdG8gc2V0IHJlYWRvbmx5IGF0dHJpYnV0ZSBvbiBnZW5lcmljIG9iamVjdFxuICAgICAgICAgICAgZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpLnBhdXNlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc2hpbS5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgncGF1c2UnLCBbXSk7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zZXRNZWRpYUtleXMgPSBmdW5jdGlvbiAobWVkaWFLZXlzKSB7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgc2hpbS5mYWxsYmFja09iamVjdElkICsgXCJdOjpzZXRNZWRpYUtleXNcIik7XG4gICAgICAgIGlmIChtZWRpYUtleXMgIT0gdW5kZWZpbmVkICYmIHNoaW0ucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuVU5LTk9XTikge1xuICAgICAgICAgICAgLy8gV2UgZG8gbm90IHN1cHBvcnQgc2V0TWVkaWFLZXlzLCB3aGljaCBpcyB1c2VkIGluIERSTVxuICAgICAgICAgICAgc2hpbS5zd2l0Y2hUb0xvY2FsKFwiVmlkZW9FbGVtZW50U2hpbSBzZXRNZWRpYUtleXMgd2FzIGNhbGxlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNoaW0ucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUwpIHtcbiAgICAgICAgICAgIHJldHVybiBzaGltWydzZXRNZWRpYUtleXNfb3JpZ2luYWwnXS5hcHBseShzaGltLm9yaWdpbmFsRWxlbWVudCwgW21lZGlhS2V5c10pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUud2FybihcIlZpZGVvRWxlbWVudDogVW5pbXBsZW1lbnRlZCBNU1JEQyBzaGltIG1ldGhvZFwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uICgpIHsgfSk7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHNoaW0uZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6cGxheVwiKTtcbiAgICAgICAgaWYgKHNoaW0ucGxheWJhY2tQYXRoTW9kZSAhPSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUwpIHtcbiAgICAgICAgICAgIC8vICd3b3JrYXJvdW5kJyB0byBzZXQgcmVhZG9ubHkgYXR0cmlidXRlIG9uIGdlbmVyaWMgb2JqZWN0XG4gICAgICAgICAgICBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykucGF1c2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbFBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2hpbVsncGxheV9vcmlnaW5hbCddLmFwcGx5KHNoaW0ub3JpZ2luYWxFbGVtZW50KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsgcmVzb2x2ZSgpOyB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsgcmVqZWN0KGVycm9yKTsgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHJlbW90ZVBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2hpbS52aWRlb0VsZW1lbnRSZWRpcmVjdC5wbGF5KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJlc29sdmUoKTsgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IHJlamVjdChlcnJvcik7IH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHNoaW0ubG9jYWxPclJlbW90ZUV4ZWN1dGVGdW5jdGlvbnMobG9jYWxQbGF5LCByZW1vdGVQbGF5KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zZXRTaW5rSWQgPSBmdW5jdGlvbiAoc2lua0lkKSB7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpzZXRTaW5rSWQ6IGVsZW1lbnRJZDogXCIgKyBzaGltLm9yaWdpbmFsRWxlbWVudC5pZCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxTZXRTaW5rSWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UgcmVkaXJlY3QgTWVkaWFEZXZpY2VzLCB0aGUgZGV2aWNlIGlkcyB3aWxsIGFsbCBiZSByZWRpcmVjdGVkIG9uZXMsIGFuZCB3aWxsIG5vdCBiZSByZWNnb25pemVkIGJ5IHRoZSBsb2NhbCBtZWRpYSBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFdoZW4gYSBsb2NhbCBtZWRpYSBlbGVtZW50IGlzIHVzZWQgaW4gYSBSRCBzZXNzaW9uLCB0aGVyZSB3aWxsIGJlIGVpdGhlciB6ZXJvIG9yIG9uZSBhdWRpbyBkZXZpY2VzIGFueXdheSwgc28gd2UgY2FuIHNpbXBseSBhY2NlcHRcbiAgICAgICAgICAgICAgICAvLyB0aGUgZGV2aWNlIGlkIHRoYXQgd2FzIHBhc3NlZCBpbiBhbmQgbGV0IHRoZSBhdWRpbyBkZXZpY2UgdXNlIHRoZSBkZWZhdWx0IGF1ZGlvIG91dHB1dCBkZXZpY2UsIHdoaWNoIGlzIHRoZSBvbmx5IHBvc3NpYmxlIGNob2ljZS5cbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkFjY2VwdGluZyB0aGUgcmVxdWVzdGVkIGRldmljZSBpZCB3aGVuIGV4ZWN1dGluZyBzZXRTaW5rSWQgb24gbG9jYWwgZWxlbWVudFwiKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHJlbW90ZVNldFNpbmtJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzaGltLnZpZGVvRWxlbWVudFJlZGlyZWN0LnNldFNpbmtJZChzaW5rSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXNvbHZlKCk7IH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlRnVuY3Rpb25zKGxvY2FsU2V0U2lua0lkLCByZW1vdGVTZXRTaW5rSWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFNoaW0ucHJvdG90eXBlLmNhblBsYXlUeXBlID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICB2YXIgcmV0ID0gc2hpbVsnY2FuUGxheVR5cGVfb3JpZ2luYWwnXS5hcHBseShzaGltLm9yaWdpbmFsRWxlbWVudCwgW3R5cGVdKTtcbiAgICAgICAgY29uc29sZS53YXJuKFwiVmlkZW9FbGVtZW50OiBVbmltcGxlbWVudGVkIE1TUkRDIHNoaW0gbWV0aG9kXCIpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFNoaW1bXCIgKyBzaGltLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06IGNhbnBsYXlUeXBlIHR5cGU9XCIgKyB0eXBlICsgXCIgcmV0PVwiICsgcmV0KTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFNoaW0ucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgc2hpbS5mYWxsYmFja09iamVjdElkICsgXCJdOjpsb2FkXCIpO1xuICAgICAgICBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdsb2FkJywgW10pO1xuICAgIH07XG4gICAgLy8gQ29tbW9uIHNoaW1tZWQgbWV0aG9kc1xuICAgIC8vIGFkZEV2ZW50TGlzdGVuZXIsIHJlbW92ZUV2ZW50TGlzdGVuZXIsIGRpc3BhdGNoRXZlbnQgYXJlIGltcGxlbWVudGVkIHVzaW5nIHRoZSBvcmlnaW5hbCB2aWRlbyBlbGVtZW50XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHNoaW0uZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgIGlmIChlbGVtZW50U2hpbUNvbW1vbl8xLlNoaW1Db21tb24uaW5pdGlhbFBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICAvLyBhZGQgYSBsaXN0ZW5lciBmb3IgXCJwYXNzdGhyb3VnaFwiIG1vZGUgZm9yIGxvZ2dpbmcgcHVycG9zZXNcbiAgICAgICAgICAgIHZhciBvbkV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRTaGltW1wiICsgc2hpbS5mYWxsYmFja09iamVjdElkICsgXCJdW0xPQ0FMXTo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSArIFwiIGZpcmVkIVwiKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzaGltWydyZW1vdmVFdmVudExpc3RlbmVyX29yaWdpbmFsJ10uYXBwbHkoc2hpbS5vcmlnaW5hbEVsZW1lbnQsIFt0eXBlLCBvbkV2ZW50TGlzdGVuZXIsIG9wdGlvbnNdKTtcbiAgICAgICAgICAgIHNoaW1bJ2FkZEV2ZW50TGlzdGVuZXJfb3JpZ2luYWwnXS5hcHBseShzaGltLm9yaWdpbmFsRWxlbWVudCwgW3R5cGUsIG9uRXZlbnRMaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaGltWydhZGRFdmVudExpc3RlbmVyX29yaWdpbmFsJ10uYXBwbHkoc2hpbS5vcmlnaW5hbEVsZW1lbnQsIFt0eXBlLCBsaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHNoaW0uZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgIHJldHVybiBzaGltWydyZW1vdmVFdmVudExpc3RlbmVyX29yaWdpbmFsJ10uYXBwbHkoc2hpbS5vcmlnaW5hbEVsZW1lbnQsIFt0eXBlLCBsaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50U2hpbS5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50U2hpbVtcIiArIHNoaW0uZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6ZGlzcGF0Y2hFdmVudCAtIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIHJldHVybiBzaGltWydkaXNwYXRjaEV2ZW50X29yaWdpbmFsJ10uYXBwbHkoc2hpbS5vcmlnaW5hbEVsZW1lbnQsIFtldmVudF0pO1xuICAgIH07XG4gICAgLy8gRXZlbnRzIHN1cHBvcnRlZCBieSBob3N0IGNvbXBvbmVudFxuICAgIFZpZGVvRWxlbWVudFNoaW0uZXZlbnRIYW5kbGVycyA9IFsnYWJvcnQnLCAnY2FucGxheScsICdjYW5wbGF5dGhyb3VnaCcsICdkdXJhdGlvbmNoYW5nZScsICdlbXB0aWVkJywgJ2VuZGVkJywgJ2Vycm9yJywgJ2xvYWRlZGRhdGEnLCAnbG9hZGVkbWV0YWRhdGEnLFxuICAgICAgICAnbG9hZHN0YXJ0JywgJ3BhdXNlJywgJ3BsYXknLCAncGxheWluZycsICdwcm9ncmVzcycsICdyYXRlY2hhbmdlJywgJ3NlZWtlZCcsICdzZWVraW5nJywgJ3N0YWxsZWQnLCAnc3VzcGVuZCcsICd0aW1ldXBkYXRlJywgJ3ZvbHVtZWNoYW5nZScsICd3YWl0aW5nJ107XG4gICAgLy8gTGlzdCBvZiBvcmlnaW5hbEVsZW1lbnQgZnVuY3Rpb25zIHdlIHJlZGlyZWN0XG4gICAgVmlkZW9FbGVtZW50U2hpbS5zaGltbWVkTWV0aG9kcyA9IFsnc2V0QXR0cmlidXRlJywgJ3JlbW92ZUF0dHJpYnV0ZScsICdwbGF5JywgJ3BhdXNlJywgJ3NldE1lZGlhS2V5cycsICdzZXRTaW5rSWQnLCAnY2FuUGxheVR5cGUnLCAnbG9hZCcsICdnZXRWaWRlb1BsYXliYWNrUXVhbGl0eScsXG4gICAgICAgICdhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInLCAnZGlzcGF0Y2hFdmVudCddO1xuICAgIFZpZGVvRWxlbWVudFNoaW0uc2hpbW1lZFByb3BlcnRpZXMgPSB2aWRlb0VsZW1lbnRfcmVkaXJlY3RfMS5WaWRlb0VsZW1lbnRSZWRpcmVjdC5yZWRpcmVjdEF0dHJpYnV0ZXM7XG4gICAgVmlkZW9FbGVtZW50U2hpbS5ib29sU2hpbW1lZFByb3BlcnRpZXMgPSB2aWRlb0VsZW1lbnRfcmVkaXJlY3RfMS5WaWRlb0VsZW1lbnRSZWRpcmVjdC5ib29sUmVkaXJlY3RBdHRyaWJ1dGVzO1xuICAgIFZpZGVvRWxlbWVudFNoaW0uc2hpbW1lZFN0eWxlUHJvcGVydGllcyA9IFsnb3BhY2l0eSddO1xuICAgIC8vIER1cmluZyBzd2l0Y2hUb0xvY2FsLCBldmVudCBsaXN0ZW5lciBtZXRob2RzIHNob3VsZCBiZSBleGVjdXRlZCBhZnRlcndhcmRzIHNvIHRoYXRcbiAgICAvLyBjYWxsZXJzIGRvIG5vdCByZWNlaXZlIGV2ZW50IG5vdGlmaWNhdGlvbnMgdHdpY2UgKG9uY2UgZnJvbSBzaGltLCBhbmQgb25jZSBmcm9tIG9yaWdpbmFsKVxuICAgIFZpZGVvRWxlbWVudFNoaW0ucG9zdEZhbGxiYWNrUXVldWVNZXRob2RzID0gWydhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInXTtcbiAgICByZXR1cm4gVmlkZW9FbGVtZW50U2hpbTtcbn0oKSk7XG5leHBvcnRzLlZpZGVvRWxlbWVudFNoaW0gPSBWaWRlb0VsZW1lbnRTaGltO1xuZnVuY3Rpb24gc2V0dXBWaWRlb0VsZW1lbnRTaGltcyhyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uLCB2aWRlb0VsZW1lbnQsIHZpZGVvU3RhdHVzT3ZlcmxheUVuYWJsZWQsIHZpZGVvT3V0bGluZXNFbmFibGVkLCB3ZWJydGNTdXBwb3J0VmVyc2lvbikge1xuICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU2hpbW1pbmcgdmlkZW8gZWxlbWVudDogXCIgKyB2aWRlb0VsZW1lbnQub3V0ZXJIVE1MKTtcbiAgICB2YXIgdmlkZW9FbGVtZW50U2hpbSA9IG5ldyBWaWRlb0VsZW1lbnRTaGltKHJlbW90ZU9iamVjdE1hbmFnZXIsIGZhbGxiYWNrT2JqZWN0TWFuYWdlciwgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24sIHZpZGVvRWxlbWVudCwgdmlkZW9TdGF0dXNPdmVybGF5RW5hYmxlZCwgdmlkZW9PdXRsaW5lc0VuYWJsZWQsIHdlYnJ0Y1N1cHBvcnRWZXJzaW9uKTtcbiAgICByZXR1cm4gdmlkZW9FbGVtZW50O1xufVxuZXhwb3J0cy5zZXR1cFZpZGVvRWxlbWVudFNoaW1zID0gc2V0dXBWaWRlb0VsZW1lbnRTaGltcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5WaWRlb0VsZW1lbnRSZWRpcmVjdCA9IHZvaWQgMDtcbnZhciBoYXJkY29kZWRPY2NsdXNpb25UcmFja2VyXzEgPSByZXF1aXJlKFwiLi9oYXJkY29kZWRPY2NsdXNpb25UcmFja2VyXCIpO1xudmFyIG1tcl9tYWluXzEgPSByZXF1aXJlKFwiLi9tbXJfbWFpblwiKTtcbnZhciBlbGVtZW50U2hpbUNvbW1vbl8xID0gcmVxdWlyZShcIi4vZWxlbWVudFNoaW1Db21tb25cIik7XG52YXIgbG9jYWxpemVkU3RyaW5nSGFuZGxlcl8xID0gcmVxdWlyZShcIi4vbG9jYWxpemVkU3RyaW5nSGFuZGxlclwiKTtcbnZhciBsb2dnaW5nQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nQ29tbW9uXCIpO1xudmFyIFBsYXliYWNrU3RhdHVzO1xuKGZ1bmN0aW9uIChQbGF5YmFja1N0YXR1cykge1xuICAgIFBsYXliYWNrU3RhdHVzW1BsYXliYWNrU3RhdHVzW1wiUmVuZGVyaW5nXCJdID0gMF0gPSBcIlJlbmRlcmluZ1wiO1xuICAgIFBsYXliYWNrU3RhdHVzW1BsYXliYWNrU3RhdHVzW1wiTm90UmVuZGVyaW5nXCJdID0gMV0gPSBcIk5vdFJlbmRlcmluZ1wiO1xuICAgIFBsYXliYWNrU3RhdHVzW1BsYXliYWNrU3RhdHVzW1wiUGF1c2VkXCJdID0gMl0gPSBcIlBhdXNlZFwiO1xufSkoUGxheWJhY2tTdGF0dXMgfHwgKFBsYXliYWNrU3RhdHVzID0ge30pKTtcbnZhciBWaWRlb0VsZW1lbnRTaGltUGxheWJhY2tRdWFsaXR5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFZpZGVvRWxlbWVudFNoaW1QbGF5YmFja1F1YWxpdHkoY3JlYXRpb25UaW1lLCBjb3JydXB0ZWRWaWRlb0ZyYW1lcywgZHJvcHBlZFZpZGVvRnJhbWVzLCB0b3RhbEZyYW1lRGVsYXksIHRvdGFsVmlkZW9GcmFtZXMpIHtcbiAgICAgICAgdGhpcy5jcmVhdGlvblRpbWUgPSBjcmVhdGlvblRpbWU7XG4gICAgICAgIHRoaXMuY29ycnVwdGVkVmlkZW9GcmFtZXMgPSBjb3JydXB0ZWRWaWRlb0ZyYW1lcztcbiAgICAgICAgdGhpcy5kcm9wcGVkVmlkZW9GcmFtZXMgPSBkcm9wcGVkVmlkZW9GcmFtZXM7XG4gICAgICAgIHRoaXMudG90YWxGcmFtZURlbGF5ID0gdG90YWxGcmFtZURlbGF5O1xuICAgICAgICB0aGlzLnRvdGFsVmlkZW9GcmFtZXMgPSB0b3RhbFZpZGVvRnJhbWVzO1xuICAgIH1cbiAgICByZXR1cm4gVmlkZW9FbGVtZW50U2hpbVBsYXliYWNrUXVhbGl0eTtcbn0oKSk7XG52YXIgVmlkZW9FbGVtZW50UmVkaXJlY3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVmlkZW9FbGVtZW50UmVkaXJlY3QocmVtb3RlT2JqZWN0TWFuYWdlciwgb3JpZ2luYWxFbGVtZW50LCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbiwgdmlkZW9TdGF0dXNPdmVybGF5RW5hYmxlZCwgdmlkZW9PdXRsaW5lc0VuYWJsZWQpIHtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyID0gcmVtb3RlT2JqZWN0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVsZW1lbnQgPSBvcmlnaW5hbEVsZW1lbnQ7XG4gICAgICAgIHRoaXMub2NjbHVzaW9uU3VwcG9ydFZlcnNpb24gPSBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbjtcbiAgICAgICAgdGhpcy52aWRlb1N0YXR1c092ZXJsYXlFbmFibGVkID0gdmlkZW9TdGF0dXNPdmVybGF5RW5hYmxlZDtcbiAgICAgICAgdGhpcy52aWRlb091dGxpbmVzRW5hYmxlZCA9IHZpZGVvT3V0bGluZXNFbmFibGVkO1xuICAgICAgICAvLyBTaGltIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdElkID0gMDtcbiAgICAgICAgdGhpcy5jcmVhdGlvblRpbWUgPSAwO1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWJWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaWdub3JlVGltZVVwZGF0ZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbGVtZW50UmVjdFVwZGF0ZUludGVydmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMucmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0VmFsaWRWaWRlb1JlY3QgPSBuZXcgRE9NUmVjdCgwLCAwLCAwLCAwKTtcbiAgICAgICAgdGhpcy5wYXJlbnRFbGVtZW50Q2xpcFJlY3RzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuaGFzUG9zaXRpb25lZEFuY2VzdG9yID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZWxlbWVudFZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnN3aXRjaFRvTG9jYWwgPSBmYWxzZTtcbiAgICAgICAgLy8gV2ViUlRDIHBsYXliYWNrIHRyYWNraW5nXG4gICAgICAgIHRoaXMuaXNXZWJSVENNb2RlID0gZmFsc2U7XG4gICAgICAgIC8vIGJvb2xlYW4gdG8gdHJhY2sgd2hldGhlciB3ZSBzaG91bGQgY2hlY2sgbG9jYWwgdmlkZW9FbGVtZW50IHRvIGRldGVybWluZSBpZiB3ZSBzaG91bGQgc3VwcHJlc3MgcGxheVxuICAgICAgICB0aGlzLmNoZWNrTG9jYWxQbGF5U3VwcHJlc3NlZCA9IHRydWU7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0QWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBhdHRlcm5EZWZFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYXR0ZXJuU2NhbGVGYWN0b3IgPSAwO1xuICAgICAgICB0aGlzLnByZXZpb3VzVG90YWxWaWRlb0ZyYW1lcyA9IC0xO1xuICAgICAgICB0aGlzLmxhc3RWaWRlb1RpbWVzdGFtcCA9IDA7XG4gICAgICAgIHRoaXMucmVkaXJlY3Rpb25QbGF5aW5nID0gUGxheWJhY2tTdGF0dXMuTm90UmVuZGVyaW5nO1xuICAgICAgICB0aGlzLmRpc3BsYXllZFJlZGlyZWN0aW9uTWVzc2FnZSA9IGZhbHNlO1xuICAgICAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmNyZWF0ZU9iamVjdCh0aGlzLCBcIlZpZGVvRWxlbWVudFwiLCB7IFwib2NjbHVzaW9uU3VwcG9ydFZlcnNpb25cIjogb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24sIFwidXNlckFnZW50XCI6IHVzZXJBZ2VudCB9KTtcbiAgICAgICAgdGhpcy5jcmVhdGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgLy8gRm9yIGRlYnVnZ2luZywgcmVtb3ZlIHdoZW4gdmlkZW8gdG9nZ2xlcyBpbXBsZW1lbnRlZFxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpWaWRlb0VsZW1lbnRSZWRpcmVjdCAtIG92ZXJsYXk6IFwiICsgdGhpcy52aWRlb1N0YXR1c092ZXJsYXlFbmFibGVkICsgXCIsIG91dGxpbmVzOiBcIiArIHRoaXMudmlkZW9PdXRsaW5lc0VuYWJsZWQpO1xuICAgICAgICBpZiAodGhpcy5nZW5lcmljT2NjbHVzaW9uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInN2Z1wiKTtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICBpZiAodGhpcy52aWRlb091dGxpbmVzRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIC8vIE5PVEU6IGlmIHRoZSBvdXRsaW5lIGJvcmRlciBjb2xvciBpcyBjaGFuZ2VkLCBwbGVhc2UgYWxzbyB1cGRhdGUgUGF0dGVybkZpbmRlcjo6SXNPdXRsaW5lU3RhcnQgYXBwcm9wcmlhdGVseVxuICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUuYm9yZGVyID0gXCIxMHB4IHNvbGlkIHJlZFwiO1xuICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUuYm94U2l6aW5nID0gXCJib3JkZXItYm94XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTXV0YXRpb24gb2JzZXJ2ZXIgZm9yIGNvbnRlbnQgKEhUTUwpIGF0dHJpYnV0ZSBzZXQgb24gdGhlIG9yaWdpbmFsIGVsZW1lbnRcbiAgICAgICAgdmFyIHByb3h5ID0gdGhpcztcbiAgICAgICAgdmFyIG11dGF0aW9uVGFyZ2V0ID0gb3JpZ2luYWxFbGVtZW50O1xuICAgICAgICB2YXIgY29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlIH07XG4gICAgICAgIHZhciBtdXRhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG11dGF0aW9uc0xpc3RfMSA9IG11dGF0aW9uc0xpc3Q7IF9pIDwgbXV0YXRpb25zTGlzdF8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBtdXRhdGlvbiA9IG11dGF0aW9uc0xpc3RfMVtfaV07XG4gICAgICAgICAgICAgICAgcHJveHkub25Db250ZW50QXR0cmlidXRlVXBkYXRlZChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lLCBtdXRhdGlvblRhcmdldC5oYXNBdHRyaWJ1dGUobXV0YXRpb24uYXR0cmlidXRlTmFtZSkgPyBtdXRhdGlvblRhcmdldC5nZXRBdHRyaWJ1dGUobXV0YXRpb24uYXR0cmlidXRlTmFtZSkgOiB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbkNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUobXV0YXRpb25UYXJnZXQsIGNvbmZpZyk7XG4gICAgICAgIC8vIFBvbGwgYW5kIGludGVyc2VjdGlvbiBvYnNlcnZlcnMgZm9yIHZpZGVvRWxlbWVudCBkaW1lbnNpb24gYW5kIG9jY2x1c2lvbiBpbmZvcm1hdGlvblxuICAgICAgICB2YXIgaW50ZXJzZWN0aW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHJvb3Q6IG51bGwsXG4gICAgICAgICAgICByb290TWFyZ2luOiAnMHB4JyxcbiAgICAgICAgICAgIHRocmVzaG9sZDogMFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcmVkaXJlY3QgPSB0aGlzO1xuICAgICAgICB0aGlzLmNhbGxTZW5kRWxlbWVudFJlY3QgPSBmdW5jdGlvbiAoZSkgeyByZWRpcmVjdC5zZW5kRWxlbWVudFJlY3QocmVkaXJlY3QpOyB9O1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHRoaXMuY2FsbFNlbmRFbGVtZW50UmVjdCwgaW50ZXJzZWN0aW9uT3B0aW9ucyk7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLm9yaWdpbmFsRWxlbWVudCk7XG4gICAgICAgIHRoaXMudGFiVmlzaWJsZSA9ICFkb2N1bWVudC5oaWRkZW47XG4gICAgICAgIHRoaXMuc2VuZEVsZW1lbnRSZWN0KHRoaXMpO1xuICAgICAgICAvLyBUT0RPOiByZXBsYWNlIHBvbGxpbmdcbiAgICAgICAgdGhpcy5zY2hlZHVsZUVsZW1lbnRSZWN0VXBkYXRlKCk7XG4gICAgICAgIGlmICghdGhpcy5nZW5lcmljT2NjbHVzaW9uU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMub2NjbHVzaW9uVHJhY2tlciA9IGhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXJfMS5jcmVhdGVPY2NsdXNpb25UcmFja2VyRm9yU2l0ZShkb2N1bWVudC5VUkwsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5vY2NsdXNpb25UcmFja2VyLnN0YXJ0TW9uaXRvcmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuY2FsbFNlbmRFbGVtZW50UmVjdCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLmNhbGxTZW5kRWxlbWVudFJlY3QpO1xuICAgIH1cbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuZ2VuZXJpY09jY2x1c2lvblN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLm9jY2x1c2lvblN1cHBvcnRWZXJzaW9uID09IDEpO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm9uQ29udGVudEF0dHJpYnV0ZVVwZGF0ZWQgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6b25Db250ZW50QXR0cmlidXRlVXBkYXRlZCAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIGlzIGp1c3QgZm9yIGxvZ2dpbmcgcHVycG9zZXNcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5zZXRJZGxBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0SWRsQXR0cmlidXRlW0JFR0lOXSAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIHZhciBzZW5kVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgaWYgKG5hbWUgPT0gJ3NyYycpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgdG8gYXZvaWQgaGFuZ3Mgb24gY2VydGFpbiBzaXRlcyAoZS5nIFlvdXR1YmUpIHdoZW4gY3VycmVudCB0aW1lXG4gICAgICAgICAgICAvLyBpcyBub3QgaW1tZWRpYXRlbHkgcmVzZXRcbiAgICAgICAgICAgIGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzLm9yaWdpbmFsRWxlbWVudCkuY3VycmVudFRpbWUgPSAwO1xuICAgICAgICAgICAgdGhpcy5pZ25vcmVUaW1lVXBkYXRlcyA9IHRydWU7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFNoaW06Omlnbm9yZVRpbWVVcGRhdGVzID0gdHJ1ZVwiKTtcbiAgICAgICAgICAgIC8vIEhhbmRsaW5nIHRvIHNlbmQgZnVsbCB1cmwgaWYgaXQncyBhIHJlbGF0aXZlIFVSTFxuICAgICAgICAgICAgaWYgKHZhbHVlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNlbmRWYWx1ZSA9IChuZXcgVVJMKHNlbmRWYWx1ZSwgZG9jdW1lbnQuVVJMKSkudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB3ZSBzd2l0Y2ggb3V0IG9mIFdlYlJUQ01vZGVcbiAgICAgICAgICAgIHRoaXMuaXNXZWJSVENNb2RlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gJ2N1cnJlbnRUaW1lJyAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgICAgIHNlbmRWYWx1ZSA9IFwiMC4wXCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gJ3ByZWxvYWQnICYmIHZhbHVlICE9ICdub25lJykge1xuICAgICAgICAgICAgdGhpcy5vbkxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVmlkZW9FbGVtZW50UmVkaXJlY3QuYm9vbFJlZGlyZWN0QXR0cmlidXRlcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlQXR0cmlidXRlIGlzIGludGVycHJldGVkIGFzIFwidW5kZWZpbmVkXCIgdmFsdWVcbiAgICAgICAgICAgIC8vIEFjY29yZGluZyB0byB0aGUgSFRNTCBkb2NzLCBhdXRvUGxheT1cImZhbHNlXCIgb3IgYXV0b1BsYXk9XCJcIiBkb2VzIG5vdCBkaXNhYmxlIGF1dG9QbGF5IGJlY2F1c2UgYXMgbG9uZyBhcyB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQsIHRydWUgaXMgaW5mZXJyZWQuXG4gICAgICAgICAgICAvLyBUaGUgb25seSB3YXkgdG8gcHJldmVudCBhdXRvUGxheSBpcyB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZS4gVG8gaW1wbGVtZW50IHRoaXMsIHdlIGNoZWNrIGZvciBzdHJpY3QgZXF1YWxpdHkgd2l0aCBcIj09PVwiLlxuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmUgdGhhdCBlbXB0eSBzdHJpbmcsIFwiXCIgZG9lcyBub3QgZ2V0IGNhc3RlZCB0byBmYWxzZS5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNlbmRWYWx1ZSA9ICdmYWxzZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZW5kVmFsdWUgPSAndHJ1ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gJ3NyY09iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0TmV3TWVkaWFTdHJlYW0odmFsdWUpO1xuICAgICAgICAgICAgLy8gU3dpdGNoIGludG8gV2ViUlRDTW9kZVxuICAgICAgICAgICAgdGhpcy5pc1dlYlJUQ01vZGUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm94eSA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5sb2NhbE9iamVjdElkLCAnc2V0QXR0cmlidXRlJywgeyAnbmFtZSc6IG5hbWUsICd2YWx1ZSc6IHNlbmRWYWx1ZSB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgcHJveHkubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0SWRsQXR0cmlidXRlW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIGlmIChuYW1lID09ICdzcmMnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHByb3h5Lm9yaWdpbmFsRWxlbWVudCkuY3VycmVudFNyYyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHByb3h5Lmlnbm9yZVRpbWVVcGRhdGVzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHByb3h5LmxvY2FsT2JqZWN0SWQgKyBcIl06Omlnbm9yZVRpbWVVcGRhdGVzID0gZmFsc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm9uT2NjbHVzaW9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpvbk9jY2x1c2lvblVwZGF0ZVwiKTtcbiAgICAgICAgdGhpcy50YWJWaXNpYmxlID0gIWRvY3VtZW50LmhpZGRlbjtcbiAgICAgICAgdGhpcy5zZW5kRWxlbWVudFJlY3QodGhpcyk7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuc2NoZWR1bGVFbGVtZW50UmVjdFVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFJlY3RVcGRhdGVJbnRlcnZhbCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6c2NoZWR1bGVFbGVtZW50UmVjdFVwZGF0ZSAtIHRpbWVyIGFscmVhZHkgc2NoZWR1bGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6c2NoZWR1bGVFbGVtZW50UmVjdFVwZGF0ZSAtIHNjaGVkdWxpbmcgdGltZXJcIik7XG4gICAgICAgICAgICB2YXIgcmVkaXJlY3RfMSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRSZWN0VXBkYXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RfMS50YWJWaXNpYmxlID0gIWRvY3VtZW50LmhpZGRlbjtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF8xLnVwZGF0ZVBhcmVudEJvdW5kaW5nUmVjdHMoKTtcbiAgICAgICAgICAgICAgICByZWRpcmVjdF8xLnNlbmRFbGVtZW50UmVjdChyZWRpcmVjdF8xKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuY2FuY2VsRWxlbWVudFJlY3RVcGRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnRSZWN0VXBkYXRlSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OmNhbmNlbEVsZW1lbnRSZWN0VXBkYXRlIC0gY2xlYXJpbmcgZXhpc3RpbmcgdGltZXJcIik7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuZWxlbWVudFJlY3RVcGRhdGVJbnRlcnZhbCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRSZWN0VXBkYXRlSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6Y2FuY2VsRWxlbWVudFJlY3RVcGRhdGUgLSB0aW1lciBhbHJlYWR5IGNsZWFyZWRcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5zZXRMb2NhbE9iamVjdElkID0gZnVuY3Rpb24gKGxvY2FsT2JqZWN0SWQpIHtcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdElkID0gbG9jYWxPYmplY3RJZDtcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5nZXRMb2NhbE9iamVjdElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbE9iamVjdElkO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm9uUmVtb3RlT2JqZWN0Q3JlYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSB0cnVlO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLmludm9rZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06Omludm9rZUV2ZW50IC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJsb2Fkc3RhcnRcIikge1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5ZWRSZWRpcmVjdGlvbk1lc3NhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMucmVzZXRSZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5vcmlnaW5hbEVsZW1lbnQpLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLmludm9rZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIC8vIGFkZEV2ZW50TGlzdGVuZXIsIHJlbW92ZUV2ZW50TGlzdGVuZXIsIGRpc3BhdGNoRXZlbnQgYXJlIGhhbmRsZWQgYnkgVmlkZW9FbGVtZW50U2hpbSwgXG4gICAgICAgIC8vIGFuZCBhcmUgaW52b2tlZCB0aHJvdWdoIGludm9rZUV2ZW50IHRocm91Z2ggcmVtb3RlT2JqZWN0TWFuYWdlclxuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm9uQXR0cmlidXRlVXBkYXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06Om9uQXR0cmlidXRlVXBkYXRlIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIGVsZW1lbnRTaGltQ29tbW9uXzEudHJ5SnNvblN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzLm9yaWdpbmFsRWxlbWVudCk7XG4gICAgICAgIHZhciBzZXRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAodGhpcy5pZ25vcmVUaW1lVXBkYXRlcyAmJiBuYW1lID09IFwiY3VycmVudFRpbWVcIikge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6b25BdHRyaWJ1dGVVcGRhdGUgLSBpZ25vcmluZyBjdXJyZW50VGltZSB1cGRhdGVcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gXCJkdXJhdGlvblwiICYmIHZhbHVlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2V0VmFsdWUgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PSBcImJ1ZmZlcmVkXCIgfHwgbmFtZSA9PSBcInNlZWthYmxlXCIpIHtcbiAgICAgICAgICAgIHNldFZhbHVlID0gZWxlbWVudFNoaW1Db21tb25fMS5jcmVhdGVUaW1lUmFuZ2VzKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmFtZSA9PSBcInZpZGVvUGxheWJhY2tRdWFsaXR5XCIpIHtcbiAgICAgICAgICAgIHZhciBjb3JydXB0ZWRWaWRlb0ZyYW1lcyA9IHZhbHVlW1wiZnJhbWVzQ29ycnVwdGVkXCJdID8gdmFsdWVbXCJmcmFtZXNDb3JydXB0ZWRcIl0gOiAwO1xuICAgICAgICAgICAgdmFyIGRyb3BwZWRWaWRlb0ZyYW1lcyA9IHZhbHVlW1wiZnJhbWVzRHJvcHBlZFwiXSA/IHZhbHVlW1wiZnJhbWVzRHJvcHBlZFwiXSA6IDA7XG4gICAgICAgICAgICB2YXIgdG90YWxGcmFtZURlbGF5ID0gdmFsdWVbXCJ0b3RhbEZyYW1lRGVsYXlcIl0gPyB2YWx1ZVtcInRvdGFsRnJhbWVEZWxheVwiXSA6IDA7XG4gICAgICAgICAgICB2YXIgdG90YWxWaWRlb0ZyYW1lcyA9IHZhbHVlW1wiZnJhbWVzUmVuZGVyZWRcIl0gPyB2YWx1ZVtcImZyYW1lc1JlbmRlcmVkXCJdIDogMDtcbiAgICAgICAgICAgIHZhciBjcmVhdGlvblRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuY3JlYXRpb25UaW1lO1xuICAgICAgICAgICAgc2V0VmFsdWUgPSBuZXcgVmlkZW9FbGVtZW50U2hpbVBsYXliYWNrUXVhbGl0eShjcmVhdGlvblRpbWUsIGNvcnJ1cHRlZFZpZGVvRnJhbWVzLCBkcm9wcGVkVmlkZW9GcmFtZXMsIHRvdGFsRnJhbWVEZWxheSwgdG90YWxWaWRlb0ZyYW1lcyk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXliYWNrU3RhdHVzKHRvdGFsVmlkZW9GcmFtZXMsIGNyZWF0aW9uVGltZSwgc2hpbSk7XG4gICAgICAgIH1cbiAgICAgICAgc2hpbS5zZXRBdHRyaWJ1dGVPblNoaW0obmFtZSwgc2V0VmFsdWUpO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm9uQ29ubmVjdGlvbkV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50VHlwZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpvbkNvbm5lY3Rpb25FdmVudCAtIGV2ZW50VHlwZTogXCIgKyBldmVudFR5cGUpO1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09IFwiY2xpZW50Q29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm9jY2x1c2lvblRyYWNrZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9jY2x1c2lvblRyYWNrZXIuc3RhcnRNb25pdG9yaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlRWxlbWVudFJlY3RVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFR5cGUgPT0gXCJjbGllbnREaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMub2NjbHVzaW9uVHJhY2tlcikge1xuICAgICAgICAgICAgICAgIHRoaXMub2NjbHVzaW9uVHJhY2tlci5zdG9wTW9uaXRvcmluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsRWxlbWVudFJlY3RVcGRhdGUoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZERpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUeXBlID09IFwic3dpdGNoVG9SZW1vdGVcIikge1xuICAgICAgICAgICAgZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMub3JpZ2luYWxFbGVtZW50KS5zd2l0Y2hUb1JlbW90ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUudXBkYXRlUGxheWJhY2tTdGF0dXMgPSBmdW5jdGlvbiAodmlkZW9GcmFtZXMsIHRpbWUsIHNoaW0pIHtcbiAgICAgICAgaWYgKHRoaXMucHJldmlvdXNUb3RhbFZpZGVvRnJhbWVzID09IHZpZGVvRnJhbWVzKSB7XG4gICAgICAgICAgICAvLyBJZiBuZXcgdmlkZW8gZnJhbWVzIGhhdmUgbm90IGJlZW4gcmVuZGVyZWQgaW4gNTAwIG1zLCBhc3N1bWUgdmlkZW8gaXMgbm8gbG9uZ2VyIHJlZGlyZWN0aW5nXG4gICAgICAgICAgICBpZiAodGhpcy5yZWRpcmVjdGlvblBsYXlpbmcgPT0gUGxheWJhY2tTdGF0dXMuUmVuZGVyaW5nICYmIHRpbWUgLSB0aGlzLmxhc3RWaWRlb1RpbWVzdGFtcCA+IDUwMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06Om9uQXR0cmlidXRlVXBkYXRlIC0gZnJhbWVzIG5vIGxvbmdlciByZW5kZXJpbmcsIFwiICsgc2hpbS5wYXVzZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5sb2NhbE9iamVjdElkLCAnc2hvd1BhdXNlJywgeyB0eXBlOiAndmlkZW8nIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6c2hvd1BhdXNlXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucmVkaXJlY3Rpb25QbGF5aW5nID0gUGxheWJhY2tTdGF0dXMuTm90UmVuZGVyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVkaXJlY3Rpb25QbGF5aW5nID09IFBsYXliYWNrU3RhdHVzLk5vdFJlbmRlcmluZykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06Om9uQXR0cmlidXRlVXBkYXRlIC0gZnJhbWVzIHJlbmRlcmluZ1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3Nob3dQbGF5JywgeyB0eXBlOiAndmlkZW8nIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6c2hvd1BsYXlcIik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWRpcmVjdGlvblBsYXlpbmcgPSBQbGF5YmFja1N0YXR1cy5SZW5kZXJpbmc7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlkZW9TdGF0dXNPdmVybGF5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNUb3RhbFZpZGVvRnJhbWVzID0gdmlkZW9GcmFtZXM7XG4gICAgICAgICAgICB0aGlzLmxhc3RWaWRlb1RpbWVzdGFtcCA9IHRpbWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5hZGREaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlzY29ubmVjdGVkTWVzc2FnZUVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlUGF0dGVybkVsZW1lbnQobmV3IERPTVJlY3QoKSk7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGVkTWVzc2FnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgbG9jYWxpemVkRGlzY29ubmVjdGVkTWVzc2FnZSA9IGxvY2FsaXplZFN0cmluZ0hhbmRsZXJfMS5Mb2NhbGl6ZWRTdHJpbmdIYW5kbGVyLmdldExvY2FsaXplZFN0cmluZ3MoKVsnZGlzY29ubmVjdGVkTWVzc2FnZSddO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50LmlubmVySFRNTCA9IFwiPGgxPlwiICsgbG9jYWxpemVkRGlzY29ubmVjdGVkTWVzc2FnZSArIFwiPC9oMT5cIjtcbiAgICAgICAgdGhpcy51cGRhdGVEaXNjb25uZWN0ZWRNZXNzYWdlUmVjdCgpO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gXCIwLjlcIjtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS5jb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZGlzY29ubmVjdGVkTWVzc2FnZUVsZW1lbnQpO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLnJlc2V0UmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChWaWRlb0VsZW1lbnRSZWRpcmVjdC5yZWRpcmVjdGlvbk1lc3NhZ2VFbGVtZW50SWQpO1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0aGlzLnJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBWaWRlb0VsZW1lbnRSZWRpcmVjdC5yZWRpcmVjdGlvbk1lc3NhZ2VFbGVtZW50SWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuYWRkUmVkaXJlY3Rpb25GYWlsZWRNZXNzYWdlRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZGVvU3RhdHVzT3ZlcmxheUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjphZGRSZWRpcmVjdGlvbkZhaWxlZE1lc3NhZ2VFbGVtZW50XCIpO1xuICAgICAgICBpZiAodGhpcy5kaXNwbGF5ZWRSZWRpcmVjdGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkUmVkaXJlY3Rpb25NZXNzYWdlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXNldFJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudCgpO1xuICAgICAgICB2YXIgbG9jYWxpemVkUmVkaXJlY3RGYWlsdXJlTWVzc2FnZSA9IGxvY2FsaXplZFN0cmluZ0hhbmRsZXJfMS5Mb2NhbGl6ZWRTdHJpbmdIYW5kbGVyLmdldExvY2FsaXplZFN0cmluZ3MoKVsncmVkaXJlY3Rpb25GYWlsZWRNZXNzYWdlJ107XG4gICAgICAgIHRoaXMucmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50LmlubmVySFRNTCA9IGxvY2FsaXplZFJlZGlyZWN0RmFpbHVyZU1lc3NhZ2U7XG4gICAgICAgIHRoaXMudXBkYXRlUmVkaXJlY3RlZE1lc3NhZ2VSZWN0KCk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQpO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLmFkZFJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZGVvU3RhdHVzT3ZlcmxheUVuYWJsZWQgfHwgdGhpcy5kaXNwbGF5ZWRSZWRpcmVjdGlvbk1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjphZGRSZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnRcIik7XG4gICAgICAgIHRoaXMucmVzZXRSZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQoKTtcbiAgICAgICAgdmFyIGxvY2FsaXplZFJlZGlyZWN0TWVzc2FnZSA9IGxvY2FsaXplZFN0cmluZ0hhbmRsZXJfMS5Mb2NhbGl6ZWRTdHJpbmdIYW5kbGVyLmdldExvY2FsaXplZFN0cmluZ3MoKVsncmVkaXJlY3RlZE1lc3NhZ2UnXTtcbiAgICAgICAgdGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MID0gbG9jYWxpemVkUmVkaXJlY3RNZXNzYWdlO1xuICAgICAgICB0aGlzLnVwZGF0ZVJlZGlyZWN0ZWRNZXNzYWdlUmVjdCgpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50KTtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRSZWRpcmVjdGlvbk1lc3NhZ2UgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoVmlkZW9FbGVtZW50UmVkaXJlY3QucmVkaXJlY3Rpb25NZXNzYWdlRWxlbWVudElkKTtcbiAgICAgICAgICAgIG1lc3NhZ2UucmVtb3ZlKCk7XG4gICAgICAgIH0sIDUwMDApO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLnVwZGF0ZURpc2Nvbm5lY3RlZE1lc3NhZ2VSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5kaXNjb25uZWN0ZWRNZXNzYWdlRWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlY3QgPSB0aGlzLm9yaWdpbmFsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKHJlY3Qud2lkdGggPT0gMCB8fCByZWN0LmhlaWdodCA9PSAwKSB7XG4gICAgICAgICAgICAvLyBUcnkgdXNpbmcgbGFzdCB2YWxpZCByZWN0XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5sYXN0VmFsaWRWaWRlb1JlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlY3Qud2lkdGggPT0gMCB8fCByZWN0LmhlaWdodCA9PSAwKSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byB0aGUgbWlkZGxlIG9mIHRoZSB0b3Agb2YgdGhlIHBhZ2VcbiAgICAgICAgICAgIHJlY3Qud2lkdGggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICogMC40MDtcbiAgICAgICAgICAgIHJlY3QuaGVpZ2h0ID0gZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQgKiAwLjIwO1xuICAgICAgICAgICAgcmVjdC54ID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCAqIDAuMzA7XG4gICAgICAgICAgICByZWN0LnkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGVkTWVzc2FnZUVsZW1lbnQuc3R5bGUubGVmdCA9IHJlY3QueC50b1N0cmluZygpICsgXCJweFwiO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLnRvcCA9IHJlY3QueS50b1N0cmluZygpICsgXCJweFwiO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLndpZHRoID0gcmVjdC53aWR0aC50b1N0cmluZygpICsgXCJweFwiO1xuICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLmhlaWdodCA9IChyZWN0LmhlaWdodCAvIDIpLnRvU3RyaW5nKCkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMuZGlzY29ubmVjdGVkTWVzc2FnZUVsZW1lbnQuc3R5bGUucGFkZGluZ1RvcCA9IChyZWN0LmhlaWdodCAvIDIpLnRvU3RyaW5nKCkgKyBcInB4XCI7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUudXBkYXRlUmVkaXJlY3RlZE1lc3NhZ2VSZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVjdCA9IHRoaXMub3JpZ2luYWxFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAocmVjdC53aWR0aCA9PSAwIHx8IHJlY3QuaGVpZ2h0ID09IDApIHtcbiAgICAgICAgICAgIC8vIFRyeSB1c2luZyBsYXN0IHZhbGlkIHJlY3RcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmxhc3RWYWxpZFZpZGVvUmVjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVjdC53aWR0aCA9PSAwIHx8IHJlY3QuaGVpZ2h0ID09IDApIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIHRoZSBtaWRkbGUgb2YgdGhlIHRvcCBvZiB0aGUgcGFnZVxuICAgICAgICAgICAgcmVjdC53aWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGggKiAwLjQwO1xuICAgICAgICAgICAgcmVjdC5oZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCAqIDAuMjA7XG4gICAgICAgICAgICByZWN0LnggPSBkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoICogMC4zMDtcbiAgICAgICAgICAgIHJlY3QueSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQuc3R5bGUubGVmdCA9IHJlY3QueC50b1N0cmluZygpICsgXCJweFwiO1xuICAgICAgICB0aGlzLnJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS50b3AgPSByZWN0LnkudG9TdHJpbmcoKSArIFwicHhcIjtcbiAgICAgICAgdGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQuc3R5bGUud2lkdGggPSByZWN0LndpZHRoLnRvU3RyaW5nKCkgKyBcInB4XCI7XG4gICAgICAgIHRoaXMucmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLmhlaWdodCA9IChyZWN0LmhlaWdodCAvIDE4KS50b1N0cmluZygpICsgXCJweFwiO1xuICAgICAgICB0aGlzLnJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7XG4gICAgICAgIHRoaXMucmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLm9wYWNpdHkgPSBcIjEuMFwiO1xuICAgICAgICB0aGlzLnJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS5jb2xvciA9IFwid2hpdGVcIjtcbiAgICAgICAgdGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9IFwiU2Vnb2UgVUksIFRhaG9tYSwgc2Fucy1zZXJpZlwiO1xuICAgICAgICB0aGlzLnJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS5mb250U2l6ZSA9IFwiMXZ3XCI7XG4gICAgICAgIHRoaXMucmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLmZvbnRXZWlnaHQgPSBcImJvbGRcIjtcbiAgICAgICAgdGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgIHRoaXMucmVkaXJlY3RlZE1lc3NhZ2VFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgdGhpcy5yZWRpcmVjdGVkTWVzc2FnZUVsZW1lbnQuc3R5bGUuanVzdGlmeUNvbnRlbnQgPSBcImNlbnRlclwiO1xuICAgICAgICB0aGlzLnJlZGlyZWN0ZWRNZXNzYWdlRWxlbWVudC5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS51cGRhdGVQYXJlbnRCb3VuZGluZ1JlY3RzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBDaGVjayBwYXJlbnQgY29udGFpbmVyIHRyZWUgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgZWxlbWVudCBpcyBvY2NsdWRlZFxuICAgICAgICAvLyAoYWNjb3JkaW5nIHRvIHRoZSBcIm92ZXJmbG93XCIgQ1NTIHByb3BlcnR5IG9uIGVhY2ggcGFyZW50IGVsZW1lbnQgaW4gdGhlIHRyZWUpXG4gICAgICAgIC8vIFRPRE86IFRoaXMgY291bGQgYmUgZG9uZSB3aXRoIG11dGF0aW9uIG9ic2VydmVyIGluc3RlYWQgb2YgcG9sbGluZy5cbiAgICAgICAgLy8gV2UgZG9uJ3QgZG8gdGhpcyBpbiBzZW5kRWxlbWVudFJlY3QsIG9ubHkgb25jZSBhIHNlY29uZDsgdHJhdmVyc2luZyB0aGUgcGFyZW50IHRyZWUgaXMgZXhwZW5zaXZlXG4gICAgICAgIHZhciBtYXhQYXJlbnRUcmF2ZXJzYWxDb3VudCA9IDU7XG4gICAgICAgIHZhciBjdXJyZW50UGFyZW50Q291bnQgPSAwO1xuICAgICAgICB2YXIgY3VycmVudFBhcmVudCA9IHRoaXMub3JpZ2luYWxFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHZhciByZWN0ID0gdGhpcy5vcmlnaW5hbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHZhciBjbGlwUmVjdHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5lbGVtZW50VmlzaWJsZSA9IHRydWU7XG4gICAgICAgIHdoaWxlIChjdXJyZW50UGFyZW50ICE9IG51bGwgJiYgY3VycmVudFBhcmVudENvdW50IDwgbWF4UGFyZW50VHJhdmVyc2FsQ291bnQpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGN1cnJlbnRQYXJlbnQpO1xuICAgICAgICAgICAgdmFyIHBhcmVudE92ZXJmbG93Q3NzX3ggPSBwYXJlbnRTdHlsZVtcIm92ZXJmbG93LXhcIl0gPyBwYXJlbnRTdHlsZVtcIm92ZXJmbG93LXhcIl0gOiBwYXJlbnRTdHlsZVtcIm92ZXJmbG93XCJdO1xuICAgICAgICAgICAgdmFyIHBhcmVudE92ZXJmbG93Q3NzX3kgPSBwYXJlbnRTdHlsZVtcIm92ZXJmbG93LXlcIl0gPyBwYXJlbnRTdHlsZVtcIm92ZXJmbG93LXlcIl0gOiBwYXJlbnRTdHlsZVtcIm92ZXJmbG93XCJdO1xuICAgICAgICAgICAgdmFyIHBhcmVudFJlY3QgPSBjdXJyZW50UGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgaWYgKHBhcmVudFN0eWxlW1wicG9zaXRpb25cIl0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFN0eWxlW1wicG9zaXRpb25cIl0gIT0gXCJcIiAmJiBwYXJlbnRTdHlsZVtcInBvc2l0aW9uXCJdICE9IFwic3RhdGljXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNQb3NpdGlvbmVkQW5jZXN0b3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFyZW50LnRhZ05hbWUgPT0gXCJIVE1MXCIpIHtcbiAgICAgICAgICAgICAgICAvLyBGb3IgYSByb290IEhUTUwgZWxlbWVudCwgdGhlIG92ZXJmbG93IHByb3BlcnR5IGlzIGFwcGxpZWQgdG8gdGhlIHZpZXdwb3J0IGluc3RlYWRcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnRTdHlsZVtcIm9wYWNpdHlcIl0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFyZW50IGhhcyBhbnkgb3BhY2l0eSwgbGV0IGdlbmVyaWMgb2NjbHVzaW9uIGhhbmRsZSBpdFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmVlZCB0byBjcmVhdGUgYSBjbGlwIHJlY3QgZm9yIGVhY2ggc2lkZSBvZiB0aGUgYm91bmRpbmcgYm94IChhbmQgYmFzZWQgb24gcG9zc2libGUgZGlmZmVyZW50IHNldHRpbmdzIGZvciB4IGFuZCB5KVxuICAgICAgICAgICAgLy8gTmVlZCB0byBndWFyYW50ZWUgYXQgbGVhc3QgYSBwaXhlbCBvZiBvdmVybGFwIHNvIGNsaXAgcmVjdHMgZG9uJ3QgaGF2ZSBuZWFyIHplcm8gd2lkdGgvaGVpZ2h0XG4gICAgICAgICAgICAvLyBUT0RPOiBGb3Igc2Nyb2xsIHNldHRpbmdzLCB3ZSBzaG91bGQgYWRkIGFuIGFkZGl0aW9uYWwgYnVmZmVyIHRvIHRoZSBjbGlwUmVjdFxuICAgICAgICAgICAgaWYgKHBhcmVudE92ZXJmbG93Q3NzX3ggJiYgcGFyZW50T3ZlcmZsb3dDc3NfeCAhPSBcInZpc2libGVcIikge1xuICAgICAgICAgICAgICAgIGlmIChyZWN0LnJpZ2h0IDw9IHBhcmVudFJlY3QubGVmdCB8fCByZWN0LmxlZnQgPj0gcGFyZW50UmVjdC5yaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6dXBkYXRlUGFyZW50Qm91bmRpbmdSZWN0cyAtIEVsZW1lbnQgaXMgY29tcGxldGVseSBvY2NsdWRlZC4gcmVjdDogXCIgKyBKU09OLnN0cmluZ2lmeShyZWN0KSArIFwiLCBwYXJlbnRSZWN0OiBcIiArIEpTT04uc3RyaW5naWZ5KHJlY3QpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50VmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFJlY3QubGVmdCAtIHJlY3QubGVmdCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OnVwZGF0ZVBhcmVudEJvdW5kaW5nUmVjdHMgLSByZWN0LmxlZnQ9XCIgKyByZWN0LmxlZnQgKyBcIiA8IHBhcmVudFJlY3QubGVmdD1cIiArIHBhcmVudFJlY3QubGVmdCArIFwiIG92ZXJmbG93PVwiICsgcGFyZW50T3ZlcmZsb3dDc3NfeCk7XG4gICAgICAgICAgICAgICAgICAgIGNsaXBSZWN0cy5wdXNoKG5ldyBET01SZWN0KHJlY3QubGVmdCwgcmVjdC50b3AsIHBhcmVudFJlY3QubGVmdCAtIHJlY3QubGVmdCwgcmVjdC5oZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlY3QucmlnaHQgLSBwYXJlbnRSZWN0LnJpZ2h0ID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6dXBkYXRlUGFyZW50Qm91bmRpbmdSZWN0cyAtIHJlY3QucmlnaHQ9XCIgKyByZWN0LnJpZ2h0ICsgXCIgPiBwYXJlbnRSZWN0LnJpZ2h0PVwiICsgcGFyZW50UmVjdC5sZWZ0ICsgXCIgb3ZlcmZsb3c9XCIgKyBwYXJlbnRPdmVyZmxvd0Nzc194KTtcbiAgICAgICAgICAgICAgICAgICAgY2xpcFJlY3RzLnB1c2gobmV3IERPTVJlY3QocGFyZW50UmVjdC5yaWdodCwgcmVjdC50b3AsIHJlY3QucmlnaHQgLSBwYXJlbnRSZWN0LnJpZ2h0LCByZWN0LmhlaWdodCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnRPdmVyZmxvd0Nzc195ICYmIHBhcmVudE92ZXJmbG93Q3NzX3kgIT0gXCJ2aXNpYmxlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVjdC5ib3R0b20gPD0gcGFyZW50UmVjdC50b3AgfHwgcmVjdC50b3AgPj0gcGFyZW50UmVjdC5ib3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OnVwZGF0ZVBhcmVudEJvdW5kaW5nUmVjdHMgLSBFbGVtZW50IGlzIGNvbXBsZXRlbHkgb2NjbHVkZWQuIHJlY3Q6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVjdCkgKyBcIiwgcGFyZW50UmVjdDogXCIgKyBKU09OLnN0cmluZ2lmeShyZWN0KSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudFZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSZWN0LnRvcCAtIHJlY3QudG9wID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6dXBkYXRlUGFyZW50Qm91bmRpbmdSZWN0cyAtIHJlY3QudG9wPVwiICsgcmVjdC50b3AgKyBcIiA8IHBhcmVudFJlY3QudG9wPVwiICsgcGFyZW50UmVjdC50b3AgKyBcIiBvdmVyZmxvdz1cIiArIHBhcmVudE92ZXJmbG93Q3NzX3kpO1xuICAgICAgICAgICAgICAgICAgICBjbGlwUmVjdHMucHVzaChuZXcgRE9NUmVjdChyZWN0LmxlZnQsIHJlY3QudG9wLCByZWN0LndpZHRoLCBwYXJlbnRSZWN0LnRvcCAtIHJlY3QudG9wKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZWN0LmJvdHRvbSAtIHBhcmVudFJlY3QuYm90dG9tID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6dXBkYXRlUGFyZW50Qm91bmRpbmdSZWN0cyAtIHJlY3QuYm90dG9tPVwiICsgcmVjdC5ib3R0b20gKyBcIiA+IHBhcmVudFJlY3QuYm90dG9tPVwiICsgcGFyZW50UmVjdC5ib3R0b20gKyBcIiBvdmVyZmxvdz1cIiArIHBhcmVudE92ZXJmbG93Q3NzX3kpO1xuICAgICAgICAgICAgICAgICAgICBjbGlwUmVjdHMucHVzaChuZXcgRE9NUmVjdChyZWN0LmxlZnQsIHBhcmVudFJlY3QuYm90dG9tLCByZWN0LndpZHRoLCByZWN0LmJvdHRvbSAtIHBhcmVudFJlY3QuYm90dG9tKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGN1cnJlbnRQYXJlbnRDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFyZW50RWxlbWVudENsaXBSZWN0cyA9IGNsaXBSZWN0cztcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS51cGRhdGVQYXR0ZXJuRWxlbWVudCA9IGZ1bmN0aW9uIChpbnB1dFJlY3QpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdlbmVyaWNPY2NsdXNpb25TdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN3aXRjaFRvTG9jYWwgfHwgIXRoaXMucmVtb3RlT2JqZWN0QWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5FbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICAgICAgdGhpcy5zZXRPcGFjaXR5T25PcmlnaW5hbEVsZW1lbnQoXCIxXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciByb3VuZGVkV2lkdGggPSBNYXRoLnJvdW5kKGlucHV0UmVjdC53aWR0aCk7XG4gICAgICAgIHZhciByb3VuZGVkSGVpZ2h0ID0gTWF0aC5yb3VuZChpbnB1dFJlY3QuaGVpZ2h0KTtcbiAgICAgICAgLy8gQWRqdXN0IHdpZHRoIC8gaGVpZ2h0IHRvIGJlIGV2ZW5cbiAgICAgICAgdmFyIGFkanVzdGVkV2lkdGggPSByb3VuZGVkV2lkdGggKyAocm91bmRlZFdpZHRoICUgMik7XG4gICAgICAgIHZhciBhZGp1c3RlZEhlaWdodCA9IHJvdW5kZWRIZWlnaHQgKyAocm91bmRlZEhlaWdodCAlIDIpO1xuICAgICAgICB2YXIgcmVjdCA9IG5ldyBET01SZWN0KGlucHV0UmVjdC54LCBpbnB1dFJlY3QueSwgYWRqdXN0ZWRXaWR0aCwgYWRqdXN0ZWRIZWlnaHQpO1xuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgaWYgKCF0aGlzLnBhdHRlcm5EZWZFbGVtZW50IHx8IHJlY3Qud2lkdGggIT0gdGhpcy5sYXN0VmFsaWRWaWRlb1JlY3Qud2lkdGggfHxcbiAgICAgICAgICAgIHJlY3QuaGVpZ2h0ICE9IHRoaXMubGFzdFZhbGlkVmlkZW9SZWN0LmhlaWdodCB8fFxuICAgICAgICAgICAgc2NhbGVGYWN0b3IgIT0gdGhpcy5wYXR0ZXJuU2NhbGVGYWN0b3IpIHtcbiAgICAgICAgICAgIC8vIDEgQ1NTIHBpeGVsIGlzIGVxdWFsIHRvIHtzY2FsZUZhY3Rvcn0gcGh5c2ljYWwgcGl4ZWxzXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIGVsZW1lbnQgc2l6ZSBpbiBDU1MgcGl4ZWxzIHdoaWNoIHJlc3VsdHMgaW4gYW4gZWxlbWVudCBzaXplIG9mIDEgcGh5c2ljYWwgcGl4ZWxcbiAgICAgICAgICAgIHZhciBlbGVtZW50U2l6ZSA9IDEuMCAvIHNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhdHRlcm5EZWZFbGVtZW50IHx8IHNjYWxlRmFjdG9yICE9IHRoaXMucGF0dGVyblNjYWxlRmFjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZnNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXR0ZXJuRGVmRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBkZWZzRWxlbWVudCA9IHRoaXMucGF0dGVybkRlZkVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgZGVmc0VsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5wYXR0ZXJuRGVmRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybkRlZkVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAodGhpcy5wYXR0ZXJuRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdHRlcm5FbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMucGF0dGVybkVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRlZnNFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJkZWZzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBhdHRlcm5EZWZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXR0ZXJuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybkRlZkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJDaGVja2VyYm9hcmRcIiArIHRoaXMubG9jYWxPYmplY3RJZCk7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRTaXplU3RyID0gZWxlbWVudFNpemUudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB2YXIgY2hlY2tlcmJvYXJkUmVjdHMgPSBbeyB4OiBcIjBcIiwgeTogXCIwXCIsIGZpbGw6IFwiI2ZmMDBmZlwiIH0sIHsgeDogZWxlbWVudFNpemVTdHIsIHk6IFwiMFwiLCBmaWxsOiBcIiMwMGZmMDBcIiB9LFxuICAgICAgICAgICAgICAgICAgICB7IHg6IFwiMFwiLCB5OiBlbGVtZW50U2l6ZVN0ciwgZmlsbDogXCIjMDBmZjAwXCIgfSwgeyB4OiBlbGVtZW50U2l6ZVN0ciwgeTogZWxlbWVudFNpemVTdHIsIGZpbGw6IFwiI2ZmMDBmZlwiIH1dO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hlY2tlcmJvYXJkUmVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJzID0gY2hlY2tlcmJvYXJkUmVjdHNbaV07XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwicmVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwieFwiLCBhdHRycy54KTtcbiAgICAgICAgICAgICAgICAgICAgcmVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwieVwiLCBhdHRycy55KTtcbiAgICAgICAgICAgICAgICAgICAgcmVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBhdHRycy5maWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVjdEVsZW1lbnQuc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgZWxlbWVudFNpemVTdHIpO1xuICAgICAgICAgICAgICAgICAgICByZWN0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgZWxlbWVudFNpemVTdHIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdHRlcm5EZWZFbGVtZW50LmFwcGVuZENoaWxkKHJlY3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmc0VsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5wYXR0ZXJuRGVmRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXR0ZXJuRWxlbWVudC5hcHBlbmRDaGlsZChkZWZzRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBsZXRlUmVjdF8xID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJyZWN0XCIpO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlUmVjdF8xLnNldEF0dHJpYnV0ZShcImlkXCIsIFwib3ZlcmFsbFBhdHRlcm5SZWN0XCIpO1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlUmVjdF8xLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgXCJ1cmwoI0NoZWNrZXJib2FyZFwiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuYXBwZW5kQ2hpbGQoY29tcGxldGVSZWN0XzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHBhdHRlcm4gZWxlbWVudCB3aWR0aCAvIGhlaWdodFxuICAgICAgICAgICAgdmFyIG5ld1dpZHRoRmFjdG9yID0gKGVsZW1lbnRTaXplICogMikgLyByZWN0LndpZHRoO1xuICAgICAgICAgICAgdmFyIG5ld0hlaWdodEZhY3RvciA9IChlbGVtZW50U2l6ZSAqIDIpIC8gcmVjdC5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5EZWZFbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIG5ld1dpZHRoRmFjdG9yLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuRGVmRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgbmV3SGVpZ2h0RmFjdG9yLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIG92ZXJhbGwgcmVjdCB3aWR0aCAvIGhlaWdodFxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlUmVjdCA9IHRoaXMucGF0dGVybkVsZW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdmVyYWxsUGF0dGVyblJlY3RcIik7XG4gICAgICAgICAgICBjb21wbGV0ZVJlY3Quc2V0QXR0cmlidXRlKFwid2lkdGhcIiwgcmVjdC53aWR0aC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGNvbXBsZXRlUmVjdC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgcmVjdC5oZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5TY2FsZUZhY3RvciA9IHNjYWxlRmFjdG9yO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdQYXJlbnQgPSB0aGlzLm9yaWdpbmFsRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB2YXIgcGFyZW50Q2xpZW50UmVjdCA9IG5ld1BhcmVudCAhPSB1bmRlZmluZWQgPyBuZXdQYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBuZXcgRE9NUmVjdCgwLCAwLCAwLCAwKTtcbiAgICAgICAgdGhpcy5wYXR0ZXJuRWxlbWVudC5zdHlsZS53aWR0aCA9IHJlY3Qud2lkdGggKyBcInB4XCI7XG4gICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gcmVjdC5oZWlnaHQgKyBcInB4XCI7XG4gICAgICAgIC8vIElmIG91ciBwYXJlbnQgaGFzIG5vIHBvc2l0aW9uIGl0IGNoYW5nZXMgb3VyIGFic29sdXRlIHBvc2l0aW9uIHRvIGJlIGJhc2VkIG9uIHRoZSBkb2N1bWVudCBhbmQgbm90IHJlbGF0aXZlIHRvIHRoZSBhbmNlc3RvciBcbiAgICAgICAgaWYgKHRoaXMuaGFzUG9zaXRpb25lZEFuY2VzdG9yKSB7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5FbGVtZW50LnN0eWxlLnRvcCA9IChyZWN0LnRvcCAtIHBhcmVudENsaWVudFJlY3QudG9wKSArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUuYm90dG9tID0gKHJlY3QuYm90dG9tIC0gcGFyZW50Q2xpZW50UmVjdC50b3ApICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuRWxlbWVudC5zdHlsZS5sZWZ0ID0gKHJlY3QubGVmdCAtIHBhcmVudENsaWVudFJlY3QubGVmdCkgKyBcInB4XCI7XG4gICAgICAgICAgICB0aGlzLnBhdHRlcm5FbGVtZW50LnN0eWxlLnJpZ2h0ID0gKHJlY3QucmlnaHQgLSBwYXJlbnRDbGllbnRSZWN0LnJpZ2h0KSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUudG9wID0gKHJlY3QudG9wKSArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUuYm90dG9tID0gKHJlY3QuYm90dG9tKSArIFwicHhcIjtcbiAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQuc3R5bGUubGVmdCA9IChyZWN0LmxlZnQpICsgXCJweFwiO1xuICAgICAgICAgICAgdGhpcy5wYXR0ZXJuRWxlbWVudC5zdHlsZS5yaWdodCA9IChyZWN0LnJpZ2h0KSArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdHRlcm5FbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgaWYgKHRoaXMucGF0dGVybkVsZW1lbnQucGFyZW50RWxlbWVudCAhPSBuZXdQYXJlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhdHRlcm5FbGVtZW50LnBhcmVudEVsZW1lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGF0dGVybkVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLnBhdHRlcm5FbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbnNlcnRCZWZvcmVUYXJnZXQgPSB0aGlzLm9yaWdpbmFsRWxlbWVudC5uZXh0U2libGluZztcbiAgICAgICAgICAgIG5ld1BhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5wYXR0ZXJuRWxlbWVudCwgaW5zZXJ0QmVmb3JlVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXR0aW5nIG9wYWNpdHkgaGVyZSBtYWtlcyBzdXJlIHZpZGVvIGVsZW1lbnQgZG9lc24ndCBvY2NsdWRlIHBhdHRlcm4sXG4gICAgICAgIC8vIGJ1dCBzdGlsbCBsZXRzIHZpZGVvIGVsZW1lbnQgcmVjZWl2ZSAnZm9jdXMnIGV2ZW50c1xuICAgICAgICB0aGlzLnNldE9wYWNpdHlPbk9yaWdpbmFsRWxlbWVudChcIjBcIik7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuc2VuZEVsZW1lbnRSZWN0ID0gZnVuY3Rpb24gKHNoaW0pIHtcbiAgICAgICAgdmFyIHBhcmVudEluZm8gPSBtbXJfbWFpbl8xLnJvb3RXaW5kb3dJbmZvVHJhY2tlci5nZXRSb290V2luZG93SW5mbygpO1xuICAgICAgICB2YXIgcGFyZW50T2Zmc2V0ID0gcGFyZW50SW5mb1tcInJvb3RPZmZzZXRcIl07XG4gICAgICAgIHZhciByZWN0ID0gc2hpbS5vcmlnaW5hbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChyZWN0LndpZHRoICE9IDAgJiYgcmVjdC5oZWlnaHQgIT0gMCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVQYXR0ZXJuRWxlbWVudChyZWN0KTtcbiAgICAgICAgICAgIHRoaXMubGFzdFZhbGlkVmlkZW9SZWN0ID0gcmVjdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzaGltLnBhdHRlcm5FbGVtZW50KSB7XG4gICAgICAgICAgICBzaGltLnBhdHRlcm5FbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlRGlzY29ubmVjdGVkTWVzc2FnZVJlY3QoKTtcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHZhciBzY2FsZWRSZWN0ID0gbmV3IE9iamVjdCgpO1xuICAgICAgICBzY2FsZWRSZWN0WydsZWZ0J10gPSBNYXRoLnJvdW5kKChyZWN0LmxlZnQgKyBwYXJlbnRPZmZzZXQueCkgKiBzY2FsZUZhY3Rvcik7XG4gICAgICAgIHNjYWxlZFJlY3RbJ3JpZ2h0J10gPSBNYXRoLnJvdW5kKChyZWN0LnJpZ2h0ICsgcGFyZW50T2Zmc2V0LngpICogc2NhbGVGYWN0b3IpO1xuICAgICAgICBzY2FsZWRSZWN0Wyd0b3AnXSA9IE1hdGgucm91bmQoKHJlY3QudG9wICsgcGFyZW50T2Zmc2V0LnkpICogc2NhbGVGYWN0b3IpO1xuICAgICAgICBzY2FsZWRSZWN0Wydib3R0b20nXSA9IE1hdGgucm91bmQoKHJlY3QuYm90dG9tICsgcGFyZW50T2Zmc2V0LnkpICogc2NhbGVGYWN0b3IpO1xuICAgICAgICBpZiAoIXNoaW0udGFiVmlzaWJsZSB8fCAhc2hpbS5lbGVtZW50VmlzaWJsZSB8fCBzaGltLnN3aXRjaFRvTG9jYWwpIHtcbiAgICAgICAgICAgIHNjYWxlZFJlY3RbJ2xlZnQnXSA9IDA7XG4gICAgICAgICAgICBzY2FsZWRSZWN0WydyaWdodCddID0gMDtcbiAgICAgICAgICAgIHNjYWxlZFJlY3RbJ3RvcCddID0gMDtcbiAgICAgICAgICAgIHNjYWxlZFJlY3RbJ2JvdHRvbSddID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2luZG93VGl0bGUgPSBwYXJlbnRJbmZvW1widGl0bGVcIl07XG4gICAgICAgIHZhciBkaXNwbGF5U2NhbGVGYWN0b3IgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0UmVjdFtCRUdJTl0gLSBzY2FsZWRSZWN0OiBcIiArIEpTT04uc3RyaW5naWZ5KHNjYWxlZFJlY3QpICsgXCIsIHdpbmRvd1RpdGxlOiBcIiArIHdpbmRvd1RpdGxlICsgXCIsIGRpc3BsYXlTY2FsZUZhY3RvcjogXCIgKyBkaXNwbGF5U2NhbGVGYWN0b3IgKyBcIiwgZWxlbWVudFZpc2libGU6IFwiICsgc2hpbS5lbGVtZW50VmlzaWJsZSk7XG4gICAgICAgIHNoaW0ucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2Qoc2hpbS5sb2NhbE9iamVjdElkLCAnc2V0UmVjdCcsIHsgJ3JlY3QnOiBzY2FsZWRSZWN0LCAnd2luZG93VGl0bGUnOiB3aW5kb3dUaXRsZSwgJ2Rpc3BsYXlTY2FsZUZhY3Rvcic6IGRpc3BsYXlTY2FsZUZhY3RvciwgJ2NoZWNrRm9yRHVwbGljYXRlVGl0bGVzJzogdHJ1ZSB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRSZWN0W0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpICsgXCIsIGhhc0R1cGxpY2F0ZVdpbmRvd3M6IFwiICsgYXJnc1tcImhhc0R1cGxpY2F0ZVdpbmRvd3NcIl0pO1xuICAgICAgICAgICAgaWYgKGFyZ3NbXCJoYXNEdXBsaWNhdGVXaW5kb3dzXCJdID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBtbXJfbWFpbl8xLnJvb3RXaW5kb3dJbmZvVHJhY2tlci5zZXRUaXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2xpcFJlY3RzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGlmIChzaGltLm9jY2x1c2lvblRyYWNrZXIpIHtcbiAgICAgICAgICAgIC8vIFVzZSB1bnNjYWxlZCBidXQgb2Zmc2V0IHZpZGVvIHJlY3RcbiAgICAgICAgICAgIHZhciB2aWRlb1JlY3QgPSBuZXcgRE9NUmVjdChyZWN0LmxlZnQgKyBwYXJlbnRPZmZzZXQueCwgcmVjdC50b3AgKyBwYXJlbnRPZmZzZXQueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHQpO1xuICAgICAgICAgICAgY2xpcFJlY3RzID0gc2hpbS5vY2NsdXNpb25UcmFja2VyLmdldENsaXBSZWN0cyh2aWRlb1JlY3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIGN1cnJlbnQgd2luZG93IGlzIG5vdCByb290LCB0aGVuIHdlIG5lZWQgdG8gY2xpcCB2aWRlbyByZWN0IHJlZ2lvbnMgb3V0c2lkZSBvZiB0aGUgY3VycmVudCB3aW5kb3dcbiAgICAgICAgdmFyIGN1cnJlbnRXaW5kb3dJc05vdFJvb3QgPSB3aW5kb3cgIT0gd2luZG93LnBhcmVudDtcbiAgICAgICAgaWYgKGN1cnJlbnRXaW5kb3dJc05vdFJvb3QpIHtcbiAgICAgICAgICAgIGlmIChyZWN0LmxlZnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlZENsaXBXaWR0aCA9ICgwIC0gcmVjdC5sZWZ0KSAqIHNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgICAgIHZhciBob3Jpem9udGFsQ2xpcCA9IG5ldyBET01SZWN0KHNjYWxlZFJlY3RbJ2xlZnQnXSwgc2NhbGVkUmVjdFsndG9wJ10sIHNjYWxlZENsaXBXaWR0aCwgKHNjYWxlZFJlY3RbJ2JvdHRvbSddIC0gc2NhbGVkUmVjdFsndG9wJ10pKTtcbiAgICAgICAgICAgICAgICBjbGlwUmVjdHMucHVzaChob3Jpem9udGFsQ2xpcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVjdC50b3AgPCAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNjYWxlZENsaXBIZWlnaHQgPSAoMCAtIHJlY3QudG9wKSAqIHNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0aWNhbENsaXAgPSBuZXcgRE9NUmVjdChzY2FsZWRSZWN0WydsZWZ0J10sIHNjYWxlZFJlY3RbJ3RvcCddLCBzY2FsZWRSZWN0WydyaWdodCddIC0gc2NhbGVkUmVjdFsnbGVmdCddLCBzY2FsZWRDbGlwSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICBjbGlwUmVjdHMucHVzaCh2ZXJ0aWNhbENsaXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0b3RhbENsaXBSZWN0cyA9IFtdLmNvbmNhdChjbGlwUmVjdHMsIHRoaXMucGFyZW50RWxlbWVudENsaXBSZWN0cyk7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyBzaGltLmxvY2FsT2JqZWN0SWQgKyBcIl06OnNldENsaXBSZWN0c1tCRUdJTl0gLSBjbGlwUmVjdHM6IFwiICsgSlNPTi5zdHJpbmdpZnkodG90YWxDbGlwUmVjdHMpKTtcbiAgICAgICAgc2hpbS5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZChzaGltLmxvY2FsT2JqZWN0SWQsICdzZXRDbGlwUmVjdHMnLCB7ICdyZWN0cyc6IHRvdGFsQ2xpcFJlY3RzIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyBzaGltLmxvY2FsT2JqZWN0SWQgKyBcIl06OnNldENsaXBSZWN0c1tFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm9uTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhpcyBtZXRob2QgdXBkYXRlcyBwcm9wZXJ0aWVzIGJhc2VkIG9uIHJlc291cmNlIHNlbGVjdGlvbiBhbGdvcml0aG1cbiAgICAgICAgLy8gaHR0cHM6Ly93d3cudzMub3JnL2h0bWwvd2cvc3BlYy92aWRlby5odG1sI2NvbmNlcHQtbWVkaWEtbG9hZC1hbGdvcml0aG1cbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5vcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICBpZiAoc2hpbS5uZXR3b3JrU3RhdGUgPT0gc2hpbS5ORVRXT1JLX0VNUFRZICYmIChzaGltLnNyYyA9PSB1bmRlZmluZWQgfHwgc2hpbS5zcmMgPT0gXCJcIikgJiYgc2hpbS5zb3VyY2VOb2Rlcy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6b25Mb2FkIC0gbm8gc291cmNlIHNvIHNldHRpbmcgbmV0d29ya1N0YXRlIHRvIE5FVFdPUktfTk9fU09VUkNFXCIpO1xuICAgICAgICAgICAgc2hpbS5uZXR3b3JrU3RhdGUgPSBzaGltLk5FVFdPUktfTk9fU09VUkNFO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuc2V0TmV3TWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAobWVkaWFTdHJlYW0gIT0gdGhpcy5tZWRpYVN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhU3RyZWFtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHRyYWNrJywgdGhpcy5hZGRUcmFja1JlZik7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbS5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHRoaXMucmVtb3ZlVHJhY2tSZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbSA9IG1lZGlhU3RyZWFtO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIHRoaXMuYWRkVHJhY2tSZWYgPSBmdW5jdGlvbiAoZXYpIHsgdGhhdC5tZWRpYVN0cmVhbVRyYWNrVXBkYXRlKGV2KTsgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHRoaXMucmVtb3ZlVHJhY2tSZWYgPSBmdW5jdGlvbiAoZXYpIHsgdGhhdC5tZWRpYVN0cmVhbVRyYWNrVXBkYXRlKGV2KTsgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLm1lZGlhU3RyZWFtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1RyYWNrID0gKF9iID0gdGhpcy5tZWRpYVN0cmVhbSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdldEF1ZGlvVHJhY2tzKClbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXVkaW9UcmFjayhhdWRpb1RyYWNrKTtcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9UcmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoKChfYyA9IHRoaXMubWVkaWFTdHJlYW0pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvVHJhY2sgPSAoX2QgPSB0aGlzLm1lZGlhU3RyZWFtKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2QuZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaWRlb1RyYWNrKHZpZGVvVHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuc2V0QXVkaW9UcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBpZiAodHJhY2sgIT0gdGhpcy5hdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvVHJhY2sgPSB0cmFjaztcbiAgICAgICAgICAgIHZhciBpZCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgaXNDYXB0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5hdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLmF1ZGlvVHJhY2suaWQ7XG4gICAgICAgICAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5hdWRpb1RyYWNrKTtcbiAgICAgICAgICAgICAgICBpc0NhcHR1cmUgPSBzaGltWydpc0NhcHR1cmVUcmFjayddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByb3h5XzEgPSB0aGlzO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHByb3h5XzEubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0QXVkaW9UcmFja1tCRUdJTl0gLSB0cmFjazogXCIgKyBpZCk7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3NldEF1ZGlvVHJhY2snLCB7ICd0cmFjayc6IGlkLCAnaXNDYXB0dXJlJzogaXNDYXB0dXJlIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgcHJveHlfMS5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRBdWRpb1RyYWNrW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuc2V0VmlkZW9UcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBpZiAodHJhY2sgIT0gdGhpcy52aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvVHJhY2sgPSB0cmFjaztcbiAgICAgICAgICAgIHZhciBpZCA9IFwiXCI7XG4gICAgICAgICAgICB2YXIgaXNDYXB0dXJlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy52aWRlb1RyYWNrKSB7XG4gICAgICAgICAgICAgICAgaWQgPSB0aGlzLnZpZGVvVHJhY2suaWQ7XG4gICAgICAgICAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy52aWRlb1RyYWNrKTtcbiAgICAgICAgICAgICAgICBpc0NhcHR1cmUgPSBzaGltWydpc0NhcHR1cmVUcmFjayddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByb3h5XzIgPSB0aGlzO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHByb3h5XzIubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0VmlkZW9UcmFja1tCRUdJTl0gLSB0cmFjazogXCIgKyBpZCArIFwiIGlzQ2FwdHVyZTogXCIgKyBpc0NhcHR1cmUpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdzZXRWaWRlb1RyYWNrJywgeyAndHJhY2snOiBpZCwgJ2lzQ2FwdHVyZSc6IGlzQ2FwdHVyZSB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHByb3h5XzIubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0VmlkZW9UcmFja1tFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm1lZGlhU3RyZWFtVHJhY2tVcGRhdGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICB2YXIga2luZCA9IGV2ZW50LnRyYWNrLmtpbmQ7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXTo6bWVkaWFTdHJlYW1UcmFja1VwZGF0ZSAtIGtpbmQ6IFwiICsga2luZCk7XG4gICAgICAgIGlmIChraW5kID09IFwiYXVkaW9cIikge1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFTdHJlYW0gJiYgKChfYSA9IHRoaXMubWVkaWFTdHJlYW0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgdHJhY2sgPSAoX2IgPSB0aGlzLm1lZGlhU3RyZWFtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0QXVkaW9UcmFja3MoKVswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0QXVkaW9UcmFjayh0cmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2luZCA9PSBcInZpZGVvXCIpIHtcbiAgICAgICAgICAgIHZhciB0cmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhU3RyZWFtICYmICgoX2MgPSB0aGlzLm1lZGlhU3RyZWFtKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZ2V0VmlkZW9UcmFja3MoKS5sZW5ndGgpID4gMCkge1xuICAgICAgICAgICAgICAgIHRyYWNrID0gKF9kID0gdGhpcy5tZWRpYVN0cmVhbSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmdldFZpZGVvVHJhY2tzKClbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldFZpZGVvVHJhY2sodHJhY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuY2FuY2VsUmVtb3RlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGxvY2FsT2JqZWN0SWQgPSB0aGlzLmxvY2FsT2JqZWN0SWQ7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyBsb2NhbE9iamVjdElkICsgXCJdOjpjYW5jZWxSZW1vdGVbQkVHSU5dXCIpO1xuICAgICAgICAvLyBVcGRhdGUgcmVjdCBvbmUgbGFzdCB0aW1lIHdpdGggMCB3aWR0aC9oZWlnaHRcbiAgICAgICAgdGhpcy5zd2l0Y2hUb0xvY2FsID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZW5kRWxlbWVudFJlY3QodGhpcyk7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QobG9jYWxPYmplY3RJZCwgJ2ZhbGxiYWNrJywgeyAnbWVzc2FnZSc6IG1lc3NhZ2UgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIGxvY2FsT2JqZWN0SWQgKyBcIl06OmNhbmNlbFJlbW90ZVtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTdG9wIG91ciBsaXN0ZW5lcnMvb2JzZXJ2ZXJzXG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMuaW50ZXJzZWN0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICBpZiAodGhpcy5vY2NsdXNpb25UcmFja2VyKSB7XG4gICAgICAgICAgICB0aGlzLm9jY2x1c2lvblRyYWNrZXIuc3RvcE1vbml0b3JpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmNhbGxTZW5kRWxlbWVudFJlY3QpO1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5jYWxsU2VuZEVsZW1lbnRSZWN0KTtcbiAgICAgICAgdGhpcy5jYW5jZWxFbGVtZW50UmVjdFVwZGF0ZSgpO1xuICAgIH07XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLnNldE9wYWNpdHlPbk9yaWdpbmFsRWxlbWVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAvLyBTdHlsZSBpcyBhIHNoaW1tZWQgcHJvcGVydHksIHNvIHdlIGhhdmUgbWFrZSBzdXJlIHdlIHVzZSB0aGUgcmVhbCBzdHlsZVxuICAgICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBzaGltbWVkIHN0eWxlXG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMub3JpZ2luYWxFbGVtZW50KTtcbiAgICAgICAgaWYgKHNoaW0gIT0gdW5kZWZpbmVkICYmIHNoaW1bJ2dldF9zdHlsZV9vcmlnaW5hbCddICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsU3R5bGUgPSBzaGltWydnZXRfc3R5bGVfb3JpZ2luYWwnXS5hcHBseSh0aGlzLm9yaWdpbmFsRWxlbWVudCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRPcGFjaXR5T25PcmlnaW5hbEVsZW1lbnQgLSBcIiArIHZhbHVlKTtcbiAgICAgICAgICAgIG9yaWdpbmFsU3R5bGUub3BhY2l0eSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBIVE1MVmlkZW9FbGVtZW50IG1ldGhvZHNcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRPRE86IEltcGxlbWVudCBzdGF0c1xuICAgICAgICByZXR1cm4gbmV3IFZpZGVvRWxlbWVudFNoaW1QbGF5YmFja1F1YWxpdHkodGhpcy5jcmVhdGlvblRpbWUsIDAsIDAsIDAsIDApO1xuICAgIH07XG4gICAgLy8gSFRNTE1lZGlhRWxlbWVudCBtZXRob2RzXG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xuICAgICAgICB2YXIgbG9jYWxPYmplY3RJZCA9IHRoaXMubG9jYWxPYmplY3RJZDtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIGxvY2FsT2JqZWN0SWQgKyBcIl06OnBhdXNlW0JFR0lOXVwiKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZChsb2NhbE9iamVjdElkLCAncGF1c2UnLCB7IHR5cGU6ICd2aWRlbycgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgcHJveHkucmVkaXJlY3Rpb25QbGF5aW5nID0gUGxheWJhY2tTdGF0dXMuUGF1c2VkO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIGxvY2FsT2JqZWN0SWQgKyBcIl06OnBhdXNlW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb3h5ID0gdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHByb3h5LmxvY2FsT2JqZWN0SWQgKyBcIl06OnBsYXlbQkVHSU5dXCIpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHBsYXlJbnZva2VDYWxsYmFjayA9IGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBwcm94eS5yZWRpcmVjdGlvblBsYXlpbmcgPSBQbGF5YmFja1N0YXR1cy5Ob3RSZW5kZXJpbmc7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJWaWRlb0VsZW1lbnRSZWRpcmVjdFtcIiArIHByb3h5LmxvY2FsT2JqZWN0SWQgKyBcIl06OnBsYXlbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdChwcm94eS5vcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBzaGltLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJveHkudmlkZW9TdGF0dXNPdmVybGF5RW5hYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3h5LnJlZGlyZWN0aW9uUGxheWluZyA9PSBQbGF5YmFja1N0YXR1cy5Ob3RSZW5kZXJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkuYWRkUmVkaXJlY3Rpb25GYWlsZWRNZXNzYWdlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocHJveHkuY2hlY2tMb2NhbFBsYXlTdXBwcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGVzdCB2aWRlbyBlbGVtZW50IHRvIHNlZSBpZiBwbGF5IHNob3VsZCBiZSBzdXBwcmVzc2VkXG4gICAgICAgICAgICAgICAgdmFyIHRlc3RWaWRlb0VsZW1lbnQgPSBkb2N1bWVudFsnY3JlYXRlRWxlbWVudF9vcmlnaW5hbCddKCd2aWRlbycpO1xuICAgICAgICAgICAgICAgIHRlc3RWaWRlb0VsZW1lbnQuc3JjID0gXCJpbnZhbGlkLm1wNFwiO1xuICAgICAgICAgICAgICAgIHRlc3RWaWRlb0VsZW1lbnQucGxheSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgcHJveHkubG9jYWxPYmplY3RJZCArIFwiXTo6cGxheSAtIFVORVhQRUNURUQ6IGxvY2FsIHRlc3QgcGxheSBzdWNjZWVkZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHByb3h5LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHByb3h5LmxvY2FsT2JqZWN0SWQsICdwbGF5JywgeyB0eXBlOiAndmlkZW8nIH0sIHBsYXlJbnZva2VDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIHByb3h5LmNoZWNrTG9jYWxQbGF5U3VwcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5uYW1lID09IFwiTm90QWxsb3dlZEVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyBwcm94eS5sb2NhbE9iamVjdElkICsgXCJdOjpwbGF5IC0gbG9jYWwgVmlkZW9FbGVtZW50IHJldHVybmVkIE5vdEFsbG93ZWRFcnJvciwgc3VwcHJlc3NpbmcgcGxheVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yLCBleHBlY3RlZCBOb3RTdXBwb3J0ZWRFcnJvciBiZWNhdXNlIHNyYyBpcyBpbnZhbGlkXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgcHJveHkubG9jYWxPYmplY3RJZCArIFwiXTo6cGxheSAtIHNlbmRpbmcgcGxheSBpbnZva2UgZXZlbnQgZXJyPVwiICsgZXJyLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QocHJveHkubG9jYWxPYmplY3RJZCwgJ3BsYXknLCB7IHR5cGU6ICd2aWRlbycgfSwgcGxheUludm9rZUNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmNoZWNrTG9jYWxQbGF5U3VwcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm94eS5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZChwcm94eS5sb2NhbE9iamVjdElkLCAncGxheScsIHsgdHlwZTogJ3ZpZGVvJyB9LCBwbGF5SW52b2tlQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm9uTG9hZCgpO1xuICAgICAgICB2YXIgbG9jYWxPYmplY3RJZCA9IHRoaXMubG9jYWxPYmplY3RJZDtcbiAgICAgICAgdmFyIHNyYyA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzLm9yaWdpbmFsRWxlbWVudCkuc3JjO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgbG9jYWxPYmplY3RJZCArIFwiXTo6bG9hZFtCRUdJTl0gLSBzcmM6XCIgKyBzcmMpO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKGxvY2FsT2JqZWN0SWQsICdsb2FkJywgeyAnc3JjJzogc3JjIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyBsb2NhbE9iamVjdElkICsgXCJdOjpsb2FkW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBWaWRlb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuc2V0U2lua0lkID0gZnVuY3Rpb24gKHNpbmtJZCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlZpZGVvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRTaW5rSWRbQkVHSU5dIC0gc2lua0lkOiBcIiArIHNpbmtJZCk7XG4gICAgICAgIHZhciBwcm94eSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBwcm94eS5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZChwcm94eS5sb2NhbE9iamVjdElkLCAnc2V0U2lua0lkJywgeyBcInNpbmtJZFwiOiBzaW5rSWQgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiVmlkZW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OnNldFNpbmtJZFtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LnJlZGlyZWN0aW9uTWVzc2FnZUVsZW1lbnRJZCA9ICdyZWRpcmVjdE1lc3NhZ2UnO1xuICAgIFZpZGVvRWxlbWVudFJlZGlyZWN0LmJvb2xSZWRpcmVjdEF0dHJpYnV0ZXMgPSBbJ2F1dG9wbGF5JywgJ2RlZmF1bHRNdXRlZCcsICdsb29wJywgJ211dGVkJ107XG4gICAgVmlkZW9FbGVtZW50UmVkaXJlY3QucmVkaXJlY3RBdHRyaWJ1dGVzID0gWydhdXRvcGxheScsICdhdWRpb1RyYWNrcycsICdidWZmZXJlZCcsICdjdXJyZW50VGltZScsICdkZWZhdWx0TXV0ZWQnLCAnZGVmYXVsdFBsYXliYWNrUmF0ZScsICdkaXNhYmxlUGljdHVyZUluUGljdHVyZScsICdkdXJhdGlvbicsICdlbmRlZCcsICdlcnJvcicsICdsb29wJywgJ211dGVkJywgJ25ldHdvcmtTdGF0ZScsICdwbGF5YmFja1JhdGUnLFxuICAgICAgICAncGF1c2VkJywgJ3BsYXlzaW5saW5lJywgJ3Bvc3RlcicsICdwcmVsb2FkJywgJ3JlYWR5U3RhdGUnLCAnc2Vla2FibGUnLCAnc2Vla2luZycsICdzcmMnLCAnc3JjT2JqZWN0JywgJ3RleHRUcmFja3MnLCAndHJhY2tzJywgJ3ZpZGVvUGxheWJhY2tRdWFsaXR5JywgJ3ZpZGVvVHJhY2tzJywgJ3ZpZGVvV2lkdGgnLCAndmlkZW9IZWlnaHQnLCAndm9sdW1lJ107XG4gICAgcmV0dXJuIFZpZGVvRWxlbWVudFJlZGlyZWN0O1xufSgpKTtcbmV4cG9ydHMuVmlkZW9FbGVtZW50UmVkaXJlY3QgPSBWaWRlb0VsZW1lbnRSZWRpcmVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5IYXJkY29kZWRPY2NsdXNpb25UcmFja2VyID0gZXhwb3J0cy5jcmVhdGVPY2NsdXNpb25UcmFja2VyRm9yU2l0ZSA9IGV4cG9ydHMuaGFyZGNvZGVkT2NjbHVzaW9uRGVmaW5pdGlvbnMgPSB2b2lkIDA7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBtbXJfbWFpbl8xID0gcmVxdWlyZShcIi4vbW1yX21haW5cIik7XG4vLyBUcmFja2VyIGNsYXNzIHdoaWNoIG1vbml0b3JzIGZvciBoYXJkY29kZWQgc2l0ZS1zcGVjaWZpYyB2aWRlbyBvY2NsdWRpbmcgZWxlbWVudHNcbi8vIFNpdGUtc3BlY2lmaWMgaGFyZC1jb2RlZCBvY2NsdXNpb24gaXRlbSBkZWZpbml0aW9uc1xuZXhwb3J0cy5oYXJkY29kZWRPY2NsdXNpb25EZWZpbml0aW9ucyA9IHtcbiAgICBcIi4qeW91dHViZVxcLmNvbS4qXCI6IFtcbiAgICAgICAgLy8gIE1haW4gcGxheWJhY2sgY29udHJvbHNcbiAgICAgICAge1xuICAgICAgICAgICAgb2NjbHVzaW9uQWN0aXZlRWxlbWVudFNlbGVjdG9yOiBcIi55dHAtZ3JhZGllbnQtYm90dG9tXCIsXG4gICAgICAgICAgICBjbGlwcGluZ0VsZW1lbnRTZWxlY3RvcjogXCIueXRwLWNocm9tZS1ib3R0b21cIlxuICAgICAgICB9LFxuICAgICAgICAvLyBTa2lwIGFkIGJ1dHRvblxuICAgICAgICB7XG4gICAgICAgICAgICBvY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1hZC1za2lwLWJ1dHRvbi1jb250YWluZXJcIixcbiAgICAgICAgICAgIGNsaXBwaW5nRWxlbWVudFNlbGVjdG9yOiBcIi55dHAtYWQtc2tpcC1idXR0b24tY29udGFpbmVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUmlnaHQtY2xpY2sgbWVudVxuICAgICAgICB7XG4gICAgICAgICAgICBvY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1jb250ZXh0bWVudVwiLFxuICAgICAgICAgICAgY2xpcHBpbmdFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1jb250ZXh0bWVudVwiXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFNldHRpbmdzIG1lbnVcbiAgICAgICAge1xuICAgICAgICAgICAgb2NjbHVzaW9uQWN0aXZlRWxlbWVudFNlbGVjdG9yOiBcIi55dHAtc2V0dGluZ3MtbWVudVwiLFxuICAgICAgICAgICAgY2xpcHBpbmdFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1zZXR0aW5ncy1tZW51XCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gU2V0dGluZ3MgbWVudSAoZnVsbCBzY3JlZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9jY2x1c2lvbkFjdGl2ZUVsZW1lbnRTZWxlY3RvcjogXCIueXRwLXBvcHVwLnl0cC1iaWctbW9kZVwiLFxuICAgICAgICAgICAgY2xpcHBpbmdFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1wb3B1cC55dHAtYmlnLW1vZGVcIlxuICAgICAgICB9LFxuICAgICAgICAvLyBNYXN0LWhlYWQgKHNlYXJjaCBiYXIgZXRjKVxuICAgICAgICB7XG4gICAgICAgICAgICBvY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3I6IFwiLnl0ZC1tYXN0aGVhZFwiLFxuICAgICAgICAgICAgY2xpcHBpbmdFbGVtZW50U2VsZWN0b3I6IFwiLnl0ZC1tYXN0aGVhZFwiXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFN1YnRpdGxlc1xuICAgICAgICB7XG4gICAgICAgICAgICBvY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1jYXB0aW9uLXdpbmRvdy1ib3R0b21cIixcbiAgICAgICAgICAgIGNsaXBwaW5nRWxlbWVudFNlbGVjdG9yOiBcIi55dHAtY2FwdGlvbi13aW5kb3ctYm90dG9tXCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gTWluaS1wbGF5ZXIgY29udHJvbHNcbiAgICAgICAgLy8gQ2xvc2UgYnV0dG9uXG4gICAgICAgIHtcbiAgICAgICAgICAgIG9jY2x1c2lvbkFjdGl2ZUVsZW1lbnRTZWxlY3RvcjogXCIueXRwLW1pbmlwbGF5ZXItY2xvc2UtYnV0dG9uXCIsXG4gICAgICAgICAgICBjbGlwcGluZ0VsZW1lbnRTZWxlY3RvcjogXCIueXRwLW1pbmlwbGF5ZXItY2xvc2UtYnV0dG9uXCJcbiAgICAgICAgfSxcbiAgICAgICAgLy8gRXhwYW5kLXdhdGNoIGJ1dHRvblxuICAgICAgICB7XG4gICAgICAgICAgICBvY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1taW5pcGxheWVyLWV4cGFuZC13YXRjaC1wYWdlLWJ1dHRvblwiLFxuICAgICAgICAgICAgY2xpcHBpbmdFbGVtZW50U2VsZWN0b3I6IFwiLnl0cC1taW5pcGxheWVyLWV4cGFuZC13YXRjaC1wYWdlLWJ1dHRvblwiXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFNpZGUtbWVudVxuICAgICAgICB7XG4gICAgICAgICAgICBvY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3I6IFwiI2NvbnRlbnRDb250YWluZXIudHAteXQtYXBwLWRyYXdlclwiLFxuICAgICAgICAgICAgY2xpcHBpbmdFbGVtZW50U2VsZWN0b3I6IFwiI2NvbnRlbnRDb250YWluZXIudHAteXQtYXBwLWRyYXdlclwiXG4gICAgICAgIH0sXG4gICAgXVxufTtcbmZ1bmN0aW9uIGNyZWF0ZU9jY2x1c2lvblRyYWNrZXJGb3JTaXRlKHVybCwgY2xpZW50KSB7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IE9iamVjdC5lbnRyaWVzKGV4cG9ydHMuaGFyZGNvZGVkT2NjbHVzaW9uRGVmaW5pdGlvbnMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIG1hdGNoUGF0dGVybiA9IF9iWzBdLCBvY2NsdXNpb25JdGVtcyA9IF9iWzFdO1xuICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKG1hdGNoUGF0dGVybik7XG4gICAgICAgIGlmICh1cmwubWF0Y2gocmVnZXgpKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcImNyZWF0ZU9jY2x1c2lvblRyYWNrZXJGb3JTaXRlIC0gdXJsOiBcIiArIHVybCArIFwiIG1hdGNoZWQgcGF0dGVybjogXCIgKyBtYXRjaFBhdHRlcm4gKyBcIiwgYXBwbHlpbmcgaGFyZC1jb2RlZCBvY2NsdXNpb24gdHJhY2tpbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXIoY2xpZW50LCBvY2NsdXNpb25JdGVtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJjcmVhdGVPY2NsdXNpb25UcmFja2VyRm9yU2l0ZSAtIHVybDogXCIgKyB1cmwgKyBcIiwgbm90IGFwcGxpY2FibGUgZm9yIG9jY2x1c2lvbnNcIik7XG4gICAgcmV0dXJuIG5ldyBIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyKGNsaWVudCwgW10pO1xufVxuZXhwb3J0cy5jcmVhdGVPY2NsdXNpb25UcmFja2VyRm9yU2l0ZSA9IGNyZWF0ZU9jY2x1c2lvblRyYWNrZXJGb3JTaXRlO1xuZnVuY3Rpb24gZG9SZWN0c0ludGVyc2VjdChyZWN0MSwgcmVjdDIpIHtcbiAgICB2YXIgaG9yaXpvbnRhbEludGVyc2VjdCA9ICgocmVjdDEubGVmdCA+PSByZWN0Mi5sZWZ0KSAmJiAocmVjdDEubGVmdCA8PSByZWN0Mi5yaWdodCkpIHx8XG4gICAgICAgICgocmVjdDEucmlnaHQgPj0gcmVjdDIubGVmdCkgJiYgKHJlY3QxLnJpZ2h0IDw9IHJlY3QyLnJpZ2h0KSkgfHxcbiAgICAgICAgKChyZWN0Mi5sZWZ0ID49IHJlY3QxLmxlZnQpICYmIChyZWN0Mi5sZWZ0IDw9IHJlY3QxLnJpZ2h0KSkgfHxcbiAgICAgICAgKChyZWN0Mi5yaWdodCA+PSByZWN0MS5sZWZ0KSAmJiAocmVjdDIucmlnaHQgPD0gcmVjdDEucmlnaHQpKTtcbiAgICB2YXIgdmVydGljYWxJbnRlcnNlY3QgPSAoKHJlY3QxLnRvcCA+PSByZWN0Mi50b3ApICYmIChyZWN0MS50b3AgPD0gcmVjdDIuYm90dG9tKSkgfHxcbiAgICAgICAgKChyZWN0MS5ib3R0b20gPj0gcmVjdDIudG9wKSAmJiAocmVjdDEuYm90dG9tIDw9IHJlY3QyLmJvdHRvbSkpIHx8XG4gICAgICAgICgocmVjdDIudG9wID49IHJlY3QxLnRvcCkgJiYgKHJlY3QyLnRvcCA8PSByZWN0MS5ib3R0b20pKSB8fFxuICAgICAgICAoKHJlY3QyLmJvdHRvbSA+PSByZWN0MS50b3ApICYmIChyZWN0Mi5ib3R0b20gPD0gcmVjdDEuYm90dG9tKSk7XG4gICAgcmV0dXJuIChob3Jpem9udGFsSW50ZXJzZWN0ICYmIHZlcnRpY2FsSW50ZXJzZWN0KTtcbn1cbnZhciBIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXIoY2xpZW50LCBoYXJkY29kZWRPY2NsdWRpbmdJdGVtRGVmaW5pdGlvbnMpIHtcbiAgICAgICAgdGhpcy5vY2NsdWRpbmdJdGVtRGVmaW5pdGlvbnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5hY3RpdmVPY2NsdXNpb25UcmFja2VycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5tb25pdG9yaW5nSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgLy8gSGFyZGNvZGVkIGxpc3Qgb2Ygb2NjbHVkaW5nIGl0ZW1zIHRvIGNoZWNrIGZvclxuICAgICAgICAvLyBFYWNoIG9jY2x1ZGluZyBpdGVtIG1heSB1c2UgZGlmZmVyZW50IHF1ZXJpZXMgZm9yIChhKSBkZXRlcm1pbmluZyB3aGV0aGVyIHRoZSBvY2NsdXNpb24gaXMgYWN0aXZlXG4gICAgICAgIC8vIGFuZCAoYikgZmluZGluZyB0aGUgZWxlbWVudChzKSB3aGljaCBhcmUgdXNlZCB0byBidWlsZCB0aGUgY2xpcHBpbmcgcmVjdFxuICAgICAgICB0aGlzLm9jY2x1ZGluZ0l0ZW1EZWZpbml0aW9ucyA9IGhhcmRjb2RlZE9jY2x1ZGluZ0l0ZW1EZWZpbml0aW9ucztcbiAgICB9XG4gICAgSGFyZGNvZGVkT2NjbHVzaW9uVHJhY2tlci5wcm90b3R5cGUuc3RhcnRNb25pdG9yaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXI6OnN0YXJ0TW9uaXRvcmluZ1wiKTtcbiAgICAgICAgaWYgKHRoaXMubW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXI6OnN0YXJ0TW9uaXRvcmluZyAtIG1vbml0b3JpbmcgYWxyZWFkeSBhY3RpdmVcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub2NjbHVkaW5nSXRlbURlZmluaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiSGFyZGNvZGVkT2NjbHVzaW9uVHJhY2tlcjo6c3RhcnRNb25pdG9yaW5nIC0gc3RhcnRpbmcgbW9uaXRvcmluZ1wiKTtcbiAgICAgICAgICAgIHZhciB0cmFja2VyXzEgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5tb25pdG9yaW5nSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tlcl8xLnRyeUFjdGl2YXRpbmdOZXdPY2NsdXNpb25UcmFja2VycygpO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXIucHJvdG90eXBlLnN0b3BNb25pdG9yaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXI6OnN0b3BNb25pdG9yaW5nXCIpO1xuICAgICAgICBpZiAoIXRoaXMubW9uaXRvcmluZ0ludGVydmFsKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXI6OnN0b3BNb25pdG9yaW5nIC0gbW9uaXRvcmluZyBhbHJlYWR5IHN0b3BwZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vbml0b3JpbmdJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMubW9uaXRvcmluZ0ludGVydmFsID0gbnVsbDtcbiAgICB9O1xuICAgIEhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXIucHJvdG90eXBlLnRyeUFjdGl2YXRpbmdOZXdPY2NsdXNpb25UcmFja2VycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHRyYWNrZXIgPSB0aGlzO1xuICAgICAgICB0aGlzLm9jY2x1ZGluZ0l0ZW1EZWZpbml0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICB2YXIgb2NjbHVzaW9uQWN0aXZlRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGl0ZW0ub2NjbHVzaW9uQWN0aXZlRWxlbWVudFNlbGVjdG9yKTtcbiAgICAgICAgICAgIG9jY2x1c2lvbkFjdGl2ZUVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaHRtbEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIGlmICghdHJhY2tlci5hY3RpdmVPY2NsdXNpb25UcmFja2Vycy5oYXMoaHRtbEVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiSGFyZGNvZGVkT2NjbHVzaW9uVHJhY2tlcjo6dHJ5QWN0aXZhdGVQZW5kaW5nT2NjbHVkaW5nVHJhY2tlcnMgLSBjcmVhdGluZyBvY2NsdXNpb24gdHJhY2tlciBmb3IgbmV3IGVsZW1lbnQgLSBzZWxlY3RvcjogXCIgKyBpdGVtLm9jY2x1c2lvbkFjdGl2ZUVsZW1lbnRTZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrZXIuYWN0aXZlT2NjbHVzaW9uVHJhY2tlcnMuc2V0KGh0bWxFbGVtZW50LCBuZXcgT2NjbHVzaW9uVHJhY2tlcihfdGhpcywgaXRlbSwgaHRtbEVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyLnByb3RvdHlwZS5vbk9jY2x1c2lvblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyOjpvbk9jY2x1c2lvblVwZGF0ZVwiKTtcbiAgICAgICAgdGhpcy5jbGllbnQub25PY2NsdXNpb25VcGRhdGUoKTtcbiAgICB9O1xuICAgIC8vIEdldCBjbGlwIHJlY3RzIHdoaWNoIGludGVyc2VjdCB3aXRoIHByb3ZpZGVkIHZpZGVvIHJlY3RcbiAgICBIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyLnByb3RvdHlwZS5nZXRDbGlwUmVjdHMgPSBmdW5jdGlvbiAodmlkZW9SZWN0KSB7XG4gICAgICAgIHZhciBwYXJlbnRJbmZvID0gbW1yX21haW5fMS5yb290V2luZG93SW5mb1RyYWNrZXIuZ2V0Um9vdFdpbmRvd0luZm8oKTtcbiAgICAgICAgdmFyIHBhcmVudE9mZnNldCA9IHBhcmVudEluZm9bXCJyb290T2Zmc2V0XCJdO1xuICAgICAgICB2YXIgb2Zmc2V0Q2xpcFJlY3RzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuYWN0aXZlT2NjbHVzaW9uVHJhY2tlcnMuZm9yRWFjaChmdW5jdGlvbiAodHJhY2tlcikge1xuICAgICAgICAgICAgaWYgKHRyYWNrZXIuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsaXBSZWN0VG9BZGQgPSB0cmFja2VyLmdldENsaXBSZWN0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGNsaXBSZWN0VG9BZGQud2lkdGggPiAwICYmIGNsaXBSZWN0VG9BZGQuaGVpZ2h0ID4gMCAmJiBjbGlwUmVjdFRvQWRkLmJvdHRvbSA+IDAgJiYgY2xpcFJlY3RUb0FkZC5yaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldENsaXBSZWN0ID0gbmV3IERPTVJlY3QoY2xpcFJlY3RUb0FkZC5sZWZ0ICsgcGFyZW50T2Zmc2V0LngsIGNsaXBSZWN0VG9BZGQudG9wICsgcGFyZW50T2Zmc2V0LnksIGNsaXBSZWN0VG9BZGQud2lkdGgsIGNsaXBSZWN0VG9BZGQuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvUmVjdHNJbnRlcnNlY3Qob2Zmc2V0Q2xpcFJlY3QsIHZpZGVvUmVjdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiSGFyZGNvZGVkT2NjbHVzaW9uVHJhY2tlcjo6Z2V0Q2xpcFJlY3RzKFwiICsgdHJhY2tlci5kZWZpbml0aW9uLm9jY2x1c2lvbkFjdGl2ZUVsZW1lbnRTZWxlY3RvciArIFwiKSAtIGFkZGluZyBjbGlwIHJlY3Q6IFwiICsgSlNPTi5zdHJpbmdpZnkob2Zmc2V0Q2xpcFJlY3QpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldENsaXBSZWN0cy5wdXNoKG5ldyBET01SZWN0KG9mZnNldENsaXBSZWN0LmxlZnQsIG9mZnNldENsaXBSZWN0LnRvcCwgb2Zmc2V0Q2xpcFJlY3Qud2lkdGgsIG9mZnNldENsaXBSZWN0LmhlaWdodCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyOjpnZXRDbGlwUmVjdHMoXCIgKyB0cmFja2VyLmRlZmluaXRpb24ub2NjbHVzaW9uQWN0aXZlRWxlbWVudFNlbGVjdG9yICsgXCIpIC0gUmVqZWN0aW5nIG5vbi1pbnRlcnNlY3RpbmcgY2xpcCByZWN0OlwiICsgSlNPTi5zdHJpbmdpZnkob2Zmc2V0Q2xpcFJlY3QpICsgXCIgLSB2aWRlbyByZWN0OiBcIiArIEpTT04uc3RyaW5naWZ5KHZpZGVvUmVjdCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXI6OmdldENsaXBSZWN0cyhcIiArIHRyYWNrZXIuZGVmaW5pdGlvbi5vY2NsdXNpb25BY3RpdmVFbGVtZW50U2VsZWN0b3IgKyBcIikgLSBpZ25vcmluZyBjbGlwIHJlY3Qgd2l0aCAwIHdpZHRoL2hlaWdodC9ib3R0b20vcmlnaHQ6IFwiICsgSlNPTi5zdHJpbmdpZnkoY2xpcFJlY3RUb0FkZCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBvZmZzZXRDbGlwUmVjdHM7XG4gICAgfTtcbiAgICByZXR1cm4gSGFyZGNvZGVkT2NjbHVzaW9uVHJhY2tlcjtcbn0oKSk7XG5leHBvcnRzLkhhcmRjb2RlZE9jY2x1c2lvblRyYWNrZXIgPSBIYXJkY29kZWRPY2NsdXNpb25UcmFja2VyO1xudmFyIE9jY2x1c2lvblRyYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2NjbHVzaW9uVHJhY2tlcihjbGllbnQsIGRlZmluaXRpb24sIHRhcmdldCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuZGVmaW5pdGlvbiA9IGRlZmluaXRpb247XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHZhciB0cmFja2VyID0gdGhpcztcbiAgICAgICAgdmFyIG9ic2VydmVyQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZW50cmllcywgb2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk9jY2x1c2lvblRyYWNrZXIoXCIgKyB0cmFja2VyLmRlZmluaXRpb24ub2NjbHVzaW9uQWN0aXZlRWxlbWVudFNlbGVjdG9yICsgXCIpOiBpc0ludGVyc2VjdGluZzogXCIgKyBlbnRyeS5pc0ludGVyc2VjdGluZyArIFwiLCByZWN0OiBcIiArIEpTT04uc3RyaW5naWZ5KGVudHJ5LmJvdW5kaW5nQ2xpZW50UmVjdCkpO1xuICAgICAgICAgICAgICAgIHRyYWNrZXIudXBkYXRlVmlzaWJpbGl0eVN0YXRlKGVudHJ5LmlzSW50ZXJzZWN0aW5nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBMaXN0ZW4gdG8gaW50ZXJzZWN0aW9uIGNoYW5nZXMgYmV0d2VlbiB0YXJnZXQgZWxlbWVudCBhbmQgZG9jdW1lbnQgdmlld3BvcnRcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7IHJvb3Q6IG51bGwsIHJvb3RNYXJnaW46IFwiMHB4XCIsIHRocmVzaG9sZDogMCB9O1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9ic2VydmVyQ2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUodGhpcy50YXJnZXQpO1xuICAgIH1cbiAgICBPY2NsdXNpb25UcmFja2VyLnByb3RvdHlwZS5nZXRDbGlwUmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNsaXBwaW5nRWxlbWVudCA9IHRoaXMudGFyZ2V0O1xuICAgICAgICBpZiAodGhpcy5kZWZpbml0aW9uLm9jY2x1c2lvbkFjdGl2ZUVsZW1lbnRTZWxlY3RvciAhPSB0aGlzLmRlZmluaXRpb24uY2xpcHBpbmdFbGVtZW50U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIGNsaXBwaW5nRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5kZWZpbml0aW9uLmNsaXBwaW5nRWxlbWVudFNlbGVjdG9yKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2xpcHBpbmdFbGVtZW50ID09IG51bGwpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfRVJSKFwiT2NjbHVzaW9uVHJhY2tlcjo6Z2V0Q2xpcFJlY3QgLSBtaXNzaW5nIGNsaXBwaW5nIGVsZW1lbnQgZm9yIHNlbGVjdG9yOiBcIiArIHRoaXMuZGVmaW5pdGlvbi5jbGlwcGluZ0VsZW1lbnRTZWxlY3Rvcik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERPTVJlY3QoMCwgMCwgMCwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsaXBwaW5nRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB9O1xuICAgIE9jY2x1c2lvblRyYWNrZXIucHJvdG90eXBlLnVwZGF0ZVZpc2liaWxpdHlTdGF0ZSA9IGZ1bmN0aW9uIChpc1Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc1Zpc2libGUgPSBpc1Zpc2libGU7XG4gICAgICAgIHRoaXMuY2xpZW50Lm9uT2NjbHVzaW9uVXBkYXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT2NjbHVzaW9uVHJhY2tlcjtcbn0oKSk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXBNZWRpYVNvdXJjZVNoaW1zID0gZXhwb3J0cy5NZWRpYVNvdXJjZVNoaW0gPSB2b2lkIDA7XG52YXIgbWVkaWFTb3VyY2VfcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL21lZGlhU291cmNlX3JlZGlyZWN0XCIpO1xudmFyIGVsZW1lbnRTaGltQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9lbGVtZW50U2hpbUNvbW1vblwiKTtcbnZhciBmYWxsYmFja09iamVjdE1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrT2JqZWN0TWFuYWdlclwiKTtcbnZhciBzb3VyY2VCdWZmZXJfc2hpbV8xID0gcmVxdWlyZShcIi4vc291cmNlQnVmZmVyX3NoaW1cIik7XG52YXIgZWxlbWVudFNoaW1Db21tb25fMiA9IHJlcXVpcmUoXCIuL2VsZW1lbnRTaGltQ29tbW9uXCIpO1xudmFyIGxvZ2dpbmdDb21tb25fMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdDb21tb25cIik7XG52YXIgZ19tZWRpYVNvdXJjZVJlbW90ZU9iamVjdE1hbmFnZXIgPSBudWxsO1xudmFyIGdfbWVkaWFTb3VyY2VGYWxsYmFja09iamVjdE1hbmFnZXIgPSBudWxsO1xudmFyIGdfb3JpZ2luYWxNZWRpYVNvdXJjZSA9IE1lZGlhU291cmNlO1xudmFyIGdfb3JpZ2luYWxDcmVhdGVPYmplY3RVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMO1xudmFyIE1pbWVUeXBlU3RhdGU7XG4oZnVuY3Rpb24gKE1pbWVUeXBlU3RhdGUpIHtcbiAgICBNaW1lVHlwZVN0YXRlW01pbWVUeXBlU3RhdGVbXCJ1bmtub3duXCJdID0gMF0gPSBcInVua25vd25cIjtcbiAgICBNaW1lVHlwZVN0YXRlW01pbWVUeXBlU3RhdGVbXCJzdXBwb3J0XCJdID0gMV0gPSBcInN1cHBvcnRcIjtcbiAgICBNaW1lVHlwZVN0YXRlW01pbWVUeXBlU3RhdGVbXCJ1bnN1cHBvcnRcIl0gPSAyXSA9IFwidW5zdXBwb3J0XCI7XG59KShNaW1lVHlwZVN0YXRlIHx8IChNaW1lVHlwZVN0YXRlID0ge30pKTtcbnZhciBNZWRpYVNvdXJjZVNoaW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVkaWFTb3VyY2VTaGltKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gTmFOO1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICB0aGlzLmlzTVNSRENPYmplY3QgPSB0cnVlO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTWVkaWFTb3VyY2UgPSBudWxsO1xuICAgICAgICB0aGlzLm1pbWVUeXBlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBWYXJpYWJsZXMgZm9yIGZhbGxiYWNrIHBhdGhcbiAgICAgICAgdGhpcy5wbGF5YmFja1BhdGhNb2RlID0gZWxlbWVudFNoaW1Db21tb25fMS5TaGltQ29tbW9uLmluaXRpYWxQbGF5YmFja1BhdGhNb2RlO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlU2hpbTo6TWVkaWFTb3VyY2VTaGltXCIpO1xuICAgICAgICB0aGlzLm9yaWdpbmFsTWVkaWFTb3VyY2UgPSBuZXcgZ19vcmlnaW5hbE1lZGlhU291cmNlKCk7XG4gICAgICAgIHRoaXMuYmxvYlVSTCA9IGdfb3JpZ2luYWxDcmVhdGVPYmplY3RVUkwodGhpcy5vcmlnaW5hbE1lZGlhU291cmNlKTtcbiAgICAgICAgdGhpcy5tZWRpYVNvdXJjZVJlZGlyZWN0ID0gbmV3IG1lZGlhU291cmNlX3JlZGlyZWN0XzEuTWVkaWFTb3VyY2VSZWRpcmVjdChnX21lZGlhU291cmNlUmVtb3RlT2JqZWN0TWFuYWdlciwgdGhpcywgdGhpcy5ibG9iVVJMKTtcbiAgICAgICAgZ19tZWRpYVNvdXJjZUZhbGxiYWNrT2JqZWN0TWFuYWdlci5hZGRGYWxsYmFja01lZGlhU291cmNlKHRoaXMsIHRoaXMuYmxvYlVSTCk7XG4gICAgICAgIHRoaXMucG9zdFNvdXJjZU9wZW5GYWxsYmFja1F1ZXVlID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVyU2hpbXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdmFyIHByb3h5ID0gdGhpcztcbiAgICAgICAgTWVkaWFTb3VyY2VTaGltLnNoaW1tZWRQcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24gKHByb3BlcnR5U3RyaW5nKSB7XG4gICAgICAgICAgICBwcm94eS5tZWRpYVNvdXJjZVJlZGlyZWN0W3Byb3BlcnR5U3RyaW5nXSA9IHByb3h5Lm9yaWdpbmFsTWVkaWFTb3VyY2VbcHJvcGVydHlTdHJpbmddO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3h5LCBwcm9wZXJ0eVN0cmluZywge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0O1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJveHkucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldCA9IHByb3h5Lm9yaWdpbmFsTWVkaWFTb3VyY2VbcHJvcGVydHlTdHJpbmddO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0ID0gcHJveHkubWVkaWFTb3VyY2VSZWRpcmVjdFtwcm9wZXJ0eVN0cmluZ107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW1bXCIgKyBwcm94eS5mYWxsYmFja09iamVjdElkICsgXCJdOjpnZXQgLSBcIiArIHByb3BlcnR5U3RyaW5nICsgXCI9XCIgKyByZXQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW1bXCIgKyBwcm94eS5mYWxsYmFja09iamVjdElkICsgXCJdOjpzZXQgLSBcIiArIHByb3BlcnR5U3RyaW5nICsgXCI9XCIgKyB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsb2NhbEZ1bmN0aW9uID0gZnVuY3Rpb24gKCkgeyBwcm94eS5vcmlnaW5hbE1lZGlhU291cmNlW3Byb3BlcnR5U3RyaW5nXSA9IHZhbHVlOyB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3RlRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7IHByb3h5Lm1lZGlhU291cmNlUmVkaXJlY3Quc2V0QXR0cmlidXRlKHByb3BlcnR5U3RyaW5nLCB2YWx1ZSk7IH07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocHJveHkucGxheWJhY2tQYXRoTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuUkVNT1RFOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5VTktOT1dOOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LnBvc3RTb3VyY2VPcGVuRmFsbGJhY2tRdWV1ZS5wdXNoKGxvY2FsRnVuY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW90ZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbEZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBNZWRpYVNvdXJjZVNoaW0uZXZlbnRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgICAgIC8vIGltcGxlbWVudGF0aW9uIGJhc2VkIG9uIG9uY29ubmVjdGlvbnN0YXRlY2hhbmdlIGZyb20gaHR0cHM6Ly93ZWJydGMuZ2l0aHViLmlvL2FkYXB0ZXIvYWRhcHRlci1sYXRlc3QuanNcbiAgICAgICAgICAgIHZhciBwcm9wTmFtZSA9ICdfb24nICsgZXZlbnROYW1lICsgJ2V2ZW50SGFuZGxlcic7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX3RoaXMsICdvbicgKyBldmVudE5hbWUsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbcHJvcE5hbWVdIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1twcm9wTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRoaXNbcHJvcE5hbWVdLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzW3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNbcHJvcE5hbWVdID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzW3Byb3BOYW1lXSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIE1lZGlhU291cmNlU2hpbS5wcm90b3R5cGUubG9jYWxPclJlbW90ZUV4ZWN1dGUgPSBmdW5jdGlvbiAoZnVuY3Rpb25OYW1lLCBhcmdzQXJyYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgbG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5vcmlnaW5hbE1lZGlhU291cmNlW2Z1bmN0aW9uTmFtZV0uYXBwbHkoX3RoaXMub3JpZ2luYWxNZWRpYVNvdXJjZSwgYXJnc0FycmF5KTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnBsYXliYWNrUGF0aE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlJFTU9URTpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMubWVkaWFTb3VyY2VSZWRpcmVjdFtmdW5jdGlvbk5hbWVdLmFwcGx5KHRoaXMubWVkaWFTb3VyY2VSZWRpcmVjdCwgYXJnc0FycmF5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV046XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSB0aGlzLm1lZGlhU291cmNlUmVkaXJlY3RbZnVuY3Rpb25OYW1lXS5hcHBseSh0aGlzLm1lZGlhU291cmNlUmVkaXJlY3QsIGFyZ3NBcnJheSk7XG4gICAgICAgICAgICAgICAgaWYgKE1lZGlhU291cmNlU2hpbS5wb3N0RmFsbGJhY2tRdWV1ZU1ldGhvZHMuaW5jbHVkZXMoZnVuY3Rpb25OYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBnX21lZGlhU291cmNlRmFsbGJhY2tPYmplY3RNYW5hZ2VyLnF1ZXVlRmFsbGJhY2tGdW5jdGlvbih0aGlzLmZhbGxiYWNrT2JqZWN0SWQsIGxvY2FsRnVuY3Rpb24sIGZhbGxiYWNrT2JqZWN0TWFuYWdlcl8xLlF1ZXVlVHlwZS5QT1NURkFMTEJBQ0spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ19tZWRpYVNvdXJjZUZhbGxiYWNrT2JqZWN0TWFuYWdlci5xdWV1ZUZhbGxiYWNrRnVuY3Rpb24odGhpcy5mYWxsYmFja09iamVjdElkLCBsb2NhbEZ1bmN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTDpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGxvY2FsRnVuY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlU2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6bG9jYWxPclJlbW90ZUV4ZWN1dGUgLSBmdW5jdGlvbk5hbWU9XCIgKyBmdW5jdGlvbk5hbWUgKyBcIiBhcmdzPVwiICsgYXJnc0FycmF5ICsgXCIgcmV0dXJuPVwiICsgcmV0dXJuVmFsdWUpO1xuICAgICAgICByZXR1cm4gcmV0dXJuVmFsdWU7XG4gICAgfTtcbiAgICAvLyBVc2VkIGZvciBTb3VyY2VCdWZmZXJMaXN0IGZ1bmN0aW9ucyBhbmQgTWVkaWFTb3VyY2UgZ2V0dGVyL3NldHRlcnNcbiAgICBNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLmxvY2FsT3JSZW1vdGVFeGVjdXRlRnVuY3Rpb25zID0gZnVuY3Rpb24gKGxvY2FsRnVuY3Rpb24sIHJlbW90ZUZ1bmN0aW9uLCBxdWV1ZVR5cGUpIHtcbiAgICAgICAgaWYgKHF1ZXVlVHlwZSA9PT0gdm9pZCAwKSB7IHF1ZXVlVHlwZSA9IGZhbGxiYWNrT2JqZWN0TWFuYWdlcl8xLlF1ZXVlVHlwZS5GQUxMQkFDSzsgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMucGxheWJhY2tQYXRoTW9kZSkge1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuUkVNT1RFOlxuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdGVGdW5jdGlvbigpO1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuVU5LTk9XTjpcbiAgICAgICAgICAgICAgICBnX21lZGlhU291cmNlRmFsbGJhY2tPYmplY3RNYW5hZ2VyLnF1ZXVlRmFsbGJhY2tGdW5jdGlvbih0aGlzLmZhbGxiYWNrT2JqZWN0SWQsIGxvY2FsRnVuY3Rpb24sIHF1ZXVlVHlwZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxGdW5jdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLnNldEZhbGxiYWNrT2JqZWN0SWQgPSBmdW5jdGlvbiAoZmFsbGJhY2tPYmplY3RJZCkge1xuICAgICAgICB0aGlzLmZhbGxiYWNrT2JqZWN0SWQgPSBmYWxsYmFja09iamVjdElkO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZS5zd2l0Y2hUb0xvY2FsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlU2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c3dpdGNoVG9Mb2NhbCAtIHBsYXliYWNrUGF0aE1vZGU9XCIgKyB0aGlzLnBsYXliYWNrUGF0aE1vZGUpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVCh0aGlzLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV04pO1xuICAgICAgICAvLyBzd2l0Y2hUb0xvY2FsIGlzIGNhbGxlZCBvbiBzb3VyY2VidWZmZXJzIGluIHRoZSBhZGRTb3VyY2VCdWZmZXIgbG9jYWxGdW5jdGlvblxuICAgICAgICB0aGlzLnBsYXliYWNrUGF0aE1vZGUgPSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUw7XG4gICAgICAgIHZhciBwcm94eSA9IHRoaXM7XG4gICAgICAgIHZhciBleGVjdXRlUG9zdFNvdXJjZU9wZW5GYWxsYmFja1F1ZXVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW1bXCIgKyBwcm94eS5mYWxsYmFja09iamVjdElkICsgXCJdOjpzd2l0Y2hUb0xvY2FsIC0gZXhlY3V0aW5nIHBvc3RTb3VyY2VPcGVuRmFsbGJhY2tRdWV1ZVwiKTtcbiAgICAgICAgICAgIHByb3h5LnBvc3RTb3VyY2VPcGVuRmFsbGJhY2tRdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IGUoKTsgfSk7XG4gICAgICAgICAgICBwcm94eS5wb3N0U291cmNlT3BlbkZhbGxiYWNrUXVldWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsTWVkaWFTb3VyY2UucmVhZHlTdGF0ZSA9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIGV4ZWN1dGVQb3N0U291cmNlT3BlbkZhbGxiYWNrUXVldWUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvblNvdXJjZU9wZW5fMSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBleGVjdXRlUG9zdFNvdXJjZU9wZW5GYWxsYmFja1F1ZXVlKCk7XG4gICAgICAgICAgICAgICAgcHJveHkub3JpZ2luYWxNZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgb25Tb3VyY2VPcGVuXzEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxNZWRpYVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgb25Tb3VyY2VPcGVuXzEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLnN3aXRjaFRvUmVtb3RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlU2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c3dpdGNoVG9SZW1vdGVcIik7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKHRoaXMucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuVU5LTk9XTik7XG4gICAgICAgIHRoaXMucG9zdFNvdXJjZU9wZW5GYWxsYmFja1F1ZXVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnBsYXliYWNrUGF0aE1vZGUgPSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuUkVNT1RFO1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlclNoaW1zLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZUJ1ZmZlclNoaW0pIHtcbiAgICAgICAgICAgIHNvdXJjZUJ1ZmZlclNoaW0uc3dpdGNoVG9SZW1vdGUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLmFkZFNvdXJjZUJ1ZmZlciA9IGZ1bmN0aW9uIChtaW1lVHlwZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlU2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6YWRkU291cmNlQnVmZmVyOiBcIiArIG1pbWVUeXBlKTtcbiAgICAgICAgaWYgKGVsZW1lbnRTaGltQ29tbW9uXzEuU2hpbUNvbW1vbi5pbml0aWFsUGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUwpIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSB1c2luZyBlbmFibGVQYXNzdGhyb3VnaCB0ZXN0IHNldHRpbmcsIHNvIGNyZWF0ZSBhIHNvdXJjZWJ1ZmZlciB3aXRoIHBhc3N0aHJvdWdoIGxvZ2dpbmcgZnVuY3Rpb25zXG4gICAgICAgICAgICByZXR1cm4gc291cmNlQnVmZmVyX3NoaW1fMS5zZXR1cFBhc3N0aHJvdWdoU291cmNlQnVmZmVyU2hpbSh0aGlzLm9yaWdpbmFsTWVkaWFTb3VyY2UuYWRkU291cmNlQnVmZmVyKG1pbWVUeXBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5wbGF5YmFja1BhdGhNb2RlID09IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxNZWRpYVNvdXJjZS5hZGRTb3VyY2VCdWZmZXIobWltZVR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXJTaGltID0gdGhpcy5tZWRpYVNvdXJjZVJlZGlyZWN0LmFkZFNvdXJjZUJ1ZmZlcihtaW1lVHlwZSk7XG4gICAgICAgIHNvdXJjZUJ1ZmZlclNoaW0uc2V0RmFsbGJhY2tQYXRoTW9kZSh0aGlzLnBsYXliYWNrUGF0aE1vZGUpO1xuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlclNoaW1zLnB1c2goc291cmNlQnVmZmVyU2hpbSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV04pIHtcbiAgICAgICAgICAgIHZhciBvcmlnaW5hbE1lZGlhU291cmNlXzEgPSB0aGlzLm9yaWdpbmFsTWVkaWFTb3VyY2U7XG4gICAgICAgICAgICB2YXIgbG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxTb3VyY2VCdWZmZXIgPSBvcmlnaW5hbE1lZGlhU291cmNlXzEuYWRkU291cmNlQnVmZmVyKG1pbWVUeXBlKTtcbiAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXJTaGltLnN3aXRjaFRvTG9jYWwob3JpZ2luYWxTb3VyY2VCdWZmZXIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucG9zdFNvdXJjZU9wZW5GYWxsYmFja1F1ZXVlLnB1c2gobG9jYWxGdW5jdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvdXJjZUJ1ZmZlclNoaW07XG4gICAgfTtcbiAgICA7XG4gICAgTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZS5jbGVhckxpdmVTZWVrYWJsZVJhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlU2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6Y2xlYXJMaXZlU2Vla2FibGVSYW5nZVtCRUdJTl1cIik7XG4gICAgICAgIHRoaXMubG9jYWxPclJlbW90ZUV4ZWN1dGUoJ2NsZWFyTGl2ZVNlZWthYmxlUmFuZ2UnLCBbXSk7XG4gICAgfTtcbiAgICA7XG4gICAgTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZS5lbmRPZlN0cmVhbSA9IGZ1bmN0aW9uIChlbmRPZlN0cmVhbUVycm9yKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjplbmRPZlN0cmVhbVtCRUdJTl0gLSBlbmRPZlN0cmVhbUVycm9yOiBcIiArIGVuZE9mU3RyZWFtRXJyb3IpO1xuICAgICAgICB0aGlzLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdlbmRPZlN0cmVhbScsIFtlbmRPZlN0cmVhbUVycm9yXSk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLnJlbW92ZVNvdXJjZUJ1ZmZlciA9IGZ1bmN0aW9uIChzb3VyY2VCdWZmZXIpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW1bXCIgKyB0aGlzLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OnJlbW92ZVNvdXJjZUJ1ZmZlcltCRUdJTl0gLSBzb3VyY2VCdWZmZXI6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMi50cnlKc29uU3RyaW5naWZ5KHNvdXJjZUJ1ZmZlcikpO1xuICAgICAgICB0aGlzLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdyZW1vdmVTb3VyY2VCdWZmZXInLCBbc291cmNlQnVmZmVyXSk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLnNldExpdmVTZWVrYWJsZVJhbmdlID0gZnVuY3Rpb24gKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW1bXCIgKyB0aGlzLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OnNldExpdmVTZWVrYWJsZVJhbmdlW0JFR0lOXSAtIHN0YXJ0OiBcIiArIHN0YXJ0ICsgXCIsIGVuZDogXCIgKyBlbmQpO1xuICAgICAgICB0aGlzLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdzZXRMaXZlU2Vla2FibGVSYW5nZScsIFtzdGFydCwgZW5kXSk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW1bXCIgKyB0aGlzLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OmFkZEV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICBpZiAoZWxlbWVudFNoaW1Db21tb25fMS5TaGltQ29tbW9uLmluaXRpYWxQbGF5YmFja1BhdGhNb2RlID09IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgLy8gV2UgYXJlIHVzaW5nIGVuYWJsZVBhc3N0aHJvdWdoIHRlc3Qgc2V0dGluZywgc28gd2Ugd2FudCB0byBrbm93IHdoZW4gdGhlIGxvY2FsIG9iamVjdCBmaXJlcyBldmVudHNcbiAgICAgICAgICAgIHZhciBwcm94eV8xID0gdGhpcztcbiAgICAgICAgICAgIHZhciBvbkV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW1bXCIgKyBwcm94eV8xLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OmFkZEV2ZW50TGlzdGVuZXJbTE9DQUxdOjphZGRFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlICsgXCIgZmlyZWQhXCIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxNZWRpYVNvdXJjZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG9uRXZlbnRMaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgnYWRkRXZlbnRMaXN0ZW5lcicsIFt0eXBlLCBsaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpyZW1vdmVFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdGhpcy5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgncmVtb3ZlRXZlbnRMaXN0ZW5lcicsIFt0eXBlLCBsaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpkaXNwYXRjaEV2ZW50IC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxPclJlbW90ZUV4ZWN1dGUoJ2Rpc3BhdGNoRXZlbnQnLCBbZXZlbnRdKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYVNvdXJjZVNoaW0ucHJvdG90eXBlLCBcInNvdXJjZUJ1ZmZlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpnZXQgc291cmNlQnVmZmVyc1wiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxNZWRpYVNvdXJjZS5zb3VyY2VCdWZmZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlTaGltVG9Tb3VyY2VCdWZmZXJMaXN0KHRoaXMubWVkaWFTb3VyY2VSZWRpcmVjdC5zb3VyY2VCdWZmZXJzLCB0aGlzLm9yaWdpbmFsTWVkaWFTb3VyY2Uuc291cmNlQnVmZmVycyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZSwgXCJhY3RpdmVTb3VyY2VCdWZmZXJzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlU2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6Z2V0IGFjdGl2ZVNvdXJjZUJ1ZmZlcnNcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5YmFja1BhdGhNb2RlID09IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsTWVkaWFTb3VyY2UuYWN0aXZlU291cmNlQnVmZmVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFwcGx5U2hpbVRvU291cmNlQnVmZmVyTGlzdCh0aGlzLm1lZGlhU291cmNlUmVkaXJlY3QuYWN0aXZlU291cmNlQnVmZmVycywgdGhpcy5vcmlnaW5hbE1lZGlhU291cmNlLmFjdGl2ZVNvdXJjZUJ1ZmZlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLy8gcmVkZWZpbmVzIGFkZEV2ZW50TGlzdGVuZXIvcmVtb3ZlRXZlbnRMaXN0bmVyIG9uIGEgU291cmNlQnVmZmVyTGlzdCBvYmplY3QgdG8gaGFuZGxlIHF1ZXVlaW5nIGV2ZW50cyBiYXNlZCBvbiBwbGF5YmFja1BhdGhNb2RlXG4gICAgTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZS5hcHBseVNoaW1Ub1NvdXJjZUJ1ZmZlckxpc3QgPSBmdW5jdGlvbiAoc291cmNlQnVmZmVyTGlzdCwgb3JpZ2luYWxTb3VyY2VCdWZmZXJMaXN0KSB7XG4gICAgICAgIHZhciBwcm94eSA9IHRoaXM7XG4gICAgICAgIHZhciByZWRpcmVjdEFkZEV2ZW50TGlzdGVuZXIgPSBzb3VyY2VCdWZmZXJMaXN0LmFkZEV2ZW50TGlzdGVuZXI7XG4gICAgICAgIHNvdXJjZUJ1ZmZlckxpc3QuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJMaXN0U2hpbTo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgICAgICB2YXIgbG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9yaWdpbmFsU291cmNlQnVmZmVyTGlzdC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsgfTtcbiAgICAgICAgICAgIHZhciByZW1vdGVGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZGlyZWN0QWRkRXZlbnRMaXN0ZW5lci5hcHBseShzb3VyY2VCdWZmZXJMaXN0LCBbdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnNdKTsgfTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eS5sb2NhbE9yUmVtb3RlRXhlY3V0ZUZ1bmN0aW9ucyhsb2NhbEZ1bmN0aW9uLCByZW1vdGVGdW5jdGlvbiwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyXzEuUXVldWVUeXBlLlBPU1RGQUxMQkFDSyk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciByZWRpcmVjdFJlbW92ZUV2ZW50TGlzdGVuZXIgPSBzb3VyY2VCdWZmZXJMaXN0LnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gICAgICAgIHNvdXJjZUJ1ZmZlckxpc3QucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJMaXN0U2hpbTo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgICAgICB2YXIgbG9jYWxGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9yaWdpbmFsU291cmNlQnVmZmVyTGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsgfTtcbiAgICAgICAgICAgIHZhciByZW1vdGVGdW5jdGlvbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJlZGlyZWN0UmVtb3ZlRXZlbnRMaXN0ZW5lci5hcHBseShzb3VyY2VCdWZmZXJMaXN0LCBbdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnNdKTsgfTtcbiAgICAgICAgICAgIHJldHVybiBwcm94eS5sb2NhbE9yUmVtb3RlRXhlY3V0ZUZ1bmN0aW9ucyhsb2NhbEZ1bmN0aW9uLCByZW1vdGVGdW5jdGlvbiwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyXzEuUXVldWVUeXBlLlBPU1RGQUxMQkFDSyk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzb3VyY2VCdWZmZXJMaXN0O1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VTaGltLnByb3RvdHlwZS5jaGVja0lzVHlwZVN1cHBvcnRlZCA9IGZ1bmN0aW9uIChtaW1lVHlwZSkge1xuICAgICAgICAvLyBSZXBvcnQgdGhhdCBBVjEgYW5kIEhFVkMgYXJlIHVuc3VwcG9ydGVkIGFzIHRoZXkgcmVxdWlyZSBob3N0IHNpZGUgY29kZWMgcGFja3MgdG8gYmUgaW5zdGFsbGVkIHRvIHdvcmsgd2l0aCB0aGVcbiAgICAgICAgLy8gaG9zdC1zaWRlIE1TRSBpbXBsZW1lbnRhdGlvblxuICAgICAgICBpZiAobWltZVR5cGUuaW5kZXhPZihcImF2MDFcIikgIT0gLTEgfHwgbWltZVR5cGUuaW5kZXhPZihcImF2OTlcIikgIT0gLTEgfHwgbWltZVR5cGUuaW5kZXhPZihcImhldjFcIikgIT0gLTEgfHwgbWltZVR5cGUuaW5kZXhPZihcImhldmNcIikgIT0gLTEgfHwgbWltZVR5cGUuaW5kZXhPZihcIm9wdXNcIikgIT0gLTEpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfV0FSTihcIk1lZGlhU291cmNlU2hpbTo6aXNUeXBlU3VwcG9ydGVkIC0gcmVwb3J0aW5nIHVuc3VwcG9ydGVkIGZvciBtaW1lVHlwZTogXCIgKyBtaW1lVHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJldFZhbHVlID0gZ19vcmlnaW5hbE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZChtaW1lVHlwZSk7XG4gICAgICAgIGlmICghKHRoaXMubWltZVR5cGVNYXAuaGFzKG1pbWVUeXBlKSkpIHtcbiAgICAgICAgICAgIHRoaXMubWltZVR5cGVNYXAuc2V0KG1pbWVUeXBlLCBNaW1lVHlwZVN0YXRlLnVua25vd24pO1xuICAgICAgICAgICAgdmFyIHByb3h5XzIgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5tZWRpYVNvdXJjZVJlZGlyZWN0LmlzVHlwZVN1cHBvcnRlZChtaW1lVHlwZSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gTWltZVR5cGVTdGF0ZS51bmtub3duO1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTWltZVR5cGVTdGF0ZS51bnN1cHBvcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IE1pbWVUeXBlU3RhdGUuc3VwcG9ydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHJveHlfMi5taW1lVHlwZU1hcC5zZXQobWltZVR5cGUsIHZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubWltZVR5cGVNYXAuZ2V0KG1pbWVUeXBlKSA9PSBNaW1lVHlwZVN0YXRlLnN1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXRWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLm1pbWVUeXBlTWFwLmdldChtaW1lVHlwZSkgPT0gTWltZVR5cGVTdGF0ZS51bnN1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICByZXRWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVNoaW06OmNoZWNrSXNUeXBlU3VwcG9ydGVkIG1pbWVUeXBlOiBcIiArIG1pbWVUeXBlICsgXCIgd2FpdGluZyBmb3IgcmVzdWx0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcmV0VmFsdWUpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfV0FSTihcIk1lZGlhU291cmNlU2hpbTo6Y2hlY2tJc1R5cGVTdXBwb3J0ZWQgLSByZXBvcnRpbmcgdW5zdXBwb3J0ZWQgZm9yIG1pbWVUeXBlOiBcIiArIG1pbWVUeXBlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0VmFsdWU7XG4gICAgICAgIC8vIFRPRE86IENoZWNrIGNsaWVudCBjYXBzXG4gICAgfTtcbiAgICA7XG4gICAgTWVkaWFTb3VyY2VTaGltLmV2ZW50SGFuZGxlcnMgPSBbJ3NvdXJjZW9wZW4nLCAnc291cmNlY2xvc2UnLCAnc291cmNlZW5kZWQnXTtcbiAgICAvLyBMaXN0IG9mIG9yaWdpbmFsIE1lZGlhU291cmNlIHByb3BlcnRpZXMgd2UgcmVkaXJlY3RcbiAgICBNZWRpYVNvdXJjZVNoaW0uc2hpbW1lZFByb3BlcnRpZXMgPSBtZWRpYVNvdXJjZV9yZWRpcmVjdF8xLk1lZGlhU291cmNlUmVkaXJlY3QucmVkaXJlY3RBdHRyaWJ1dGVzO1xuICAgIC8vIER1cmluZyBzd2l0Y2hUb0xvY2FsLCBldmVudCBsaXN0ZW5lciBtZXRob2RzIHNob3VsZCBiZSBleGVjdXRlZCBhZnRlcndhcmRzIHNvIHRoYXRcbiAgICAvLyBjYWxsZXJzIGRvIG5vdCByZWNlaXZlIGV2ZW50IG5vdGlmaWNhdGlvbnMgdHdpY2UgKG9uY2UgZnJvbSBzaGltLCBhbmQgb25jZSBmcm9tIG9yaWdpbmFsKVxuICAgIE1lZGlhU291cmNlU2hpbS5wb3N0RmFsbGJhY2tRdWV1ZU1ldGhvZHMgPSBbJ2FkZEV2ZW50TGlzdGVuZXInLCAncmVtb3RlRXZlbnRMaXN0ZW5lciddO1xuICAgIHJldHVybiBNZWRpYVNvdXJjZVNoaW07XG59KCkpO1xuZXhwb3J0cy5NZWRpYVNvdXJjZVNoaW0gPSBNZWRpYVNvdXJjZVNoaW07XG5mdW5jdGlvbiBzZXR1cE1lZGlhU291cmNlU2hpbXMocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyKSB7XG4gICAgZ19tZWRpYVNvdXJjZVJlbW90ZU9iamVjdE1hbmFnZXIgPSByZW1vdGVPYmplY3RNYW5hZ2VyO1xuICAgIGdfbWVkaWFTb3VyY2VGYWxsYmFja09iamVjdE1hbmFnZXIgPSBmYWxsYmFja09iamVjdE1hbmFnZXI7XG4gICAgdmFyIG1lZGlhU291cmNlU2hpbSA9IG5ldyBNZWRpYVNvdXJjZVNoaW0oKTtcbiAgICB3aW5kb3cuTWVkaWFTb3VyY2UgPSBNZWRpYVNvdXJjZVNoaW07XG4gICAgd2luZG93Lk1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCA9IGZ1bmN0aW9uIChtaW1lVHlwZSkge1xuICAgICAgICB2YXIgcmV0ID0gbWVkaWFTb3VyY2VTaGltLmNoZWNrSXNUeXBlU3VwcG9ydGVkKG1pbWVUeXBlKTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJzZXR1cE1lZGlhU291cmNlU2hpbXM6OmNoZWNrSXNUeXBlU3VwcG9ydGVkIG1pbWVUeXBlOiBcIiArIG1pbWVUeXBlICsgXCIgXCIgKyByZXQpO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG59XG5leHBvcnRzLnNldHVwTWVkaWFTb3VyY2VTaGltcyA9IHNldHVwTWVkaWFTb3VyY2VTaGltcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5NZWRpYVNvdXJjZVJlZGlyZWN0ID0gdm9pZCAwO1xudmFyIHNvdXJjZUJ1ZmZlcl9zaGltXzEgPSByZXF1aXJlKFwiLi9zb3VyY2VCdWZmZXJfc2hpbVwiKTtcbnZhciBlbGVtZW50U2hpbUNvbW1vbl8xID0gcmVxdWlyZShcIi4vZWxlbWVudFNoaW1Db21tb25cIik7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBNZWRpYVNvdXJjZVJlZGlyZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lZGlhU291cmNlUmVkaXJlY3QocmVtb3RlT2JqZWN0TWFuYWdlciwgcGFyZW50U2hpbSwgYmxvYlVSTCkge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIgPSByZW1vdGVPYmplY3RNYW5hZ2VyO1xuICAgICAgICB0aGlzLnBhcmVudFNoaW0gPSBwYXJlbnRTaGltO1xuICAgICAgICB0aGlzLmJsb2JVUkwgPSBibG9iVVJMO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gTmFOO1xuICAgICAgICB0aGlzLnJlYWR5U3RhdGUgPSBcImNsb3NlZFwiO1xuICAgICAgICB0aGlzLmxvY2FsT2JqZWN0SWQgPSAwO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3Q6Ok1lZGlhU291cmNlUmVkaXJlY3RcIik7XG4gICAgICAgIHRoaXMucGVuZGluZ1NvdXJjZUJ1ZmZlclNoaW1zID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVyU2hpbXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmNyZWF0ZU9iamVjdCh0aGlzLCBcIk1lZGlhU291cmNlXCIsIHsgJ2Jsb2JVUkwnOiB0aGlzLmJsb2JVUkwgfSk7XG4gICAgICAgIHRoaXMuc291cmNlQnVmZmVycyA9IG5ldyBlbGVtZW50U2hpbUNvbW1vbl8xLlNvdXJjZUJ1ZmZlckxpc3RQcm94eSh0aGlzKTtcbiAgICAgICAgdGhpcy5hY3RpdmVTb3VyY2VCdWZmZXJzID0gbmV3IGVsZW1lbnRTaGltQ29tbW9uXzEuU291cmNlQnVmZmVyTGlzdFByb3h5KHRoaXMpO1xuICAgIH1cbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5zZXRCbG9iVVJMID0gZnVuY3Rpb24gKGJsb2JVUkwpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRCbG9iVVJMW0JFR0lOXSAtIGJsb2JVUkw6IFwiICsgYmxvYlVSTCk7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5sb2NhbE9iamVjdElkLCAnc2V0QmxvYlVSTCcsIHsgJ2Jsb2JVUkwnOiBibG9iVVJMIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VSZWRpcmVjdDo6c2V0QmxvYlVSTFtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VSZWRpcmVjdC5wcm90b3R5cGUuc2V0TG9jYWxPYmplY3RJZCA9IGZ1bmN0aW9uIChsb2NhbE9iamVjdElkKSB7XG4gICAgICAgIHRoaXMubG9jYWxPYmplY3RJZCA9IGxvY2FsT2JqZWN0SWQ7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKHRoaXMucGVuZGluZ1NvdXJjZUJ1ZmZlclNoaW1zICE9IG51bGwpO1xuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xuICAgICAgICB0aGlzLnBlbmRpbmdTb3VyY2VCdWZmZXJTaGltcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgICB2YWx1ZS5zZXRNZWRpYVNvdXJjZU93bmVyKGxvY2FsT2JqZWN0SWQpO1xuICAgICAgICAgICAgcHJveHkuc291cmNlQnVmZmVyU2hpbXMucHVzaCh2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBlbmRpbmdTb3VyY2VCdWZmZXJTaGltcyA9IG51bGw7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5nZXRMb2NhbE9iamVjdElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbE9iamVjdElkO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VSZWRpcmVjdC5wcm90b3R5cGUub25SZW1vdGVPYmplY3RDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBXZSBjYWxsIHNldE1lZGlhU291cmNlT3duZXIgb24gZXZlcnkgY3JlYXRpb24gcmVzcG9uc2UgaW4gY2FzZVxuICAgICAgICAvLyB3ZSBhcmUgcGFyZW50ZWQgdG8gbmV3IG5hdGl2ZSBwcm9jZXNzIGFuZCBtZWRpYVNvdXJjZSByZW1vdGVPYmplY3RJZCBoYXMgY2hhbmdlZFxuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlclNoaW1zLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgIHZhbHVlLnNldE1lZGlhU291cmNlT3duZXIodGhpcy5sb2NhbE9iamVjdElkKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5pbnZva2VFdmVudCA9IGZ1bmN0aW9uIChldmVudCkgeyB9O1xuICAgIE1lZGlhU291cmNlUmVkaXJlY3QucHJvdG90eXBlLmludm9rZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6aW52b2tlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIGlmIChsaXN0ZW5lci5oYW5kbGVFdmVudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZUV2ZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc2hpbSA9IHRoaXMucGFyZW50U2hpbTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ3RhcmdldCcsIHsgdmFsdWU6IHNoaW0gfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICdjdXJyZW50VGFyZ2V0JywgeyB2YWx1ZTogc2hpbSB9KTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHNoaW0sIFtldmVudF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5vbkF0dHJpYnV0ZVVwZGF0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06Om9uQXR0cmlidXRlVXBkYXRlIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIGVsZW1lbnRTaGltQ29tbW9uXzEudHJ5SnNvblN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICBpZiAobmFtZSA9PSAnYWN0aXZlU291cmNlQnVmZmVycycpIHtcbiAgICAgICAgICAgIHRoaXMub25Tb3VyY2VCdWZmZXJMaXN0VXBkYXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYW1lID09ICdzb3VyY2VCdWZmZXJzJykge1xuICAgICAgICAgICAgLy8gSWdub3JlLCBzaGltIGFscmVhZHkgaGFuZGxlcyB1cGRhdGluZyBzb3VyY2VCdWZmZXJzXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1lZGlhU291cmNlUmVkaXJlY3QucmVkaXJlY3RBdHRyaWJ1dGVzLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PSBcImR1cmF0aW9uXCIgJiYgdmFsdWUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IEluZmluaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRTaGltW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lZGlhU291cmNlUmVkaXJlY3QucHJvdG90eXBlLm9uU291cmNlQnVmZmVyTGlzdFVwZGF0ZSA9IGZ1bmN0aW9uIChuYW1lLCBzb3VyY2VCdWZmZXJSZW1vdGVPYmplY3RJZEFycmF5KSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6b25Tb3VyY2VCdWZmZXJMaXN0VXBkYXRlIC0gc291cmNlQnVmZmVyUmVtb3RlT2JqZWN0SWRBcnJheTogXCIgKyBzb3VyY2VCdWZmZXJSZW1vdGVPYmplY3RJZEFycmF5KTtcbiAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlckFycmF5ID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBwcm94eSA9IHRoaXM7XG4gICAgICAgIC8vIElmIHVuZGVmaW5lZCwgYXNzdW1lIGFycmF5IGlzIGVtcHR5LCBhbmQgc2V0IG51bGwgYnVmZmVyIGxpc3RcbiAgICAgICAgaWYgKHNvdXJjZUJ1ZmZlclJlbW90ZU9iamVjdElkQXJyYXkgIT0gdW5kZWZpbmVkICYmIHNvdXJjZUJ1ZmZlclJlbW90ZU9iamVjdElkQXJyYXkuZm9yRWFjaCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNvdXJjZUJ1ZmZlclJlbW90ZU9iamVjdElkQXJyYXkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IHZhbHVlWydpZCddO1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VSZWRpcmVjdDo6b25Tb3VyY2VCdWZmZXJMaXN0VXBkYXRlIC0gc291cmNlQnVmZmVyUmVtb3RlT2JqZWN0SWRBcnJheVtcIiArIGluZGV4ICsgXCJdOiBcIiArIHZhbHVlICsgXCIgdmFsdWVbaWRdPVwiICsgaWQpO1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1NvdXJjZUJ1ZmZlciA9IHByb3h5LnNvdXJjZUJ1ZmZlcnMuc291cmNlQnVmZmVycy5maW5kKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50LnNvdXJjZUJ1ZmZlclJlZGlyZWN0LmxvY2FsT2JqZWN0SWQgPT0gaWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoaW5nU291cmNlQnVmZmVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2VCdWZmZXJBcnJheS5wdXNoKG1hdGNoaW5nU291cmNlQnVmZmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXR0aW5nIHNvdXJjZUJ1ZmZlckFycmF5IGRpcmVjdGx5IHRvIFNvdXJjZUJ1ZmZlckxpc3RQcm94eS5zb3VyY2VCdWZmZXJzXG4gICAgICAgIGlmIChuYW1lID09ICdhY3RpdmVTb3VyY2VCdWZmZXJzJykge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVTb3VyY2VCdWZmZXJzLnNldFNvdXJjZUJ1ZmZlcnMoc291cmNlQnVmZmVyQXJyYXkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5vbkNvbm5lY3Rpb25FdmVudCA9IGZ1bmN0aW9uIChldmVudFR5cGUpIHsgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5pc1R5cGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAobWltZVR5cGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjppc1R5cGVTdXBwb3J0ZWQ6IFwiICsgbWltZVR5cGUpO1xuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgX3RoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QoX3RoaXMubG9jYWxPYmplY3RJZCwgJ2lzVHlwZVN1cHBvcnRlZCcsIHsgJ21pbWVUeXBlJzogbWltZVR5cGUgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VSZWRpcmVjdFtcIiArIHByb3h5LmxvY2FsT2JqZWN0SWQgKyBcIl06OmlzVHlwZVN1cHBvcnRlZFtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSArIFwiIG1pbWVUeXBlOiBcIiArIG1pbWVUeXBlICsgYXJnc1tcInN1cHBvcnRlZFwiXSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoYXJnc1tcInN1cHBvcnRlZFwiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5hZGRTb3VyY2VCdWZmZXIgPSBmdW5jdGlvbiAobWltZVR5cGUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjphZGRTb3VyY2VCdWZmZXI6IFwiICsgbWltZVR5cGUpO1xuICAgICAgICB2YXIgbG9jYWxPYmplY3RJZCA9IHRoaXMubG9jYWxPYmplY3RJZDtcbiAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlclNoaW0gPSBzb3VyY2VCdWZmZXJfc2hpbV8xLnNldHVwU291cmNlQnVmZmVyU2hpbSh0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIsIG1pbWVUeXBlLCBsb2NhbE9iamVjdElkKTtcbiAgICAgICAgaWYgKGxvY2FsT2JqZWN0SWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlclNoaW1zLnB1c2goc291cmNlQnVmZmVyU2hpbSk7XG4gICAgICAgICAgICBzb3VyY2VCdWZmZXJTaGltLnNldE1lZGlhU291cmNlT3duZXIobG9jYWxPYmplY3RJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdTb3VyY2VCdWZmZXJTaGltcy5wdXNoKHNvdXJjZUJ1ZmZlclNoaW0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGhhbmRsZSB1cGRhdGluZyBzb3VyY2VCdWZmZXJzIGluIHRoZSBzaGltIGluc3RlYWQgb2YgZnJvbSBuYXRpdmUgaG9zdCBjb21wb25lbnRcbiAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXJzLmFkZFNvdXJjZUJ1ZmZlcihzb3VyY2VCdWZmZXJTaGltKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZUJ1ZmZlclNoaW07XG4gICAgfTtcbiAgICA7XG4gICAgTWVkaWFTb3VyY2VSZWRpcmVjdC5wcm90b3R5cGUuY2xlYXJMaXZlU2Vla2FibGVSYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpjbGVhckxpdmVTZWVrYWJsZVJhbmdlW0JFR0lOXVwiKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdjbGVhckxpdmVTZWVrYWJsZVJhbmdlJywge30sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VSZWRpcmVjdDo6Y2xlYXJMaXZlU2Vla2FibGVSYW5nZVtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgO1xuICAgIE1lZGlhU291cmNlUmVkaXJlY3QucHJvdG90eXBlLmVuZE9mU3RyZWFtID0gZnVuY3Rpb24gKGVuZE9mU3RyZWFtRXJyb3IpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjplbmRPZlN0cmVhbVtCRUdJTl0gLSBlbmRPZlN0cmVhbUVycm9yOiBcIiArIGVuZE9mU3RyZWFtRXJyb3IpO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ2VuZE9mU3RyZWFtJywgeyAnZW5kT2ZTdHJlYW1FcnJvcic6IGVuZE9mU3RyZWFtRXJyb3IgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0OjplbmRPZlN0cmVhbVtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VSZWRpcmVjdC5wcm90b3R5cGUucmVtb3ZlU291cmNlQnVmZmVyID0gZnVuY3Rpb24gKHNvdXJjZUJ1ZmZlcikge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OnJlbW92ZVNvdXJjZUJ1ZmZlcltCRUdJTl0gLSBzb3VyY2VCdWZmZXI6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KHNvdXJjZUJ1ZmZlcikpO1xuICAgICAgICB2YXIgc291cmNlQnVmZmVyU2hpbSA9IHNvdXJjZUJ1ZmZlcjtcbiAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlckxvY2FsT2JqZWN0SWQgPSBzb3VyY2VCdWZmZXJTaGltLmdldExvY2FsT2JqZWN0SWQoKTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoc291cmNlQnVmZmVyTG9jYWxPYmplY3RJZCk7XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXJSZW1vdGVPYmplY3RJZCA9IHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5sb2NhbFRvUmVtb3RlSWRNYXAuZ2V0KHNvdXJjZUJ1ZmZlckxvY2FsT2JqZWN0SWQpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChzb3VyY2VCdWZmZXJSZW1vdGVPYmplY3RJZCk7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5sb2NhbE9iamVjdElkLCAncmVtb3ZlU291cmNlQnVmZmVyJywgeyAnc291cmNlQnVmZmVyTG9jYWxPYmplY3RJZCc6IHNvdXJjZUJ1ZmZlclJlbW90ZU9iamVjdElkIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTWVkaWFTb3VyY2VSZWRpcmVjdDo6cmVtb3ZlU291cmNlQnVmZmVyW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHdlIGhhbmRsZSB1cGRhdGluZyBzb3VyY2VCdWZmZXJzIGluIHRoZSBzaGltIHJhdGhlciB0aGFuIGZvcndhcmRpbmcgbWVzc2FnZXMgZnJvbSBJTUZTb3VyY2VCdWZmZXJOb3RpZnlcbiAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXJzLnJlbW92ZVNvdXJjZUJ1ZmZlcihzb3VyY2VCdWZmZXIpO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VSZWRpcmVjdC5wcm90b3R5cGUuc2V0TGl2ZVNlZWthYmxlUmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OnNldExpdmVTZWVrYWJsZVJhbmdlW0JFR0lOXSAtIHN0YXJ0OiBcIiArIHN0YXJ0ICsgXCIsIGVuZDogXCIgKyBlbmQpO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3NldExpdmVTZWVrYWJsZVJhbmdlJywgeyAnc3RhcnQnOiBzdGFydCwgJ2VuZCc6IGVuZCB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3Q6OnNldExpdmVTZWVrYWJsZVJhbmdlW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5zZXRBdHRyaWJ1dGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRBdHRyaWJ1dGVbQkVHSU5dIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3NldEF0dHJpYnV0ZScsIHsgJ25hbWUnOiBuYW1lLCAndmFsdWUnOiB2YWx1ZSB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3Q6OnNldEF0dHJpYnV0ZVtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVkaWFTb3VyY2VSZWRpcmVjdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OmFkZEV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmxvY2FsT2JqZWN0SWQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIE1lZGlhU291cmNlUmVkaXJlY3QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNZWRpYVNvdXJjZVJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpyZW1vdmVFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5sb2NhbE9iamVjdElkLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBNZWRpYVNvdXJjZVJlZGlyZWN0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBidWZmZXJMaXN0VHlwZSA9IGV2ZW50LnRhcmdldCAhPSB1bmRlZmluZWQgPyBldmVudC50YXJnZXRbJ0J1ZmZlckxpc3RUeXBlJ10gOiBcIlwiO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1lZGlhU291cmNlUmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OmRpc3BhdGNoRXZlbnQgLSB0eXBlOiBcIiArIGV2ZW50LnR5cGUgKyBcIiBidWZmZXJMaXN0VHlwZT1cIiArIGJ1ZmZlckxpc3RUeXBlKTtcbiAgICAgICAgaWYgKGJ1ZmZlckxpc3RUeXBlID09ICdzb3VyY2VCdWZmZXJzJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlQnVmZmVycy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChidWZmZXJMaXN0VHlwZSA9PSAnYWN0aXZlU291cmNlQnVmZmVycycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVNvdXJjZUJ1ZmZlcnMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5kaXNwYXRjaEV2ZW50KHRoaXMubG9jYWxPYmplY3RJZCwgZXZlbnQpO1xuICAgIH07XG4gICAgLy8gdGhlIGF0dHJpYnV0ZXMgc3VwcG9ydGVkIGJ5IFJlZGlyZWN0IChzb3VyY2VCdWZmZXJzIGFuZCBhY3RpdmVTb3VyY2VCdWZmZXJzIGFyZSBoYW5kbGVkIHNlcGVyYXRlbHkpXG4gICAgTWVkaWFTb3VyY2VSZWRpcmVjdC5yZWRpcmVjdEF0dHJpYnV0ZXMgPSBbJ2R1cmF0aW9uJywgJ3JlYWR5U3RhdGUnXTtcbiAgICByZXR1cm4gTWVkaWFTb3VyY2VSZWRpcmVjdDtcbn0oKSk7XG5leHBvcnRzLk1lZGlhU291cmNlUmVkaXJlY3QgPSBNZWRpYVNvdXJjZVJlZGlyZWN0O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNvdXJjZUJ1ZmZlclJlZGlyZWN0ID0gdm9pZCAwO1xudmFyIGVsZW1lbnRTaGltQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9lbGVtZW50U2hpbUNvbW1vblwiKTtcbnZhciBsb2dnaW5nQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nQ29tbW9uXCIpO1xudmFyIFNvdXJjZUJ1ZmZlclJlZGlyZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvdXJjZUJ1ZmZlclJlZGlyZWN0KHJlbW90ZU9iamVjdE1hbmFnZXIsIHBhcmVudFNoaW0sIG1pbWVUeXBlLCBtZWRpYVNvdXJjZUxvY2FsT2JqZWN0SWQpIHtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyID0gcmVtb3RlT2JqZWN0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5wYXJlbnRTaGltID0gcGFyZW50U2hpbTtcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdElkID0gMDtcbiAgICAgICAgdGhpcy5tZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkID0gLTE7XG4gICAgICAgIHRoaXMuYXBwZW5kV2luZG93RW5kID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB0aGlzLmFwcGVuZFdpbmRvd1N0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5idWZmZXJlZCA9IGVsZW1lbnRTaGltQ29tbW9uXzEuY3JlYXRlVGltZVJhbmdlcyhuZXcgQXJyYXkoKSk7XG4gICAgICAgIHRoaXMudGltZXN0YW1wT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGluZyA9IGZhbHNlO1xuICAgICAgICBpZiAobWVkaWFTb3VyY2VMb2NhbE9iamVjdElkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIG1lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQgPSByZW1vdGVPYmplY3RNYW5hZ2VyLmxvY2FsVG9SZW1vdGVJZE1hcC5nZXQobWVkaWFTb3VyY2VMb2NhbE9iamVjdElkKTtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKG1lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHJlbW90ZU9iamVjdE1hbmFnZXIuY3JlYXRlT2JqZWN0KHRoaXMsICdTb3VyY2VCdWZmZXInLCB7ICdtaW1lVHlwZSc6IG1pbWVUeXBlLCAnbWVkaWFTb3VyY2VSZW1vdGVPYmplY3RJZCc6IG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCwgJ21lZGlhU291cmNlTG9jYWxPYmplY3RJZCc6IG1lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZW1vdGVPYmplY3RNYW5hZ2VyLmNyZWF0ZU9iamVjdCh0aGlzLCAnU291cmNlQnVmZmVyJywgeyAnbWltZVR5cGUnOiBtaW1lVHlwZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpTb3VyY2VCdWZmZXJSZWRpcmVjdCAtIG1pbWVUeXBlOiBcIiArIG1pbWVUeXBlKTtcbiAgICB9XG4gICAgU291cmNlQnVmZmVyUmVkaXJlY3QucHJvdG90eXBlLnNldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAobG9jYWxPYmplY3RJZCkge1xuICAgICAgICB0aGlzLmxvY2FsT2JqZWN0SWQgPSBsb2NhbE9iamVjdElkO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyUmVkaXJlY3QucHJvdG90eXBlLmdldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsT2JqZWN0SWQ7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUub25SZW1vdGVPYmplY3RDcmVhdGVkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIFNvdXJjZUJ1ZmZlclJlZGlyZWN0LnByb3RvdHlwZS5pbnZva2VFdmVudCA9IGZ1bmN0aW9uIChldmVudCkgeyB9O1xuICAgIFNvdXJjZUJ1ZmZlclJlZGlyZWN0LnByb3RvdHlwZS5pbnZva2VFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjppbnZva2VFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgaWYgKGxpc3RlbmVyLmhhbmRsZUV2ZW50ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlzdGVuZXIuaGFuZGxlRXZlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzaGltID0gdGhpcy5wYXJlbnRTaGltW2VsZW1lbnRTaGltQ29tbW9uXzEuc2hpbVByb3h5UHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ3RhcmdldCcsIHsgdmFsdWU6IHNoaW0gfSk7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICdjdXJyZW50VGFyZ2V0JywgeyB2YWx1ZTogc2hpbSB9KTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHNoaW0sIFtldmVudF0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUub25BdHRyaWJ1dGVVcGRhdGUgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6b25BdHRyaWJ1dGVVcGRhdGUgLSBuYW1lOiBcIiArIG5hbWUgKyBcIiwgdmFsdWU6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgIGlmIChuYW1lID09IFwiYnVmZmVyZWRcIiB8fCBuYW1lID09IFwic2Vla2FibGVcIikge1xuICAgICAgICAgICAgdmFsdWUgPSBlbGVtZW50U2hpbUNvbW1vbl8xLmNyZWF0ZVRpbWVSYW5nZXModmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXNbbmFtZV0gPSB2YWx1ZTtcbiAgICB9O1xuICAgIFNvdXJjZUJ1ZmZlclJlZGlyZWN0LnByb3RvdHlwZS5vbkNvbm5lY3Rpb25FdmVudCA9IGZ1bmN0aW9uIChldmVudFR5cGUpIHsgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyUmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OnNldEF0dHJpYnV0ZVtCRUdJTl0gLSBuYW1lOiBcIiArIG5hbWUgKyBcIiwgdmFsdWU6IFwiICsgdmFsdWUpO1xuICAgICAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIGlmIChuYW1lID09IFwidXBkYXRpbmdcIikge1xuICAgICAgICAgICAgLy8gaWdub3JlIHNldHRpbmcgXCJ1cGRhdGluZ1wiIGF0dHJpYnV0ZSBvbiByZW1vdGVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbG9jYWxPYmplY3RJZCA9IHRoaXMubG9jYWxPYmplY3RJZDtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdzZXRBdHRyaWJ1dGUnLCB7ICduYW1lJzogbmFtZSwgJ3ZhbHVlJzogdmFsdWUgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJSZWRpcmVjdFtcIiArIGxvY2FsT2JqZWN0SWQgKyBcIl06OnNldEF0dHJpYnV0ZVtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyUmVkaXJlY3QucHJvdG90eXBlLnNldE1lZGlhU291cmNlT3duZXIgPSBmdW5jdGlvbiAobWVkaWFTb3VyY2VMb2NhbE9iamVjdElkKSB7XG4gICAgICAgIHZhciBsb2NhbE9iamVjdElkID0gdGhpcy5sb2NhbE9iamVjdElkO1xuICAgICAgICB2YXIgbWVkaWFTb3VyY2VSZW1vdGVPYmplY3RJZCA9IHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5sb2NhbFRvUmVtb3RlSWRNYXAuZ2V0KG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCk7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyUmVkaXJlY3RbXCIgKyBsb2NhbE9iamVjdElkICsgXCJdOnNldE1lZGlhU291cmNlT3duZXJbQkVHSU5dIC0gdGhpcy5tZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkPVwiICsgdGhpcy5tZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkICsgXCIsIG5ldyBtZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkPVwiICsgbWVkaWFTb3VyY2VSZW1vdGVPYmplY3RJZCk7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKG1lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKHRoaXMubWVkaWFTb3VyY2VSZW1vdGVPYmplY3RJZCAhPSBtZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKGxvY2FsT2JqZWN0SWQsICdzZXRNZWRpYVNvdXJjZU93bmVyJywgeyAnbWVkaWFTb3VyY2VMb2NhbE9iamVjdElkJzogbWVkaWFTb3VyY2VSZW1vdGVPYmplY3RJZCwgJ21lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQnOiBtZWRpYVNvdXJjZUxvY2FsT2JqZWN0SWQgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyUmVkaXJlY3RbXCIgKyBsb2NhbE9iamVjdElkICsgXCJdOjpzZXRNZWRpYVNvdXJjZU93bmVyW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWVkaWFTb3VyY2VSZW1vdGVPYmplY3RJZCA9IG1lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQ7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsb2NhbE9iamVjdElkID0gdGhpcy5sb2NhbE9iamVjdElkO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgbG9jYWxPYmplY3RJZCArIFwiXTo6YWJvcnRcIik7XG4gICAgICAgIHRoaXMudXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZChsb2NhbE9iamVjdElkLCAnYWJvcnQnLCB7fSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJTb3VyY2VCdWZmZXJSZWRpcmVjdFtcIiArIGxvY2FsT2JqZWN0SWQgKyBcIl06OmFib3J0W0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUuYXBwZW5kQnVmZmVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGxvY2FsT2JqZWN0SWQgPSB0aGlzLmxvY2FsT2JqZWN0SWQ7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyUmVkaXJlY3RbXCIgKyBsb2NhbE9iamVjdElkICsgXCJdOjphcHBlbmRCdWZmZXJbQkVHSU5dOlwiKTtcbiAgICAgICAgdGhpcy51cGRhdGluZyA9IHRydWU7XG4gICAgICAgIGZ1bmN0aW9uIF9hcnJheUJ1ZmZlclRvQmFzZTY0KGJ1ZmZlcikge1xuICAgICAgICAgICAgdmFyIGJpbmFyeSA9ICcnO1xuICAgICAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgICAgIHZhciBsZW4gPSBieXRlcy5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYnRvYShiaW5hcnkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QobG9jYWxPYmplY3RJZCwgJ2FwcGVuZEJ1ZmZlcicsIHsgJ2RhdGFCNjRTaXplJzogZGF0YS5ieXRlTGVuZ3RoLCAnZGF0YUI2NCc6IF9hcnJheUJ1ZmZlclRvQmFzZTY0KGRhdGEpIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyUmVkaXJlY3RbXCIgKyBsb2NhbE9iamVjdElkICsgXCJdOjphcHBlbmRCdWZmZXJbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyUmVkaXJlY3QucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7XG4gICAgICAgIHZhciBsb2NhbE9iamVjdElkID0gdGhpcy5sb2NhbE9iamVjdElkO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgbG9jYWxPYmplY3RJZCArIFwiXTo6cmVtb3ZlIC0gc3RhcnQ6IFwiICsgc3RhcnQgKyBcIiwgZW5kOiBcIiArIGVuZCk7XG4gICAgICAgIHRoaXMudXBkYXRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKGxvY2FsT2JqZWN0SWQsICdyZW1vdmUnLCB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU291cmNlQnVmZmVyUmVkaXJlY3RbXCIgKyBsb2NhbE9iamVjdElkICsgXCJdOjpyZW1vdmVbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgU291cmNlQnVmZmVyUmVkaXJlY3QucHJvdG90eXBlLmNoYW5nZVR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpjaGFuZ2VUeXBlIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgY29uc29sZS53YXJuKFwiU291cmNlQnVmZmVyUmVkaXJlY3Q6OmNoYW5nZVR5cGU6IFVuaW1wbGVtZW50ZWQgTVNSREMgc2hpbSBtZXRob2RcIik7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjphZGRFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5sb2NhbE9iamVjdElkLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpyZW1vdmVFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5sb2NhbE9iamVjdElkLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBTb3VyY2VCdWZmZXJSZWRpcmVjdC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNvdXJjZUJ1ZmZlclJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpkaXNwYXRjaEV2ZW50IC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5kaXNwYXRjaEV2ZW50KHRoaXMubG9jYWxPYmplY3RJZCwgZXZlbnQpO1xuICAgIH07XG4gICAgLy8gdGhlIGF0dHJpYnV0ZXMgc3VwcG9ydGVkIGJ5IFJlZGlyZWN0XG4gICAgU291cmNlQnVmZmVyUmVkaXJlY3Quc291cmNlQnVmZmVyUmVkaXJlY3RBdHRyaWJ1dGVzID0gWydhcHBlbmRXaW5kb3dFbmQnLCAnYXBwZW5kV2luZG93U3RhcnQnLCAnYnVmZmVyZWQnLCAndGltZXN0YW1wT2Zmc2V0JywgJ3VwZGF0aW5nJ107XG4gICAgcmV0dXJuIFNvdXJjZUJ1ZmZlclJlZGlyZWN0O1xufSgpKTtcbmV4cG9ydHMuU291cmNlQnVmZmVyUmVkaXJlY3QgPSBTb3VyY2VCdWZmZXJSZWRpcmVjdDtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5OYXRpdmVNZXNzYWdpbmdQYWdlUHJveHkgPSB2b2lkIDA7XG52YXIgbmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25fMSA9IHJlcXVpcmUoXCIuL25hdGl2ZU1lc3NhZ2luZ1Byb3h5Q29tbW9uXCIpO1xudmFyIGVsZW1lbnRTaGltQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9lbGVtZW50U2hpbUNvbW1vblwiKTtcbnZhciBsb2dnaW5nQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nQ29tbW9uXCIpO1xudmFyIE5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOYXRpdmVNZXNzYWdpbmdQYWdlUHJveHkoY29udGVudFBvcnRJZCkge1xuICAgICAgICB0aGlzLmNvbnRlbnRQb3J0SWQgPSBjb250ZW50UG9ydElkO1xuICAgICAgICB0aGlzLmNsaWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubW1yRW5nYWdlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgcGFnZVByb3h5ID0gdGhpcztcbiAgICAgICAgdGhpcy5uYXRpdmVQb3J0SWQgPSBjb250ZW50UG9ydElkO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKG5hdGl2ZU1lc3NhZ2luZ1Byb3h5Q29tbW9uXzEuUHJveHlDb21tb24uUFJPWFlfUkVDRUlWRV9NRVNTQUdFX0VWRU5ULCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcGFnZVByb3h5Lm9uUmVjZWl2ZWRNZXNzYWdlKHBhZ2VQcm94eS5jbGllbnQsIGUuZGV0YWlsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5Ojpjb25zdHJ1Y3RvclwiKTtcbiAgICB9XG4gICAgTmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5LnByb3RvdHlwZS5zZXRDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH07XG4gICAgTmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5LnByb3RvdHlwZS5zZW5kTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5OiBTZW5kaW5nIG1lc3NhZ2U6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KG1lc3NhZ2UpKTtcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25fMS5Qcm94eUNvbW1vbi5QUk9YWV9TRU5EX01FU1NBR0VfRVZFTlQsIHsgZGV0YWlsOiBtZXNzYWdlIH0pKTtcbiAgICB9O1xuICAgIE5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eS5wcm90b3R5cGUub25SZWNlaXZlZE1lc3NhZ2UgPSBmdW5jdGlvbiAoY2xpZW50LCBtZXNzYWdlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5OiBSZWNlaXZlZCByZW1vdGUgbWVzc2FnZTogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChjbGllbnQgIT0gbnVsbCk7XG4gICAgICAgIGNsaWVudC5vblJlY2VpdmVkTWVzc2FnZShtZXNzYWdlKTtcbiAgICB9O1xuICAgIE5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eS5wcm90b3R5cGUuc2VuZE1NUkVuZ2FnZWRNZXNzYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMubW1yRW5nYWdlZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25fMS5Qcm94eUNvbW1vbi5QUk9YWV9TRU5EX01NUl9FTkdBR0VELCB7fSkpO1xuICAgICAgICAgICAgdGhpcy5tbXJFbmdhZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5LnByb3RvdHlwZS5zZW5kU2FtZU9yaWdpblBhcmVudElkID0gZnVuY3Rpb24gKHBhcmVudE5hdGl2ZVBvcnRJZCkge1xuICAgICAgICBpZiAocGFyZW50TmF0aXZlUG9ydElkICE9IHRoaXMubmF0aXZlUG9ydElkKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eTogc2VuZCBtZXNzYWdlIGZvciBTYW1lIE9yaWdpbiBQYXJlbnQsIHBhcmVudE5hdGl2ZVBvcnRJZD1cIiArIHBhcmVudE5hdGl2ZVBvcnRJZCk7XG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVBvcnRJZCA9IHBhcmVudE5hdGl2ZVBvcnRJZDtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0geyBwYXJlbnROYXRpdmVQb3J0SWQ6IHBhcmVudE5hdGl2ZVBvcnRJZCB9O1xuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25fMS5Qcm94eUNvbW1vbi5QUk9YWV9TRU5EX1NBTUVfT1JJR0lOX1BBUkVOVF9JRCwgeyBkZXRhaWw6IG1lc3NhZ2UgfSkpO1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG4gICAgICAgICAgICBtZXNzYWdlT2JqZWN0WydtZXNzYWdlVHlwZSddID0gbmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25fMS5Qcm94eUNvbW1vbi5DT05URU5UX0JHX1NBTUVfT1JJR0lOX1BBUkVOVF9NRVNTQUdFX1RZUEU7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVCh0aGlzLmNsaWVudCAhPSBudWxsKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNsaWVudCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGllbnQub25SZWNlaXZlZE1lc3NhZ2UobWVzc2FnZU9iamVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBOYXRpdmVNZXNzYWdpbmdQYWdlUHJveHk7XG59KCkpO1xuZXhwb3J0cy5OYXRpdmVNZXNzYWdpbmdQYWdlUHJveHkgPSBOYXRpdmVNZXNzYWdpbmdQYWdlUHJveHk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX3NwcmVhZEFycmF5cyA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheXMpIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgICAgcltrXSA9IGFbal07XG4gICAgcmV0dXJuIHI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZW1vdGVPYmplY3RNYW5hZ2VyID0gZXhwb3J0cy5SZW1vdGVNZXNzYWdlVHlwZXMgPSB2b2lkIDA7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBlbGVtZW50U2hpbUNvbW1vbl8xID0gcmVxdWlyZShcIi4vZWxlbWVudFNoaW1Db21tb25cIik7XG52YXIgbmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25fMSA9IHJlcXVpcmUoXCIuL25hdGl2ZU1lc3NhZ2luZ1Byb3h5Q29tbW9uXCIpO1xudmFyIFJlbW90ZU1lc3NhZ2VUeXBlcztcbihmdW5jdGlvbiAoUmVtb3RlTWVzc2FnZVR5cGVzKSB7XG4gICAgUmVtb3RlTWVzc2FnZVR5cGVzW1wiQ1JFQVRFX09CSkVDVFwiXSA9IFwiY3JlYXRlT2JqZWN0XCI7XG4gICAgUmVtb3RlTWVzc2FnZVR5cGVzW1wiQ1JFQVRFX09CSkVDVF9SRVNQT05TRVwiXSA9IFwiY3JlYXRlT2JqZWN0XCI7XG4gICAgUmVtb3RlTWVzc2FnZVR5cGVzW1wiSU5WT0tFX01FVEhPRFwiXSA9IFwiaW52b2tlTWV0aG9kXCI7XG4gICAgUmVtb3RlTWVzc2FnZVR5cGVzW1wiSU5WT0tFX01FVEhPRF9SRVNQT05TRVwiXSA9IFwiaW52b2tlTWV0aG9kUmVzcG9uc2VcIjtcbiAgICBSZW1vdGVNZXNzYWdlVHlwZXNbXCJPTl9FVkVOVFwiXSA9IFwib25FdmVudFwiO1xuICAgIFJlbW90ZU1lc3NhZ2VUeXBlc1tcIk9OX0FUVFJJQlVURV9VUERBVEVcIl0gPSBcIm9uQXR0cmlidXRlVXBkYXRlXCI7XG4gICAgUmVtb3RlTWVzc2FnZVR5cGVzW1wiT05fQ09OTkVDVElPTl9FVkVOVFwiXSA9IFwib25Db25uZWN0aW9uRXZlbnRcIjtcbn0pKFJlbW90ZU1lc3NhZ2VUeXBlcyA9IGV4cG9ydHMuUmVtb3RlTWVzc2FnZVR5cGVzIHx8IChleHBvcnRzLlJlbW90ZU1lc3NhZ2VUeXBlcyA9IHt9KSk7XG47XG52YXIgUGVuZGluZ0ludm9rZU1ldGhvZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQZW5kaW5nSW52b2tlTWV0aG9kKGNhbGxiYWNrLCBtZXNzYWdlT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy5tZXNzYWdlT2JqZWN0ID0gbWVzc2FnZU9iamVjdDtcbiAgICB9XG4gICAgcmV0dXJuIFBlbmRpbmdJbnZva2VNZXRob2Q7XG59KCkpO1xuLy8gV2UnbGwgdXNlIHRoaXMgZXJyb3Igd2hlbiB3ZSBmYWlsIGEgY2FsbCBkdWUgdG8gYmVpbmcgZGlzY29ubmVjdGVkXG4vLyBUaGlzIG1hcHMgdG8gQWJvcnRFcnJvclxudmFyIGRpc2Nvbm5lY3RlZF9lcnJvciA9IC05O1xudmFyIFJlbW90ZU9iamVjdE1hbmFnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVtb3RlT2JqZWN0TWFuYWdlcihwcm94eSwgd2ViclJ0Y1N1cHBvcnRWZXJzaW9uKSB7XG4gICAgICAgIHRoaXMucHJveHkgPSBwcm94eTtcbiAgICAgICAgdGhpcy5uZXh0TG9jYWxPYmplY3RJZCA9IDA7XG4gICAgICAgIHRoaXMubmV4dE1ldGhvZENhbGxJZCA9IDA7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLndlYlJ0Y1N1cHBvcnRWZXJzaW9uID0gMDtcbiAgICAgICAgdGhpcy5wcm94eSA9IHByb3h5O1xuICAgICAgICB0aGlzLnByb3h5LnNldENsaWVudCh0aGlzKTtcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5sb2NhbFRvUmVtb3RlSWRNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucmVtb3RlVG9Mb2NhbE9iamVjdE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5xdWV1ZWRNZXRob2RDYWxscyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWV0aG9kQ2FsbHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuZXZlbnRMaXN0ZW5lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMud2ViUnRjU3VwcG9ydFZlcnNpb24gPSB3ZWJyUnRjU3VwcG9ydFZlcnNpb247XG4gICAgICAgIHRoaXMubWVzc2FnZUhpc3RvcnlRdWV1ZSA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLnJlc2VuZE1lc3NhZ2VRdWV1ZSA9IG5ldyBBcnJheSgpO1xuICAgICAgICAvLyBTZXQgYSAyIHNlYyB0aW1lb3V0IHRvIHN0b3JlIG1lc3NhZ2VzIHRoYXQgaGF2ZSBiZWVuIHNlbnRcbiAgICAgICAgLy8gYmVjYXVzZSBjb250ZW50IHBhZ2Ugc2hvdWxkIGtub3cgd2l0aGluIDEgc2Vjb25kKHJvb3RXaW5kb3dJbmZvVHJhY2tlciBjYWRlbmNlKVxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSZW1vdGVPYmplY3RNYW5hZ2VyOjogaGlzdG9yeU1lc3NhZ2VzIDIgc2VjIHRpbWVvdXQsXCIgKyBcIiBjb250ZW50UG9ydElEOiBcIiArIHNlbGYucHJveHkuY29udGVudFBvcnRJZCk7XG4gICAgICAgICAgICBkZWxldGUgc2VsZi5tZXNzYWdlSGlzdG9yeVF1ZXVlO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICB9XG4gICAgUmVtb3RlT2JqZWN0TWFuYWdlci5wcm90b3R5cGUuY2hlY2tGb3JSZXNlbmRNZXNzYWdlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlbWFpbmRlclF1ZXVlID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHZhciBzdG9wU2VuZGluZ0ludm9rZSA9IGZhbHNlO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVzZW5kTWVzc2FnZVF1ZXVlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4LCBhcnJheSkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VUeXBlID0gaXRlbVsnbWVzc2FnZVR5cGUnXTtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKG1lc3NhZ2VUeXBlICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgbG9jYWxPYmplY3RJZCA9IGl0ZW1bJ3JlbW90ZU9iamVjdElkJ107XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChsb2NhbE9iamVjdElkICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBpZiAobWVzc2FnZVR5cGUgPT0gUmVtb3RlTWVzc2FnZVR5cGVzLkNSRUFURV9PQkpFQ1QpIHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGVfb2JqZWN0cyBhcmUgaW5kZXBlbmRlbnQsIGV4Y2VwdCBzb3VyY2VCdWZmZXJcbiAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIGl0IG1heSBjb250YWluIG9sZCByZW1vdGVPYmplY3RJZCBvZiBtZWRpYVNvdXJjZSByZXR1cm5lZCBmcm9tIHByZXZpb3VzIGhvc3RcbiAgICAgICAgICAgICAgICAvLyBJdCBpcyBPSyB0byBjcmVhdGUgYSBzb3VyY2VCdWZmZXIgd2l0aG91dCBtZWRpYVNvdXJjZSByZW1vdGVJRFxuICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgYWZ0ZXIgbWVkaWFTb3VyY2UgY3JlYXRlIG9iamVjdCByZXNwb25zZSwgc2V0TWVkaWFTb3VyY2VPd25lciB3aWxsIGJlIGludm9rZWQgZnJvbSBNZWRpYVNvdXJjZSBvblJlbW90ZU9iamVjdENyZWF0ZWQoKVxuICAgICAgICAgICAgICAgIGlmIChpdGVtWydvYmplY3RUeXBlJ10gPT0gJ1NvdXJjZUJ1ZmZlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGl0ZW1bJ2FyZ3MnXVsnbWVkaWFTb3VyY2VMb2NhbE9iamVjdElkJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYucHJveHkuc2VuZE1lc3NhZ2UoaXRlbSk7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjo6Y2hlY2tGb3JSZXNlbmRNZXNzYWdlcyByZXNlbmQ6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KGl0ZW0pKTtcbiAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIHJlbW92ZSB0aGUgcmVtb3RlIElEIHJldHVybmVkIGZyb20gcHJldmlvdXMgaG9zdCAgXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubG9jYWxUb1JlbW90ZUlkTWFwLmhhcyhsb2NhbE9iamVjdElkKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNSZW1vdGVPYmplY3RJZCA9IHNlbGYubG9jYWxUb1JlbW90ZUlkTWFwLmdldChsb2NhbE9iamVjdElkKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2NhbFRvUmVtb3RlSWRNYXAuZGVsZXRlKGxvY2FsT2JqZWN0SWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5yZW1vdGVUb0xvY2FsT2JqZWN0TWFwLmhhcyhwcmV2aW91c1JlbW90ZU9iamVjdElkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5yZW1vdGVUb0xvY2FsT2JqZWN0TWFwLmRlbGV0ZShwcmV2aW91c1JlbW90ZU9iamVjdElkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChtZXNzYWdlVHlwZSA9PSBSZW1vdGVNZXNzYWdlVHlwZXMuSU5WT0tFX01FVEhPRCkgJiYgIXN0b3BTZW5kaW5nSW52b2tlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzZWxmLmxvY2FsVG9SZW1vdGVJZE1hcC5oYXMobG9jYWxPYmplY3RJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmVlZCB0byBxdWV1ZSBtZXRob2QgY2FsbCBmb3Igd2hlbiB3ZSByZWNlaXZlIHJlbW90ZSBvYmplY3QgSURcbiAgICAgICAgICAgICAgICAgICAgc3RvcFNlbmRpbmdJbnZva2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZW1haW5kZXJRdWV1ZS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1zUmRjTW1yOjpSZW1vdGVPYmplY3RNYW5hZ2VyOjpjaGVja0ZvclJlc2VuZE1lc3NhZ2VzIHNhdmU6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KGl0ZW0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlc2VuZCB0aGUgb2xkIGludm9rZSBtZXRob2QgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgZG8gbm90IG5lZWQgdG8gd2FpdCBmb3IgcmVzcG9uc2VcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWV0aG9kTmFtZSA9IGl0ZW1bJ21ldGhvZE5hbWUnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGhvZE5hbWUgPT0gJ3NldE1lZGlhU291cmNlT3duZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IGl0ZW1bJ2FyZ3MnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWydtZWRpYVNvdXJjZUxvY2FsT2JqZWN0SWQnXSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmdzWydtZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkJ10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCA9IGFyZ3NbJ21lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5sb2NhbFRvUmVtb3RlSWRNYXAuaGFzKG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1snbWVkaWFTb3VyY2VMb2NhbE9iamVjdElkJ10gPSBzZWxmLmxvY2FsVG9SZW1vdGVJZE1hcC5nZXQobWVkaWFTb3VyY2VMb2NhbE9iamVjdElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbVsnYXJncyddID0gYXJncztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIHdhaXRpbmcgZm9yIHRoZSBtZWRpYVNvdXJjZSBjcmVhdGlvbiB0byBmaW5pc2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9wU2VuZGluZ0ludm9rZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbWFpbmRlclF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OmNoZWNrRm9yUmVzZW5kTWVzc2FnZXMgc2F2ZTogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkoaXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdCB2YWxpZCAnc2V0TWVkaWFTb3VyY2VPd25lcicgbWV0aG9kLCBkcm9wIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OmNoZWNrRm9yUmVzZW5kTWVzc2FnZXMgZHJvcDogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkoaXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1zUmRjTW1yOjpSZW1vdGVPYmplY3RNYW5hZ2VyOjpjaGVja0ZvclJlc2VuZE1lc3NhZ2VzIHJlc2VuZDogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkoaXRlbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wcm94eS5zZW5kTWVzc2FnZShpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgeyAvLyBzdG9wU2VuZGluZ0ludm9rZSA9PSB0cnVlIFxuICAgICAgICAgICAgICAgIHJlbWFpbmRlclF1ZXVlLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjo6Y2hlY2tGb3JSZXNlbmRNZXNzYWdlcyBzYXZlOiBcIiArIGVsZW1lbnRTaGltQ29tbW9uXzEudHJ5SnNvblN0cmluZ2lmeShpdGVtKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlc2VuZE1lc3NhZ2VRdWV1ZSA9IF9fc3ByZWFkQXJyYXlzKHJlbWFpbmRlclF1ZXVlKTtcbiAgICAgICAgaWYgKHRoaXMucmVzZW5kTWVzc2FnZVF1ZXVlLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1zUmRjTW1yOjpSZW1vdGVPYmplY3RNYW5hZ2VyOjpjaGVja0ZvclJlc2VuZE1lc3NhZ2VzIG1lc3NhZ2VzIGxlZnQ6IFwiICsgdGhpcy5yZXNlbmRNZXNzYWdlUXVldWUubGVuZ3RoICsgXCIgY29udGVudFBvcnRJRDogXCIgKyB0aGlzLnByb3h5LmNvbnRlbnRQb3J0SWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW1vdGVPYmplY3RNYW5hZ2VyLnByb3RvdHlwZS5vbkNvbm5lY3Rpb25FdmVudCA9IGZ1bmN0aW9uIChldmVudFR5cGUpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSZW1vdGVPYmplY3RNYW5hZ2VyOjpvbkNvbm5lY3Rpb25FdmVudCAtIGV2ZW50VHlwZTogXCIgKyBldmVudFR5cGUpO1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09IFwiY2xpZW50Q29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGV2ZW50VHlwZSA9PSBcImNsaWVudERpc2Nvbm5lY3RlZFwiKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbW90ZU9iamVjdE1hbmFnZXIucHJvdG90eXBlLmNyZWF0ZU9iamVjdCA9IGZ1bmN0aW9uIChsb2NhbE9iamVjdCwgb2JqZWN0VHlwZSwgYXJncykge1xuICAgICAgICB2YXIgbWVzc2FnZU9iamVjdCA9IG5ldyBPYmplY3QoKTtcbiAgICAgICAgbWVzc2FnZU9iamVjdFsnbWVzc2FnZVR5cGUnXSA9IFJlbW90ZU1lc3NhZ2VUeXBlcy5DUkVBVEVfT0JKRUNUO1xuICAgICAgICBtZXNzYWdlT2JqZWN0WydvYmplY3RUeXBlJ10gPSBvYmplY3RUeXBlO1xuICAgICAgICBtZXNzYWdlT2JqZWN0WydyZW1vdGVPYmplY3RJZCddID0gdGhpcy5uZXh0TG9jYWxPYmplY3RJZDtcbiAgICAgICAgbWVzc2FnZU9iamVjdFsnY29udGVudFBvcnRJZCddID0gdGhpcy5wcm94eS5jb250ZW50UG9ydElkO1xuICAgICAgICBhcmdzWyd3ZWJydGNTdXBwb3J0VmVyc2lvbiddID0gdGhpcy53ZWJSdGNTdXBwb3J0VmVyc2lvbjtcbiAgICAgICAgbWVzc2FnZU9iamVjdFsnYXJncyddID0gYXJncztcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdE1hcC5zZXQodGhpcy5uZXh0TG9jYWxPYmplY3RJZCwgbG9jYWxPYmplY3QpO1xuICAgICAgICBsb2NhbE9iamVjdC5zZXRMb2NhbE9iamVjdElkKHRoaXMubmV4dExvY2FsT2JqZWN0SWQpO1xuICAgICAgICB0aGlzLm5leHRMb2NhbE9iamVjdElkID0gdGhpcy5uZXh0TG9jYWxPYmplY3RJZCArIDE7XG4gICAgICAgIHRoaXMucHJveHkuc2VuZE1lc3NhZ2UobWVzc2FnZU9iamVjdCk7XG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2VIaXN0b3J5UXVldWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VIaXN0b3J5UXVldWUucHVzaChtZXNzYWdlT2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVtb3RlT2JqZWN0TWFuYWdlci5wcm90b3R5cGUuaW52b2tlTWV0aG9kID0gZnVuY3Rpb24gKGxvY2FsT2JqZWN0SWQsIG1ldGhvZE5hbWUsIGFyZ3MsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5pc0Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9XQVJOKFwiUmVtb3RlT2JqZWN0TWFuYWdlcjo6aW52b2tlTWV0aG9kIC0gZHJvcHBpbmcgbWV0aG9kIGNhbGwgd2hpbGUgZGlzY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgY2FsbGJhY2soZGlzY29ubmVjdGVkX2Vycm9yLCB7fSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lc3NhZ2VPYmplY3QgPSBuZXcgT2JqZWN0KCk7XG4gICAgICAgIG1lc3NhZ2VPYmplY3RbJ21lc3NhZ2VUeXBlJ10gPSBSZW1vdGVNZXNzYWdlVHlwZXMuSU5WT0tFX01FVEhPRDtcbiAgICAgICAgbWVzc2FnZU9iamVjdFsnbWV0aG9kTmFtZSddID0gbWV0aG9kTmFtZTtcbiAgICAgICAgbWVzc2FnZU9iamVjdFsncmVtb3RlT2JqZWN0SWQnXSA9IGxvY2FsT2JqZWN0SWQ7XG4gICAgICAgIG1lc3NhZ2VPYmplY3RbJ21ldGhvZENhbGxJZCddID0gdGhpcy5uZXh0TWV0aG9kQ2FsbElkO1xuICAgICAgICBtZXNzYWdlT2JqZWN0WydhcmdzJ10gPSBhcmdzO1xuICAgICAgICB0aGlzLm5leHRNZXRob2RDYWxsSWQgPSB0aGlzLm5leHRNZXRob2RDYWxsSWQgKyAxO1xuICAgICAgICB0aGlzLmNoZWNrRm9yUmVzZW5kTWVzc2FnZXMoKTtcbiAgICAgICAgaWYgKCh0aGlzLnJlc2VuZE1lc3NhZ2VRdWV1ZS5sZW5ndGggIT0gMCkgfHwgKCF0aGlzLmxvY2FsVG9SZW1vdGVJZE1hcC5oYXMobG9jYWxPYmplY3RJZCkpKSB7XG4gICAgICAgICAgICAvLyBOZWVkIHRvIHF1ZXVlIG1ldGhvZCBjYWxsIGZvciB3aGVuIHdlIHJlY2VpdmUgcmVtb3RlIG9iamVjdCBJRFxuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjogUXVldWVpbmcgbWV0aG9kIGNhbGwgb24gbG9jYWwgb2JqZWN0OiBcIiArIGxvY2FsT2JqZWN0SWQgKyBcIiBjb250ZW50UG9ydElEOiBcIiArIHRoaXMucHJveHkuY29udGVudFBvcnRJZCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucXVldWVkTWV0aG9kQ2FsbHMuaGFzKGxvY2FsT2JqZWN0SWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZWRNZXRob2RDYWxscy5zZXQobG9jYWxPYmplY3RJZCwgbmV3IEFycmF5KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5xdWV1ZWRNZXRob2RDYWxscy5nZXQobG9jYWxPYmplY3RJZCkucHVzaChuZXcgUGVuZGluZ0ludm9rZU1ldGhvZChjYWxsYmFjaywgbWVzc2FnZU9iamVjdCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbnZva2VNZXRob2RJbnRlcm5hbChjYWxsYmFjaywgbWVzc2FnZU9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbW90ZU9iamVjdE1hbmFnZXIucHJvdG90eXBlLmludm9rZU1ldGhvZEludGVybmFsID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBtZXNzYWdlT2JqZWN0KSB7XG4gICAgICAgIC8vIER1ZSB0byBDT05URU5UX0JHX1NBTUVfT1JJR0lOX1BBUkVOVF9NRVNTQUdFX1RZUEUsIFxuICAgICAgICAvLyBcInNldE1lZGlhU291cmNlT3duZXJcIiBjYW4gYmUgaW4gcXVldWUgd2l0aCBhbiBpbnZhbGlkIG1lZGlhU291cmNlIElkIGZyb20gb2xkIGhvc3RcbiAgICAgICAgLy8gTmVlZCB0byBmaXggaXQgYmVmb3JlIHNlbmRpbmcgaXQgdG8gdGhlIG5ldyBob3N0XG4gICAgICAgIGlmIChtZXNzYWdlT2JqZWN0WydtZXRob2ROYW1lJ10gPT0gJ3NldE1lZGlhU291cmNlT3duZXInKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IG1lc3NhZ2VPYmplY3RbJ2FyZ3MnXTtcbiAgICAgICAgICAgIGlmIChhcmdzWydtZWRpYVNvdXJjZUxvY2FsT2JqZWN0SWQnXSAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICBhcmdzWydtZWRpYVNvdXJjZVJlbW90ZU9iamVjdElkJ10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCA9IGFyZ3NbJ21lZGlhU291cmNlUmVtb3RlT2JqZWN0SWQnXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2NhbFRvUmVtb3RlSWRNYXAuaGFzKG1lZGlhU291cmNlTG9jYWxPYmplY3RJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1snbWVkaWFTb3VyY2VMb2NhbE9iamVjdElkJ10gPSB0aGlzLmxvY2FsVG9SZW1vdGVJZE1hcC5nZXQobWVkaWFTb3VyY2VMb2NhbE9iamVjdElkKTtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZU9iamVjdFsnYXJncyddID0gYXJncztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfV0FSTihcIk1zUmRjTW1yOjpSZW1vdGVPYmplY3RNYW5hZ2VyOiBJbnZva2luZyBtZXRob2QgaWQ6IFwiICsgbWVzc2FnZU9iamVjdFsnbWV0aG9kQ2FsbElkJ10gKyBcIiBjb250ZW50UG9ydElEOiBcIiArIHRoaXMucHJveHkuY29udGVudFBvcnRJZCArIFwiIHNldE1lZGlhU291cmNlT3duZXIgZmFpbHMgYmVjYXVzZSBtZWRpYVNvdXJjZSB3YXMgbm90IGNyZWF0ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9XQVJOKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6IEludm9raW5nIG1ldGhvZCBpZDogXCIgKyBtZXNzYWdlT2JqZWN0WydtZXRob2RDYWxsSWQnXSArIFwiIGNvbnRlbnRQb3J0SUQ6IFwiICsgdGhpcy5wcm94eS5jb250ZW50UG9ydElkICsgXCIgaW52YWxpZCBzZXRNZWRpYVNvdXJjZU93bmVyIG1lc3NhZ2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1ldGhvZENhbGxJZCA9IG1lc3NhZ2VPYmplY3RbJ21ldGhvZENhbGxJZCddO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChtZXRob2RDYWxsSWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobWVzc2FnZU9iamVjdFsncmVtb3RlT2JqZWN0SWQnXSAhPSB1bmRlZmluZWQpO1xuICAgICAgICB2YXIgbG9jYWxPYmplY3RJZCA9IHRoaXMubG9jYWxUb1JlbW90ZUlkTWFwLmdldChtZXNzYWdlT2JqZWN0WydyZW1vdGVPYmplY3RJZCddKTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobG9jYWxPYmplY3RJZCAhPSB1bmRlZmluZWQpO1xuICAgICAgICBtZXNzYWdlT2JqZWN0Wydsb2NhbE9iamVjdElkJ10gPSBsb2NhbE9iamVjdElkO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1zUmRjTW1yOjpSZW1vdGVPYmplY3RNYW5hZ2VyOiBJbnZva2luZyBtZXRob2QgaWQ6IFwiICsgbWV0aG9kQ2FsbElkICsgXCIsIGxvY2FsT2JqZWN0SWQ6IFwiICsgbG9jYWxPYmplY3RJZCArIFwiIGNvbnRlbnRQb3J0SUQ6IFwiICsgdGhpcy5wcm94eS5jb250ZW50UG9ydElkKTtcbiAgICAgICAgdGhpcy5wcm94eS5zZW5kTWVzc2FnZShtZXNzYWdlT2JqZWN0KTtcbiAgICAgICAgdGhpcy5wZW5kaW5nTWV0aG9kQ2FsbHMuc2V0KG1ldGhvZENhbGxJZCwgbmV3IFBlbmRpbmdJbnZva2VNZXRob2QoY2FsbGJhY2ssIG1lc3NhZ2VPYmplY3QpKTtcbiAgICAgICAgaWYgKHRoaXMubWVzc2FnZUhpc3RvcnlRdWV1ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGZvciBpbnZva2VNZXRob2QgbWVzc2FnZXMsIHdlIHdpbGwgcmVzZW5kIHRoZW0gd2hlbiBcIlNhbWVPcmlnaW5QYXJlbnRcIiBoYXBwZW5zXG4gICAgICAgICAgICAvLyBidXQgd2UgZG8gbm90IG5lZWQgdG8gaW52b2tlIGNhbGxiYWNrIGZvciB0aGUgaW52b2tlTWV0aG9kIHJlc3BvbnNlXG4gICAgICAgICAgICAvLyBiZWNhdXNlIHRoZSBjYWxsIGJhY2sgYXJlIGRvbmUgd2hlbiB0aGV5IGFyZSBzZW50IGZvciB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlSGlzdG9yeVF1ZXVlLnB1c2gobWVzc2FnZU9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJlbW90ZU9iamVjdE1hbmFnZXIucHJvdG90eXBlLm9uUmVjZWl2ZWRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIG1lc3NhZ2VUeXBlID0gbWVzc2FnZVsnbWVzc2FnZVR5cGUnXTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobWVzc2FnZVR5cGUgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjogUmVjZWl2ZWQgbWVzc2FnZSB0eXBlOiBcIiArIG1lc3NhZ2VUeXBlKTtcbiAgICAgICAgaWYgKG1lc3NhZ2VUeXBlID09IFJlbW90ZU1lc3NhZ2VUeXBlcy5DUkVBVEVfT0JKRUNUX1JFU1BPTlNFKSB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlT2JqZWN0SWQgPSBtZXNzYWdlWydyZW1vdGVPYmplY3RJZCddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQocmVtb3RlT2JqZWN0SWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBsb2NhbE9iamVjdElkID0gbWVzc2FnZVsnbG9jYWxPYmplY3RJZCddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobG9jYWxPYmplY3RJZCAhPSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdmFyIGxvY2FsT2JqZWN0ID0gdGhpcy5sb2NhbE9iamVjdE1hcC5nZXQobG9jYWxPYmplY3RJZCk7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChsb2NhbE9iamVjdCAhPSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdGhpcy5sb2NhbFRvUmVtb3RlSWRNYXAuc2V0KGxvY2FsT2JqZWN0SWQsIHJlbW90ZU9iamVjdElkKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlVG9Mb2NhbE9iamVjdE1hcC5zZXQocmVtb3RlT2JqZWN0SWQsIGxvY2FsT2JqZWN0KTtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6IE9iamVjdCBjcmVhdGVkIChsb2NhbE9iamVjdElkOiBcIiArIGxvY2FsT2JqZWN0SWQgKyBcIiwgcmVtb3RlT2JqZWN0SWQ6IFwiICsgcmVtb3RlT2JqZWN0SWQgKyBcIilcIik7XG4gICAgICAgICAgICBsb2NhbE9iamVjdC5vblJlbW90ZU9iamVjdENyZWF0ZWQoKTtcbiAgICAgICAgICAgIHRoaXMucHJveHkuc2VuZE1NUkVuZ2FnZWRNZXNzYWdlKCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrRm9yUmVzZW5kTWVzc2FnZXMoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlc2VuZE1lc3NhZ2VRdWV1ZS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIEFmdGVyIHJlc2VuZGluZyBtZXNzYWdlcywgY2hlY2sgYWxsIHF1ZXVlZCBtZXRob2RzIGNhbGxzLFxuICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugc29tZSBtZXRob2RzIG1heWJlIGRlbGF5ZWQgYnkgcmVzZW5kTWVzc2FnZVF1ZXVlLCBldmVuIGZvciBvYmplY3RzIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWRcbiAgICAgICAgICAgICAgICB2YXIgc2VsZl8xID0gdGhpcztcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlZE1ldGhvZENhbGxzLmZvckVhY2goZnVuY3Rpb24gKHF1ZXVlZENhbGxzLCBsb2NhbE9iamVjdElkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmXzEubG9jYWxUb1JlbW90ZUlkTWFwLmhhcyhsb2NhbE9iamVjdElkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjogSW52b2tpbmcgcXVldWVkIG1ldGhvZCBjYWxscyAoY291bnQ6IFwiICsgcXVldWVkQ2FsbHMubGVuZ3RoICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWVkQ2FsbHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgsIGFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZl8xLmludm9rZU1ldGhvZEludGVybmFsKGl0ZW0uY2FsbGJhY2ssIGl0ZW0ubWVzc2FnZU9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGZfMS5xdWV1ZWRNZXRob2RDYWxscy5kZWxldGUobG9jYWxPYmplY3RJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtZXNzYWdlVHlwZSA9PSBSZW1vdGVNZXNzYWdlVHlwZXMuSU5WT0tFX01FVEhPRF9SRVNQT05TRSkge1xuICAgICAgICAgICAgdmFyIG1ldGhvZENhbGxJZCA9IG1lc3NhZ2VbJ21ldGhvZENhbGxJZCddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobWV0aG9kQ2FsbElkICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgcmVtb3RlT2JqZWN0SWQgPSBtZXNzYWdlWydyZW1vdGVPYmplY3RJZCddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQocmVtb3RlT2JqZWN0SWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBsb2NhbE9iamVjdCA9IHRoaXMucmVtb3RlVG9Mb2NhbE9iamVjdE1hcC5nZXQocmVtb3RlT2JqZWN0SWQpO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobG9jYWxPYmplY3QgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBtZXNzYWdlWydyZXN1bHQnXTtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKHJlc3VsdCAhPSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBtZXNzYWdlWydhcmdzJ107XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChhcmdzICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgcGVuZGluZ01ldGhvZENhbGwgPSB0aGlzLnBlbmRpbmdNZXRob2RDYWxscy5nZXQobWV0aG9kQ2FsbElkKTtcbiAgICAgICAgICAgIGlmIChwZW5kaW5nTWV0aG9kQ2FsbCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX1dBUk4oXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjogKGludm9rZU1ldGhvZFJlc3BvbnNlKSBtaXNzaW5nIHBlbmRpbmdNZXRob2RDYWxsIGZvciBtZXRob2RDYWxsSWQ9XCIgKyBtZXRob2RDYWxsSWQgKyBcIiByZW1vdGVPYmplY3RJZD1cIiArIHJlbW90ZU9iamVjdElkKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwZW5kaW5nTWV0aG9kQ2FsbC5jYWxsYmFjayhyZXN1bHQsIGFyZ3MpO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWV0aG9kQ2FsbHMuZGVsZXRlKG1ldGhvZENhbGxJZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZVR5cGUgPT0gUmVtb3RlTWVzc2FnZVR5cGVzLk9OX0VWRU5UKSB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlT2JqZWN0SWQgPSBtZXNzYWdlWydyZW1vdGVPYmplY3RJZCddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQocmVtb3RlT2JqZWN0SWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBsb2NhbE9iamVjdCA9IHRoaXMucmVtb3RlVG9Mb2NhbE9iamVjdE1hcC5nZXQocmVtb3RlT2JqZWN0SWQpO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobG9jYWxPYmplY3QgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSBtZXNzYWdlWyd0eXBlJ107XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChldmVudFR5cGUgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBldmVudEFyZ3MgPSBtZXNzYWdlWydhcmdzJ107XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChldmVudEFyZ3MgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBldmVudF8xID0gbmV3IEN1c3RvbUV2ZW50KGV2ZW50VHlwZSwgZXZlbnRBcmdzKTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChsb2NhbE9iamVjdC5nZXRMb2NhbE9iamVjdElkKCksIGV2ZW50XzEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1lc3NhZ2VUeXBlID09IFJlbW90ZU1lc3NhZ2VUeXBlcy5PTl9BVFRSSUJVVEVfVVBEQVRFKSB7XG4gICAgICAgICAgICB2YXIgcmVtb3RlT2JqZWN0SWQgPSBtZXNzYWdlWydyZW1vdGVPYmplY3RJZCddO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQocmVtb3RlT2JqZWN0SWQgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBsb2NhbE9iamVjdCA9IHRoaXMucmVtb3RlVG9Mb2NhbE9iamVjdE1hcC5nZXQocmVtb3RlT2JqZWN0SWQpO1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQobG9jYWxPYmplY3QgIT0gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IG1lc3NhZ2VbJ25hbWUnXTtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKGF0dHJOYW1lICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB2YXIgYXR0clZhbHVlID0gbWVzc2FnZVsndmFsdWUnXTtcbiAgICAgICAgICAgIC8vIG51bGwgZHVyYXRpb24gaXMgdmFsaWQgKGVxdWl2YWxlbnQgdG8gSW5maW5pdHkpXG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChhdHRyVmFsdWUgIT0gdW5kZWZpbmVkIHx8IGF0dHJOYW1lID09ICdkdXJhdGlvbicpO1xuICAgICAgICAgICAgbG9jYWxPYmplY3Qub25BdHRyaWJ1dGVVcGRhdGUoYXR0ck5hbWUsIGF0dHJWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZVR5cGUgPT0gUmVtb3RlTWVzc2FnZVR5cGVzLk9OX0NPTk5FQ1RJT05fRVZFTlQpIHtcbiAgICAgICAgICAgIHZhciBldmVudFR5cGVfMSA9IG1lc3NhZ2VbJ2V2ZW50J107XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0FTU0VSVChldmVudFR5cGVfMSAhPSB1bmRlZmluZWQpO1xuICAgICAgICAgICAgdGhpcy5vbkNvbm5lY3Rpb25FdmVudChldmVudFR5cGVfMSk7XG4gICAgICAgICAgICB2YXIgcmVtb3RlT2JqZWN0SWQgPSBtZXNzYWdlWydyZW1vdGVPYmplY3RJZCddO1xuICAgICAgICAgICAgaWYgKHJlbW90ZU9iamVjdElkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhciBsb2NhbE9iamVjdCA9IHRoaXMucmVtb3RlVG9Mb2NhbE9iamVjdE1hcC5nZXQocmVtb3RlT2JqZWN0SWQpO1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKGxvY2FsT2JqZWN0ICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgbG9jYWxPYmplY3Qub25Db25uZWN0aW9uRXZlbnQoZXZlbnRUeXBlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gSW5mb3JtIGFsbCBvYmplY3RzIG9mIGNvbm5lY3Rpb24gZXZlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2FsT2JqZWN0TWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXksIG1hcCkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5vbkNvbm5lY3Rpb25FdmVudChldmVudFR5cGVfMSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWVzc2FnZVR5cGUgPT0gbmF0aXZlTWVzc2FnaW5nUHJveHlDb21tb25fMS5Qcm94eUNvbW1vbi5DT05URU5UX0JHX1NBTUVfT1JJR0lOX1BBUkVOVF9NRVNTQUdFX1RZUEUpIHtcbiAgICAgICAgICAgIC8vIE1lc3NhZ2VzIHdpbGwgYmUgc2VudCB0byB0aGUgYSBkaWZmZXJlbnQgaG9zdCBcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6Om9uUmVjZWl2ZWRNZXNzYWdlIC0gQ09OVEVOVF9CR19TQU1FX09SSUdJTl9QQVJFTlRfTUVTU0FHRV9UWVBFLCByZXNlbmQgbWVzc2FnZXM6IFwiICsgdGhpcy5tZXNzYWdlSGlzdG9yeVF1ZXVlLmxlbmd0aCArIFwiIGNvbnRlbnRQb3J0SUQ6IFwiICsgdGhpcy5wcm94eS5jb250ZW50UG9ydElkKTtcbiAgICAgICAgICAgIHRoaXMucmVzZW5kTWVzc2FnZVF1ZXVlLnNwbGljZSgwKTtcbiAgICAgICAgICAgIHRoaXMucmVzZW5kTWVzc2FnZVF1ZXVlID0gX19zcHJlYWRBcnJheXModGhpcy5tZXNzYWdlSGlzdG9yeVF1ZXVlKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tGb3JSZXNlbmRNZXNzYWdlcygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW1vdGVPYmplY3RNYW5hZ2VyLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGxvY2FsT2JqZWN0SWQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zLCB1c2VDYXB0dXJlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OmFkZEV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUgKyBcIiwgbG9jYWxPYmplY3RJZDogXCIgKyBsb2NhbE9iamVjdElkKTtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50TGlzdGVuZXJzLmhhcyhsb2NhbE9iamVjdElkKSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQobG9jYWxPYmplY3RJZCwgbmV3IE1hcCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGxvY2FsT2JqZWN0SWQpLmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5nZXQobG9jYWxPYmplY3RJZCkuc2V0KHR5cGUsIG5ldyBBcnJheSgpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldChsb2NhbE9iamVjdElkKS5nZXQodHlwZSkucHVzaChsaXN0ZW5lcik7XG4gICAgfTtcbiAgICBSZW1vdGVPYmplY3RNYW5hZ2VyLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGxvY2FsT2JqZWN0SWQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OnJlbW92ZUV2ZW50TGlzdGVuZXJcIik7XG4gICAgICAgIGlmICghdGhpcy5ldmVudExpc3RlbmVycy5oYXMobG9jYWxPYmplY3RJZCkpIHtcbiAgICAgICAgICAgIC8vIEl0J3Mgb2theSB0byByZW1vdmUgbm9uLWV4aXN0aW5nIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX1dBUk4oXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIGxvY2FsT2JqZWN0SWQ6IFwiICsgbG9jYWxPYmplY3RJZCArIFwiIG5vdCByZWdpc3RlcmVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudE1hcEZvck9iamVjdCA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGxvY2FsT2JqZWN0SWQpO1xuICAgICAgICBpZiAoIWV2ZW50TWFwRm9yT2JqZWN0Lmhhcyh0eXBlKSkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9XQVJOKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OnJlbW92ZUV2ZW50TGlzdGVuZXIgLSBubyBldmVudCBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgbG9jYWxPYmplY3RJZDogXCIgKyBsb2NhbE9iamVjdElkICsgXCIsIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50TGlzdGVuZXJMaXN0ID0gZXZlbnRNYXBGb3JPYmplY3QuZ2V0KHR5cGUpO1xuICAgICAgICB2YXIgbGlzdGVuZXJJbmRleCA9IGV2ZW50TGlzdGVuZXJMaXN0LmluZGV4T2YobGlzdGVuZXIpO1xuICAgICAgICBpZiAobGlzdGVuZXJJbmRleCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OnJlbW92ZUV2ZW50TGlzdGVuZXIgLSByZW1vdmluZyBsaXN0ZW5lciBmb3IgbG9jYWxPYmplY3RJZDogXCIgKyBsb2NhbE9iamVjdElkICsgXCIsIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgICAgICBldmVudExpc3RlbmVyTGlzdC5zcGxpY2UobGlzdGVuZXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX1dBUk4oXCJNc1JkY01tcjo6UmVtb3RlT2JqZWN0TWFuYWdlcjo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIHNwZWNpZmllZCBsaXN0ZW5lciBub3QgZm91bmQgZm9yIGxvY2FsT2JqZWN0SWQ6IFwiICsgbG9jYWxPYmplY3RJZCArIFwiLCB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZW1vdGVPYmplY3RNYW5hZ2VyLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKHRhcmdldExvY2FsT2JqZWN0SWQsIGV2ZW50KSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OmRpc3BhdGNoRXZlbnQgLSB0YXJnZXRPYmplY3RJZDogXCIgKyB0YXJnZXRMb2NhbE9iamVjdElkICsgXCIsIGV2ZW50LnR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIGlmIChldmVudC50eXBlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgXCJVTlNQRUNJRklFRF9FVkVOVF9UWVBFX0VSUlwiO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBldmVudHMgb24gVmlkZW9FbGVtZW50LCBjYWxsZXIgbWF5IGhhdmUgY2FsbGVkIGFkZEV2ZW50TGlzdGVuZXIgYmVmb3JlIHdlIHNoaW1tZWRcbiAgICAgICAgdmFyIGxvY2FsT2JqZWN0ID0gdGhpcy5sb2NhbE9iamVjdE1hcC5nZXQodGFyZ2V0TG9jYWxPYmplY3RJZCk7XG4gICAgICAgIGxvY2FsT2JqZWN0Lmludm9rZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50TGlzdGVuZXJzLmhhcyh0YXJnZXRMb2NhbE9iamVjdElkKSkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9XQVJOKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OmRpc3BhdGNoRXZlbnQgLSBubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgdGFyZ2V0TG9jYWxPYmplY3RJZDogXCIgKyB0YXJnZXRMb2NhbE9iamVjdElkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnRNYXBGb3JPYmplY3QgPSB0aGlzLmV2ZW50TGlzdGVuZXJzLmdldCh0YXJnZXRMb2NhbE9iamVjdElkKTtcbiAgICAgICAgaWYgKCFldmVudE1hcEZvck9iamVjdC5oYXMoZXZlbnQudHlwZSkpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTXNSZGNNbXI6OlJlbW90ZU9iamVjdE1hbmFnZXI6OmRpc3BhdGNoRXZlbnQgLSBubyBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgdHlwZTogXCIgKyBldmVudC50eXBlICsgXCIsIHRhcmdldExvY2FsT2JqZWN0SWQ6IFwiICsgdGFyZ2V0TG9jYWxPYmplY3RJZCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGV2ZW50Q2FuY2VsZWQgPSBmYWxzZTtcbiAgICAgICAgZXZlbnRNYXBGb3JPYmplY3QuZ2V0KGV2ZW50LnR5cGUpLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyLCBpbmRleCwgYXJyYXkpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfQVNTRVJUKGxvY2FsT2JqZWN0ICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBldmVudENhbmNlbGVkID0gIWxvY2FsT2JqZWN0Lmludm9rZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGV2ZW50Q2FuY2VsZWQgPSBldmVudENhbmNlbGVkICYmIGV2ZW50LmNhbmNlbGFibGU7XG4gICAgICAgIHJldHVybiAhZXZlbnRDYW5jZWxlZDtcbiAgICB9O1xuICAgIFJlbW90ZU9iamVjdE1hbmFnZXIucHJvdG90eXBlLmNhbmNlbFBlbmRpbmdDYWxscyA9IGZ1bmN0aW9uIChsb2NhbE9iamVjdElkKSB7XG4gICAgICAgIC8vIEFib3J0IGluIGZsaWdodCBjYWxscyBmb3IgdGhlIGdpdmVuIG9iamVjdElkLlxuICAgICAgICAvLyBub3RlIHJlbW90ZU9iamVjdElkIGluIHRoZSBtZXNzYWdlIGlzIHRoZSBsb2NhbE9iamVjdElkIGluIHRoaXMgY290bmV4dFxuICAgICAgICB0aGlzLnBlbmRpbmdNZXRob2RDYWxscy5mb3JFYWNoKGZ1bmN0aW9uIChpbnZva2VNZXRob2QsIG1ldGhvZENhbGxJZCkge1xuICAgICAgICAgICAgaWYgKGludm9rZU1ldGhvZC5tZXNzYWdlT2JqZWN0W1wicmVtb3RlT2JqZWN0SWRcIl0gPT0gbG9jYWxPYmplY3RJZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQWJvcnRpbmcgY2FsbDogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkoaW52b2tlTWV0aG9kLm1lc3NhZ2VPYmplY3QpKTtcbiAgICAgICAgICAgICAgICBpbnZva2VNZXRob2QuY2FsbGJhY2soZGlzY29ubmVjdGVkX2Vycm9yLCB7fSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nTWV0aG9kQ2FsbHMuZGVsZXRlKG1ldGhvZENhbGxJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlbW90ZU9iamVjdE1hbmFnZXI7XG59KCkpO1xuZXhwb3J0cy5SZW1vdGVPYmplY3RNYW5hZ2VyID0gUmVtb3RlT2JqZWN0TWFuYWdlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5SZWdpc3RlclBhZ2VMb2dnZXIgPSB2b2lkIDA7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBQYWdlTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBhZ2VMb2dnZXIoKSB7XG4gICAgICAgIHRoaXMuY2FjaGVkTG9ncyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLmZsdXNoTG9nc0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUxvZ0ZsdXNoVGltZXIoKTtcbiAgICB9XG4gICAgUGFnZUxvZ2dlci5wcm90b3R5cGUuc2NoZWR1bGVMb2dGbHVzaFRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbG9nZ2VyID0gdGhpcztcbiAgICAgICAgaWYgKGxvZ2dlci5mbHVzaExvZ3NJbnRlcnZhbCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQYWdlTG9nZ2VyOjpzY2hlZHVsZUxvZ0ZsdXNoIC0gdGltZXIgYWxyZWFkeSBzY2hlZHVsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhZ2VMb2dnZXI6OnNjaGVkdWxlTG9nRmx1c2ggLSBzY2hlZHVsaW5nIHRpbWVyXCIpO1xuICAgICAgICAgICAgbG9nZ2VyLmZsdXNoTG9nc0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5mbHVzaExvZ3MoKTtcbiAgICAgICAgICAgIH0sIFBhZ2VMb2dnZXIuTE9HX0ZMVVNIX0lOVEVSVkFMX01TKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFnZUxvZ2dlci5wcm90b3R5cGUuY2FuY2VsTG9nRmx1c2hUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxvZ2dlciA9IHRoaXM7XG4gICAgICAgIGlmIChsb2dnZXIuZmx1c2hMb2dzSW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFnZUxvZ2dlcjo6c2NoZWR1bGVMb2dGbHVzaCAtIGNsZWFyaW5nIGV4aXN0aW5nIHRpbWVyXCIpO1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChsb2dnZXIuZmx1c2hMb2dzSW50ZXJ2YWwpO1xuICAgICAgICAgICAgbG9nZ2VyLmZsdXNoTG9nc0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFnZUxvZ2dlcjo6c2NoZWR1bGVMb2dGbHVzaCAtIHRpbWVyIGFscmVhZHkgY2xlYXJlZFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGFnZUxvZ2dlci5wcm90b3R5cGUuTG9nID0gZnVuY3Rpb24gKGxvZ1N0cmluZykge1xuICAgICAgICBjb25zb2xlLmxvZyhsb2dTdHJpbmcpO1xuICAgICAgICB0aGlzLmFkZFRvTG9nQ2FjaGUobG9nZ2luZ0NvbW1vbl8xLkNhY2hlZExvZ0VudHJ5VHlwZS5JTkZPLCBsb2dTdHJpbmcpO1xuICAgIH07XG4gICAgUGFnZUxvZ2dlci5wcm90b3R5cGUuRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JTdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvclN0cmluZyk7XG4gICAgICAgIHRoaXMuYWRkVG9Mb2dDYWNoZShsb2dnaW5nQ29tbW9uXzEuQ2FjaGVkTG9nRW50cnlUeXBlLkVSUk9SLCBlcnJvclN0cmluZyk7XG4gICAgfTtcbiAgICBQYWdlTG9nZ2VyLnByb3RvdHlwZS5XYXJuID0gZnVuY3Rpb24gKHdhcm5pbmdTdHJpbmcpIHtcbiAgICAgICAgY29uc29sZS53YXJuKHdhcm5pbmdTdHJpbmcpO1xuICAgICAgICB0aGlzLmFkZFRvTG9nQ2FjaGUobG9nZ2luZ0NvbW1vbl8xLkNhY2hlZExvZ0VudHJ5VHlwZS5XQVJOSU5HLCB3YXJuaW5nU3RyaW5nKTtcbiAgICB9O1xuICAgIFBhZ2VMb2dnZXIucHJvdG90eXBlLkFzc2VydCA9IGZ1bmN0aW9uIChhc3NlcnRpb24pIHtcbiAgICAgICAgaWYgKCFsb2dnaW5nQ29tbW9uXzEuTG9nZ2luZ0NvbW1vbi5Bc3NlcnQoYXNzZXJ0aW9uKSkge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBsb2dnaW5nQ29tbW9uXzEuTG9nZ2luZ0NvbW1vbi5HZXRBc3NlcnRMb2coKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGxvZ2dpbmdDb21tb25fMS5Mb2dnaW5nQ29tbW9uLkxPR0dJTkdfUEFHRV9UT19DT05URU5UX0VWRU5ULCB7IGRldGFpbDogbWVzc2FnZSB9KSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhZ2VMb2dnZXIucHJvdG90eXBlLmFkZFRvTG9nQ2FjaGUgPSBmdW5jdGlvbiAodHlwZSwgbG9nU3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY2FjaGVkTG9ncy5wdXNoKG5ldyBsb2dnaW5nQ29tbW9uXzEuQ2FjaGVkTG9nRW50cnkodHlwZSwgbG9nU3RyaW5nKSk7XG4gICAgICAgIGlmICh0aGlzLmNhY2hlZExvZ3MubGVuZ3RoID49IFBhZ2VMb2dnZXIuTUFYX0NBQ0hFX0VOVFJJRVMpIHtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hMb2dzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBhZ2VMb2dnZXIucHJvdG90eXBlLmZsdXNoTG9ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gc2VuZCB0byBjb250ZW50IHNjcmlwdFxuICAgICAgICB2YXIgbWVzc2FnZSA9IHt9O1xuICAgICAgICBtZXNzYWdlW1widHlwZVwiXSA9IGxvZ2dpbmdDb21tb25fMS5Mb2dnaW5nQ29tbW9uLkZMVVNIX0xPR1NfTUVTU0FHRV9UWVBFO1xuICAgICAgICBtZXNzYWdlW1wiZW50cmllc1wiXSA9IHRoaXMuY2FjaGVkTG9ncztcbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQobG9nZ2luZ0NvbW1vbl8xLkxvZ2dpbmdDb21tb24uTE9HR0lOR19QQUdFX1RPX0NPTlRFTlRfRVZFTlQsIHsgZGV0YWlsOiBtZXNzYWdlIH0pKTtcbiAgICAgICAgdGhpcy5jYWNoZWRMb2dzID0gbmV3IEFycmF5KCk7XG4gICAgfTtcbiAgICBQYWdlTG9nZ2VyLk1BWF9DQUNIRV9FTlRSSUVTID0gMTAwO1xuICAgIFBhZ2VMb2dnZXIuTE9HX0ZMVVNIX0lOVEVSVkFMX01TID0gNTAwMDsgLy8gNXNcbiAgICByZXR1cm4gUGFnZUxvZ2dlcjtcbn0oKSk7XG5mdW5jdGlvbiBSZWdpc3RlclBhZ2VMb2dnZXIoKSB7XG4gICAgbG9nZ2luZ0NvbW1vbl8xLkluaXRpYWxpemVMb2dnZXIobmV3IFBhZ2VMb2dnZXIoKSk7XG59XG5leHBvcnRzLlJlZ2lzdGVyUGFnZUxvZ2dlciA9IFJlZ2lzdGVyUGFnZUxvZ2dlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Sb290V2luZG93SW5mb1RyYWNrZXIgPSB2b2lkIDA7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbi8vIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTk0MTI2MjUvZ2VuZXJhdGUtcmFuZG9tLXV1aWQtamF2YXNjcmlwdFxuZnVuY3Rpb24gZ2VuZXJhdGVVbmlxU2VyaWFsKCkge1xuICAgIHJldHVybiAneHh4eC14eHh4LXh4eC14eHh4Jy5yZXBsYWNlKC9beF0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgdmFyIHIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNik7XG4gICAgICAgIHJldHVybiByLnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbn1cbnZhciBSb290V2luZG93SW5mb1RyYWNrZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUm9vdFdpbmRvd0luZm9UcmFja2VyKG5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eSkge1xuICAgICAgICB0aGlzLm5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eSA9IG5hdGl2ZU1lc3NhZ2luZ1BhZ2VQcm94eTtcbiAgICAgICAgdGhpcy5yb290V2luZG93T2Zmc2V0ID0gbmV3IERPTVJlY3QoMCwgMCwgMCwgMCk7XG4gICAgICAgIHRoaXMucm9vdFdpbmRvd1RpdGxlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnVuaXF1ZUlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JTZXRJbmZvKCk7XG4gICAgICAgIHZhciB0cmFja2VyID0gdGhpcztcbiAgICAgICAgdmFyIG9ic2VydmVyT3B0aW9ucyA9IHsgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XG4gICAgICAgIHZhciBtdXRhdGlvbkNhbGxiYWNrID0gZnVuY3Rpb24gKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIG11dGF0aW9uc0xpc3RfMSA9IG11dGF0aW9uc0xpc3Q7IF9pIDwgbXV0YXRpb25zTGlzdF8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBtdXRhdGlvbiA9IG11dGF0aW9uc0xpc3RfMVtfaV07XG4gICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBtdXRhdGlvbi5hZGRlZE5vZGVzOyBfYSA8IF9iLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZGVkTm9kZSA9IF9iW19hXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhZGRlZE5vZGUubm9kZU5hbWUgPT0gJ2lmcmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBhcmVudEluZm9PbkNoaWxkKGFkZGVkTm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKG11dGF0aW9uQ2FsbGJhY2spO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHdpbmRvdy5kb2N1bWVudCwgb2JzZXJ2ZXJPcHRpb25zKTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJhY2tlci5zZXRQYXJlbnRJbmZvT25DaGlsZHJlbigpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9XG4gICAgUm9vdFdpbmRvd0luZm9UcmFja2VyLnByb3RvdHlwZS5nZXRSb290V2luZG93VGl0bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFNlbmQgdGhlIHJvb3Qgd2luZG93IHRpdGxlIGlmIHRoaXMgc2NyaXB0IGlzIHJ1bm5pbmcgXG4gICAgICAgIC8vIGluIHRoZSBjb250ZXh0IG9mIGFuIGlmcmFtZSB3aGljaCBoYXMgcmVjZWl2ZWQgYW4gZXZlbnQgd2l0aCBwYXJlbnQgaW5mb1xuICAgICAgICAvLyBPdGhlcndpc2UsIHNlbmQgdGhlIGxvY2FsIHdpbmRvdyB0aXRsZVxuICAgICAgICBpZiAodGhpcy5yb290V2luZG93VGl0bGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcInJvb3RXaW5kb3dJbmZvVHJhY2tlciB0aXRsZTpcIiArIHRoaXMucm9vdFdpbmRvd1RpdGxlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJvb3RXaW5kb3dUaXRsZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZG9jdW1lbnQudGl0bGUgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwicm9vdFdpbmRvd0luZm9UcmFja2VyIG5vIHRpdGxlLCBzZXRUaXRsZU1vZGlmaWNhdGlvbkVuYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUaXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBidWcgMzgxMjQ2Mjcgd2l0aCBNaWNyb3NvZnQgVGVhbXNcbiAgICAgICAgaWYgKCF0aGlzLnRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCAmJiB3aW5kb3cuZG9jdW1lbnQudGl0bGUuaW5jbHVkZXMoJ01pY3Jvc29mdCBUZWFtcycpKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcImxpc3RlbkZvclNldEluZm8gLSBzZXR0aW5nIHRpdGxlTW9kaWZjYXRpb25FbmFibGVkIHRvIHRydWUgZm9yIHNwZWNpYWwgY2FzZSB0aXRsZT1cIiArIHdpbmRvdy5kb2N1bWVudC50aXRsZSk7XG4gICAgICAgICAgICB0aGlzLnNldFRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcInJvb3RXaW5kb3dJbmZvVHJhY2tlciB0aXRsZTpcIiArIHdpbmRvdy5kb2N1bWVudC50aXRsZSk7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZG9jdW1lbnQudGl0bGU7XG4gICAgfTtcbiAgICBSb290V2luZG93SW5mb1RyYWNrZXIucHJvdG90eXBlLmdldFJvb3RXaW5kb3dJbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm9vdFdpbmRvd0luZm8gPSBuZXcgT2JqZWN0KCk7XG4gICAgICAgIHJvb3RXaW5kb3dJbmZvW1wicm9vdE9mZnNldFwiXSA9IHRoaXMucm9vdFdpbmRvd09mZnNldDtcbiAgICAgICAgcm9vdFdpbmRvd0luZm9bXCJ0aXRsZVwiXSA9IHRoaXMuZ2V0Um9vdFdpbmRvd1RpdGxlKCk7XG4gICAgICAgIHJldHVybiByb290V2luZG93SW5mbztcbiAgICB9O1xuICAgIFJvb3RXaW5kb3dJbmZvVHJhY2tlci5wcm90b3R5cGUuc2V0UGFyZW50SW5mb09uQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjdXJyZW50V2luZG93ID0gd2luZG93O1xuICAgICAgICB2YXIgSWZyYW1lcyA9IGN1cnJlbnRXaW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpZnJhbWVcIik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgSWZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5zZXRQYXJlbnRJbmZvT25DaGlsZChJZnJhbWVzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUm9vdFdpbmRvd0luZm9UcmFja2VyLnByb3RvdHlwZS5zZXRQYXJlbnRJbmZvT25DaGlsZCA9IGZ1bmN0aW9uIChpZnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHZhciBvZmZzZXQgPSBuZXcgRE9NUmVjdCgwLCAwLCAwLCAwKTtcbiAgICAgICAgb2Zmc2V0LnggPSB0aGlzLnJvb3RXaW5kb3dPZmZzZXQueDtcbiAgICAgICAgb2Zmc2V0LnkgPSB0aGlzLnJvb3RXaW5kb3dPZmZzZXQueTtcbiAgICAgICAgdmFyIGlmcmFtZVJlY3QgPSBpZnJhbWVFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBvZmZzZXQueCArPSBpZnJhbWVSZWN0Lng7XG4gICAgICAgIG9mZnNldC55ICs9IGlmcmFtZVJlY3QueTtcbiAgICAgICAgdmFyIHdpbmRvd1RpdGxlVG9TZW5kID0gdGhpcy5nZXRSb290V2luZG93VGl0bGUoKTtcbiAgICAgICAgdmFyIG5hdGl2ZVBvcnRJZCA9IHRoaXMubmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5Lm5hdGl2ZVBvcnRJZDtcbiAgICAgICAgdmFyIG9yaWdpbiA9IHNlbGYub3JpZ2luO1xuICAgICAgICBpZnJhbWVFbGVtZW50LmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoeyByb290T2Zmc2V0OiBvZmZzZXQsIHJvb3RUaXRsZTogd2luZG93VGl0bGVUb1NlbmQsIHJvb3ROYXRpdmVQb3J0SWQ6IG5hdGl2ZVBvcnRJZCwgcm9vdE9yaWdpbjogb3JpZ2luIH0sIFwiKlwiKTtcbiAgICB9O1xuICAgIFJvb3RXaW5kb3dJbmZvVHJhY2tlci5wcm90b3R5cGUubGlzdGVuRm9yU2V0SW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyYWNrZXIgPSB0aGlzO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEgIT0gdW5kZWZpbmVkICYmIGV2ZW50LmRhdGEucm9vdE9mZnNldCAhPSB1bmRlZmluZWQgJiYgZXZlbnQuZGF0YS5yb290VGl0bGUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tlci5yb290V2luZG93T2Zmc2V0ID0gZXZlbnQuZGF0YS5yb290T2Zmc2V0O1xuICAgICAgICAgICAgICAgIHRyYWNrZXIucm9vdFdpbmRvd1RpdGxlID0gZXZlbnQuZGF0YS5yb290VGl0bGU7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoZXZlbnQuZGF0YS5yb290TmF0aXZlUG9ydElkICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoZXZlbnQuZGF0YS5yb290T3JpZ2luICE9IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgdHJhY2tlci51cGRhdGVQYXJlbnRTYW1lT3JpZ2luKGV2ZW50LmRhdGEucm9vdE5hdGl2ZVBvcnRJZCwgZXZlbnQuZGF0YS5yb290T3JpZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LmRhdGEgIT0gdW5kZWZpbmVkICYmIGV2ZW50LmRhdGEudGl0bGVNb2RpZmljYXRpb25FbmFibGVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwibGlzdGVuRm9yU2V0SW5mbyAtIHVwZGF0aW5nIHRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZDogXCIgKyBldmVudC5kYXRhLnRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCk7XG4gICAgICAgICAgICAgICAgdHJhY2tlci5zZXRUaXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQoZXZlbnQuZGF0YS50aXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJvb3RXaW5kb3dJbmZvVHJhY2tlci5wcm90b3R5cGUudXBkYXRlUGFyZW50U2FtZU9yaWdpbiA9IGZ1bmN0aW9uIChwYXJlbnROYXRpdmVQb3J0SWQsIHBhcmVudE9yaWdpbikge1xuICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0ZVBhcmVudFNhbWVPcmlnaW4gLSB0aGlzLm9yaWdpbj1cIiArIHNlbGYub3JpZ2luICsgXCIgcGFyZW50T3JpZ2luPVwiICsgcGFyZW50T3JpZ2luICsgXCIgY3VycmVudFBvcnRJZD1cIiArIHRoaXMubmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5Lm5hdGl2ZVBvcnRJZCArIFwiIHBhcmVudENvbnRlbnRQb3J0SWQ9XCIgKyBwYXJlbnROYXRpdmVQb3J0SWQpO1xuICAgICAgICBpZiAoc2VsZi5vcmlnaW4gPT0gcGFyZW50T3JpZ2luICYmIHRoaXMubmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5Lm5hdGl2ZVBvcnRJZCAhPSBwYXJlbnROYXRpdmVQb3J0SWQpIHtcbiAgICAgICAgICAgIHRoaXMubmF0aXZlTWVzc2FnaW5nUGFnZVByb3h5LnNlbmRTYW1lT3JpZ2luUGFyZW50SWQocGFyZW50TmF0aXZlUG9ydElkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUm9vdFdpbmRvd0luZm9UcmFja2VyLnByb3RvdHlwZS5zZXRUaXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlKSB7XG4gICAgICAgIHRoaXMudGl0bGVNb2RpZmljYXRpb25FbmFibGVkID0gZW5hYmxlO1xuICAgICAgICBpZiAod2luZG93LnBhcmVudCAhPSB3aW5kb3cpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGl0bGVNb2RJbmZvT25QYXJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGl0bGVNb2RMb2NhbCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSb290V2luZG93SW5mb1RyYWNrZXIucHJvdG90eXBlLnVwZGF0ZVRpdGxlTW9kTG9jYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudW5pcXVlSWQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5pcXVlSWQgPSBnZW5lcmF0ZVVuaXFTZXJpYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdGl0bGVBcHBlbmRlZFN0ciA9IFwiIFtcIiArIHRoaXMudW5pcXVlSWQgKyBcIl1cIjtcbiAgICAgICAgdmFyIHRpdGxlQ29udGFpbnNBcHBlbmRlZFN0ciA9ICh3aW5kb3cuZG9jdW1lbnQudGl0bGUuaW5kZXhPZih0aXRsZUFwcGVuZGVkU3RyKSAhPSAtMSk7XG4gICAgICAgIGlmICh0aGlzLnRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCAmJiAhdGl0bGVDb250YWluc0FwcGVuZGVkU3RyKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgKz0gdGl0bGVBcHBlbmRlZFN0cjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy50aXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQgJiYgdGl0bGVDb250YWluc0FwcGVuZGVkU3RyKSB7XG4gICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQudGl0bGUgPSB3aW5kb3cuZG9jdW1lbnQudGl0bGUucmVwbGFjZSh0aXRsZUFwcGVuZGVkU3RyLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcInVwZGF0ZVRpdGxlTW9kTG9jYWw6IHRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZDogXCIgKyB0aGlzLnRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZCArIFwiIHdpbmRvdy5kb2N1bWVudC50aXRsZTogXCIgKyB3aW5kb3cuZG9jdW1lbnQudGl0bGUpO1xuICAgIH07XG4gICAgUm9vdFdpbmRvd0luZm9UcmFja2VyLnByb3RvdHlwZS5zZXRUaXRsZU1vZEluZm9PblBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJzZXRUaXRsZU1vZEluZm9PblBhcmVudDogdGl0bGVNb2RpZmljYXRpb25FbmFibGVkOiBcIiArIHRoaXMudGl0bGVNb2RpZmljYXRpb25FbmFibGVkKTtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQod2luZG93LnBhcmVudCAhPSBudWxsKTtcbiAgICAgICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSh7IHRpdGxlTW9kaWZpY2F0aW9uRW5hYmxlZDogdGhpcy50aXRsZU1vZGlmaWNhdGlvbkVuYWJsZWQgfSwgXCIqXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIFJvb3RXaW5kb3dJbmZvVHJhY2tlcjtcbn0oKSk7XG5leHBvcnRzLlJvb3RXaW5kb3dJbmZvVHJhY2tlciA9IFJvb3RXaW5kb3dJbmZvVHJhY2tlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zZXR1cE1lZGlhRGV2aWNlc1NoaW1zID0gZXhwb3J0cy5NZWRpYURldmljZXNSZWRpcmVjdCA9IHZvaWQgMDtcbnZhciBlbGVtZW50U2hpbUNvbW1vbl8xID0gcmVxdWlyZShcIi4vZWxlbWVudFNoaW1Db21tb25cIik7XG52YXIgbWVkaWFTdHJlYW1fc2hpbV8xID0gcmVxdWlyZShcIi4vbWVkaWFTdHJlYW1fc2hpbVwiKTtcbi8vIE91ciBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgTWVkaWFEZXZpY2VJbmZvIG9iamVjdC5cbi8vIFRoZSBjb25zdHJ1Y3RvciB0YWtlcyBhIG1hcC9vYmplY3Qgd2l0aCAnZGV2aWNlSWQnLCAnZ3JvdXBJZCcsICdsYWJlbCcgYW5kICdraW5kJyBwcm9wZXJ0aWVzLlxuLy8gVGhlICdraW5kJyBwcm9wZXJ0eSBpcyBhIG51bWJlciBmcm9tIHRoZSBtc3JkY3BiOjpNZWRpYURldmljZUtpbmQgZW51bWVyYXRpb24uXG52YXIgTW1yTWVkaWFEZXZpY2VJbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1tck1lZGlhRGV2aWNlSW5mbyhpbmZvKSB7XG4gICAgICAgIHRoaXMuZGV2aWNlSWQgPSBpbmZvWydkZXZpY2VJZCddO1xuICAgICAgICB0aGlzLmdyb3VwSWQgPSBpbmZvWydncm91cElkJ107XG4gICAgICAgIHRoaXMubGFiZWwgPSBpbmZvWydsYWJlbCddO1xuICAgICAgICBzd2l0Y2ggKGluZm9bJ2tpbmQnXSkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiYXVkaW9pbnB1dFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHRoaXMua2luZCA9IFwiYXVkaW9vdXRwdXRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICB0aGlzLmtpbmQgPSBcInZpZGVvaW5wdXRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBNbXJNZWRpYURldmljZUluZm8ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gTW1yTWVkaWFEZXZpY2VJbmZvO1xufSgpKTtcbnZhciBNZWRpYURldmljZXNSZWRpcmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZWRpYURldmljZXNSZWRpcmVjdChyZW1vdGVPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbikge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIgPSByZW1vdGVPYmplY3RNYW5hZ2VyO1xuICAgICAgICAvLyBTaGltIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdElkID0gMDtcbiAgICAgICAgdGhpcy5jcmVhdGVkUmVtb3RlT2JqZWN0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0QWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29uZGV2aWNlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJNZWRpYURldmljZXNSZWRpcmVjdCBjb25zdHJ1Y3RvclwiKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1lZGlhRGV2aWNlcyA9IG5hdmlnYXRvci5tZWRpYURldmljZXM7XG4gICAgICAgIHRoaXMub2NjbHVzaW9uU3VwcG9ydFZlcnNpb24gPSBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbjtcbiAgICB9XG4gICAgTWVkaWFEZXZpY2VzUmVkaXJlY3QucHJvdG90eXBlLmVuc3VyZU9iamVjdENyZWF0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jcmVhdGVkUmVtb3RlT2JqZWN0KSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWRSZW1vdGVPYmplY3QgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmNyZWF0ZU9iamVjdCh0aGlzLCBcIk1lZGlhRGV2aWNlc1wiLCB7IFwib2NjbHVzaW9uU3VwcG9ydFZlcnNpb25cIjogdGhpcy5vY2NsdXNpb25TdXBwb3J0VmVyc2lvbiB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gUmVtb3RlT2JqZWN0TWFuYWdlckNsaWVudCBtZXRob2RzXG4gICAgTWVkaWFEZXZpY2VzUmVkaXJlY3QucHJvdG90eXBlLnNldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAobG9jYWxPYmplY3RJZCkge1xuICAgICAgICB0aGlzLmxvY2FsT2JqZWN0SWQgPSBsb2NhbE9iamVjdElkO1xuICAgIH07XG4gICAgTWVkaWFEZXZpY2VzUmVkaXJlY3QucHJvdG90eXBlLmdldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsT2JqZWN0SWQ7XG4gICAgfTtcbiAgICBNZWRpYURldmljZXNSZWRpcmVjdC5wcm90b3R5cGUub25SZW1vdGVPYmplY3RDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdEFjdGl2ZSA9IHRydWU7XG4gICAgfTtcbiAgICBNZWRpYURldmljZXNSZWRpcmVjdC5wcm90b3R5cGUuaW52b2tlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHsgfTtcbiAgICBNZWRpYURldmljZXNSZWRpcmVjdC5wcm90b3R5cGUuaW52b2tlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJNZWRpYURldmljZXNSZWRpcmVjdDo6aW52b2tlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIGlmIChsaXN0ZW5lci5oYW5kbGVFdmVudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZUV2ZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICd0YXJnZXQnLCB7IHZhbHVlOiB0aGlzIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHsgdmFsdWU6IHRoaXMgfSk7XG4gICAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1lZGlhRGV2aWNlc1JlZGlyZWN0LnByb3RvdHlwZS5vbkF0dHJpYnV0ZVVwZGF0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1lZGlhRGV2aWNlc1JlZGlyZWN0OjpvbkF0dHJpYnV0ZVVwZGF0ZSAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkodmFsdWUpKTtcbiAgICB9O1xuICAgIE1lZGlhRGV2aWNlc1JlZGlyZWN0LnByb3RvdHlwZS5vbkNvbm5lY3Rpb25FdmVudCA9IGZ1bmN0aW9uIChldmVudFR5cGUpIHtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PSBcImNsaWVudENvbm5lY3RlZFwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1lZGlhRGV2aWNlc1JlZGlyZWN0OjpvbkNvbm5lY3Rpb25FdmVudCAtIGNsaWVudENvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc2Nvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgZXZlbnQgZmlyc3QgdGhlbiBtYXJrIGFzIG5lZWRpbmcgYSBuZXcgb2JqZWN0LiBcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHdheSBsb29rdXAgd2lsbCBoYXBwZW4gdXNpbmcgdGhlIG9sZCBJRCBmb3IgZGlzcGF0Y2hFdmVudCByYXRoZXIgdGhhbiB0cnlpbmcgdG8gY3JlYXRlIGEgbmV3IG9iamVjdCByaWdodCBhd2F5LlxuICAgICAgICAgICAgICAgIHRoaXMuU2VuZENvbm5lY3Rpb25TdGF0ZUNoYW5nZWRFdmVudChcImNvbm5lY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZWRSZW1vdGVPYmplY3QgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFR5cGUgPT0gXCJjbGllbnREaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmNhbmNlbFBlbmRpbmdDYWxscyh0aGlzLmxvY2FsT2JqZWN0SWQpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuU2VuZENvbm5lY3Rpb25TdGF0ZUNoYW5nZWRFdmVudChcImRpc2Nvbm5lY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFR5cGUgPT0gXCJzd2l0Y2hUb1JlbW90ZVwiKSB7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNZWRpYURldmljZXNSZWRpcmVjdC5wcm90b3R5cGUsIFwib25kZXZpY2VjaGFuZ2VcIiwge1xuICAgICAgICAvLyBNZWRpYURldmljZXMgbWV0aG9kc1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vbmRldmljZWNoYW5nZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vbmRldmljZWNoYW5nZSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignZGV2aWNlY2hhbmdlJywgdGhpcy5fb25kZXZpY2VjaGFuZ2UsIG51bGwpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9vbmRldmljZWNoYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignZGV2aWNlY2hhbmdlJywgdGhpcy5fb25kZXZpY2VjaGFuZ2UgPSBjYWxsYmFjaywgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBNZWRpYURldmljZXNSZWRpcmVjdC5wcm90b3R5cGUuZW51bWVyYXRlRGV2aWNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1lZGlhRGV2aWNlc1JlZGlyZWN0OjplbnVtZXJhdGVEZXZpY2VzW0JFR0lOXSAtIExvY2FsIG9iamVjdCBpZDogXCIgKyBKU09OLnN0cmluZ2lmeShzaGltLmxvY2FsT2JqZWN0SWQpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHNoaW0uZW5zdXJlT2JqZWN0Q3JlYXRlZCgpO1xuICAgICAgICAgICAgc2hpbS5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZChzaGltLmxvY2FsT2JqZWN0SWQsICdlbnVtZXJhdGVEZXZpY2VzJywge30sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIk1lZGlhRGV2aWNlc1JlZGlyZWN0OjplbnVtZXJhdGVEZXZpY2VzW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpICsgXCIgYXJnczogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkoYXJncykpO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBcImFyZ3NcIiBwYXJhbWV0ZXIgaXMgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aGVyZSBlYWNoIG9iamVjdCBoYXMgdGhlIHNhbWUgcHJvcGVydGllcyBhcyBhIE1lZGlhRGV2aWNlSW5mby5cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHZhbF8xID0gW107XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0QXJyYXkgPSBhcmdzO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0QXJyYXkuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHZhbF8xLnB1c2gobmV3IE1tck1lZGlhRGV2aWNlSW5mbyhpdGVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJldHZhbF8xKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlbGVtZW50U2hpbUNvbW1vbl8xLm1tcldlYlJ0Y1N0YXR1c1RvRE9NRXJyb3IocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gICAgZ2V0RGlzcGxheU1lZGlhKGNvbnN0cmFpbnRzPzogRGlzcGxheU1lZGlhU3RyZWFtQ29uc3RyYWludHMpOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgLy8gICAgICAgIGNvbnNvbGUubG9nKFwiTWVkaWFEZXZpY2VzUHJveHk6OmVudW1lcmF0ZURldmljZXNcIik7XG4gICAgLy8gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsTWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYShjb25zdHJhaW50cyk7XG4gICAgLy8gICAgfVxuICAgIE1lZGlhRGV2aWNlc1JlZGlyZWN0LnByb3RvdHlwZS5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHsgZGV2aWNlSWQ6IHRydWUgfTtcbiAgICB9O1xuICAgIE1lZGlhRGV2aWNlc1JlZGlyZWN0LnByb3RvdHlwZS5nZXRVc2VyTWVkaWEgPSBmdW5jdGlvbiAoY29uc3RyYWludHMpIHtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1lZGlhRGV2aWNlc1JlZGlyZWN0OjpnZXRVc2VyTWVkaWFbQkVHSU5dIC0gY29uc3RyYWludHM6IFwiICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpICsgXCIgLSBMb2NhbCBvYmplY3QgaWQ6IFwiICsgSlNPTi5zdHJpbmdpZnkoc2hpbS5sb2NhbE9iamVjdElkKSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBzaGltLmVuc3VyZU9iamVjdENyZWF0ZWQoKTtcbiAgICAgICAgICAgIHNoaW0ucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2Qoc2hpbS5sb2NhbE9iamVjdElkLCAnZ2V0VXNlck1lZGlhJywgeyAnY29uc3RyYWludHMnOiBjb25zdHJhaW50cyB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNZWRpYURldmljZXNSZWRpcmVjdDo6Z2V0VXNlck1lZGlhW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpICsgXCIgLSBhcmdzOiBcIiArIEpTT04uc3RyaW5naWZ5KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHZhbF8yID0gbmV3IE1lZGlhU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWydzdHJlYW1JZCddICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3h5ID0gbWVkaWFTdHJlYW1fc2hpbV8xLmNyZWF0ZU1lZGlhU3RyZWFtU2hpbShyZXR2YWxfMiwgYXJnc1snc3RyZWFtSWQnXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhY2tzID0gYXJnc1sndHJhY2tzJ107XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja3MuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhU3RyZWFtX3NoaW1fMS5jcmVhdGVUcmFja1JlZGlyZWN0T25NZWRpYVN0cmVhbShzaGltLnJlbW90ZU9iamVjdE1hbmFnZXIsIHJldHZhbF8yLCBpdGVtWyd0cmFja0lkJ10sIGl0ZW1bJ3RyYWNrTGFiZWwnXSwgaXRlbVsnc2V0dGluZ3MnXSwgaXRlbVsna2luZCddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwcm94eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbGQgbWVzc2FnZSBzdHlsZSBmcm9tIG9sZGVyIGhvc3RzLiBTaG91bGRuJ3QgbmVlZCB0byBiZSBtb2RpZmllZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm94eSA9IG1lZGlhU3RyZWFtX3NoaW1fMS5jcmVhdGVNZWRpYVN0cmVhbVNoaW0ocmV0dmFsXzIsIGFyZ3NbJ3N0cmVhbUlkcyddWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhU3RyZWFtX3NoaW1fMS5jcmVhdGVUcmFja1JlZGlyZWN0T25NZWRpYVN0cmVhbShzaGltLnJlbW90ZU9iamVjdE1hbmFnZXIsIHJldHZhbF8yLCBhcmdzWyd0cmFja0lkJ10sIGFyZ3NbJ3RyYWNrTGFiZWwnXSwgYXJnc1snc2V0dGluZ3MnXSwgYXJnc1sna2luZCddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocHJveHkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZWxlbWVudFNoaW1Db21tb25fMS5tbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yKHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lZGlhRGV2aWNlc1JlZGlyZWN0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWVkaWFEZXZpY2VzUmVkaXJlY3Q6OmFkZEV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIHNoaW0uZW5zdXJlT2JqZWN0Q3JlYXRlZCgpO1xuICAgICAgICBzaGltLnJlbW90ZU9iamVjdE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcihzaGltLmxvY2FsT2JqZWN0SWQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIE1lZGlhRGV2aWNlc1JlZGlyZWN0LnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWVkaWFEZXZpY2VzUmVkaXJlY3Q6OnJlbW92ZUV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIHNoaW0uZW5zdXJlT2JqZWN0Q3JlYXRlZCgpO1xuICAgICAgICBzaGltLnJlbW90ZU9iamVjdE1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihzaGltLmxvY2FsT2JqZWN0SWQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIE1lZGlhRGV2aWNlc1JlZGlyZWN0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTWVkaWFEZXZpY2VzUmVkaXJlY3Q6OmRpc3BhdGNoRXZlbnQgLSB0eXBlOiBcIiArIGV2ZW50LnR5cGUpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIHNoaW0uZW5zdXJlT2JqZWN0Q3JlYXRlZCgpO1xuICAgICAgICByZXR1cm4gc2hpbS5yZW1vdGVPYmplY3RNYW5hZ2VyLmRpc3BhdGNoRXZlbnQoc2hpbS5sb2NhbE9iamVjdElkLCBldmVudCk7XG4gICAgfTtcbiAgICBNZWRpYURldmljZXNSZWRpcmVjdC5wcm90b3R5cGUuU2VuZENvbm5lY3Rpb25TdGF0ZUNoYW5nZWRFdmVudCA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk1lZGlhRGV2aWNlc1JlZGlyZWN0IFNlbmRpbmcgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VkIGV2ZW50IC0gc3RhdGU6IFwiICsgc3RhdGUpO1xuICAgICAgICB2YXIgY29ubmVjdGlvbkV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwicmRwQ2xpZW50Q29ubmVjdGlvblN0YXRlQ2hhbmdlZFwiLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjb25uZWN0aW9uRXZlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1lZGlhRGV2aWNlc1JlZGlyZWN0O1xufSgpKTtcbmV4cG9ydHMuTWVkaWFEZXZpY2VzUmVkaXJlY3QgPSBNZWRpYURldmljZXNSZWRpcmVjdDtcbi8vIFNldCB1cCBzaGltcyBmb3IgdGhlIHZhcmlvdXMgbWV0aG9kcyBvbiB0aGUgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyBvYmplY3QuIFdlIGNhbm5vdCByZXBsYWNlIHRoZSBvYmplY3QgaXRzZWxmLFxuLy8gYnV0IHdlIGNhbiByZXBsYWNlIGluZGl2aWR1YWwgZnVuY3Rpb25zLlxuLy8gVGhlIHJlYXNvbiB0aGUgJ29jY2x1c2lvblN1cHBvcnRWZXJzaW9uXCIgcGFyYW1ldGVyIGlzIHBhc3NlZCBpbiBpcyBiZWNhdXNlIGl0IG1pZ2h0IGJlIG5lZWRlZCBpZiB0aGlzIGlzIHRoZSBmaXJzdFxuLy8gb2JqZWN0IHRoYXQgaXMgY3JlYXRlZCwgYXMgaXQgbmVlZHMgdG8gYmUgc2VudCBpbiB0aGUgZmlyc3QgbWVzc2FnZSB0byB0aGUgY2xpZW50LlxuZnVuY3Rpb24gc2V0dXBNZWRpYURldmljZXNTaGltcyhyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uKSB7XG4gICAgY29uc29sZS5sb2coXCJTaGltbWluZyBtZWRpYSBkZXZpY2VzXCIpO1xuICAgIHZhciBtZWRpYURldmljZXNSZWRpcmVjdCA9IG5ldyBNZWRpYURldmljZXNSZWRpcmVjdChyZW1vdGVPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbik7XG4gICAgd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXNbZWxlbWVudFNoaW1Db21tb25fMS5zaGltUHJvcGVydHlOYW1lXSA9IG1lZGlhRGV2aWNlc1JlZGlyZWN0O1xuICAgIHZhciBzaGltbWVkTWV0aG9kcyA9IFsnZW51bWVyYXRlRGV2aWNlcycsICdnZXRTdXBwb3J0ZWRDb25zdHJhaW50cycsICdnZXRVc2VyTWVkaWEnLCAnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJywgJ2Rpc3BhdGNoRXZlbnQnXTtcbiAgICBzaGltbWVkTWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uIChmdW5jdGlvblN0cmluZykge1xuICAgICAgICB3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlc1tmdW5jdGlvblN0cmluZ10gPSBtZWRpYURldmljZXNSZWRpcmVjdFtmdW5jdGlvblN0cmluZ107XG4gICAgfSk7XG4gICAgLy8gQ0cgbWF5IGJlIGNoZWNraW5nIGZvciB0aGlzIHByb3BlcnR5IHRvIGRldGVjdCBpZiBNTVIgcmVtb3RpbmcgaXMgZW5hYmxlZC5cbiAgICB3aW5kb3cubmF2aWdhdG9yLm1lZGlhRGV2aWNlc1snaXNSZW1vdGUnXSA9IHRydWU7XG59XG5leHBvcnRzLnNldHVwTWVkaWFEZXZpY2VzU2hpbXMgPSBzZXR1cE1lZGlhRGV2aWNlc1NoaW1zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnNoaW1BdWRpb0NsYXNzID0gZXhwb3J0cy5zZXR1cEF1ZGlvRWxlbWVudFNoaW1zID0gZXhwb3J0cy5BdWRpb0VsZW1lbnRTaGltID0gdm9pZCAwO1xudmFyIGVsZW1lbnRTaGltQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9lbGVtZW50U2hpbUNvbW1vblwiKTtcbnZhciBhdWRpb0VsZW1lbnRfcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL2F1ZGlvRWxlbWVudF9yZWRpcmVjdFwiKTtcbnZhciBmYWxsYmFja09iamVjdE1hbmFnZXJfMSA9IHJlcXVpcmUoXCIuL2ZhbGxiYWNrT2JqZWN0TWFuYWdlclwiKTtcbnZhciBsb2dnaW5nQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9sb2dnaW5nQ29tbW9uXCIpO1xudmFyIE1tckF1ZGlvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1tckF1ZGlvKHNyYykge1xuICAgICAgICAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIHJlYWwgQXVkaW8gY2xhc3MuIEJ1dCBkb24ndCBwYXNzIGluIHRoZSBzcmMgYXR0cmlidXRlIHlldC5cbiAgICAgICAgdmFyIGF1ZGlvRWxlbWVudCA9IG5ldyBNbXJBdWRpby5vcmlnaW5hbEF1ZGlvQ2xhc3MoKTtcbiAgICAgICAgLy8gQXBwbHkgc2hpbW1pbmcgdG8gdGhlIEF1ZGlvIGNsYXNzXG4gICAgICAgIHNldHVwQXVkaW9FbGVtZW50U2hpbXMoTW1yQXVkaW8ucmVtb3RlT2JqZWN0TWFuYWdlciwgTW1yQXVkaW8uZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBNbXJBdWRpby5vY2NsdXNpb25TdXBwb3J0VmVyc2lvbiwgYXVkaW9FbGVtZW50KTtcbiAgICAgICAgLy8gTm93IHRoYXQgaXQgaGFzIGJlZW4gc2hpbW1lZCwgc2V0IHRoZSBzcmMgYXR0cmlidXRlLCBpZiBhIHZhbHVlIHdhcyBwcm92aWRlZC5cbiAgICAgICAgaWYgKHNyYyAhPSBudWxsKSB7XG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQuc3JjID0gc3JjO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdWRpb0VsZW1lbnQ7XG4gICAgfVxuICAgIE1tckF1ZGlvLm9yaWdpbmFsQXVkaW9DbGFzcyA9IEF1ZGlvO1xuICAgIHJldHVybiBNbXJBdWRpbztcbn0oKSk7XG52YXIgQXVkaW9FbGVtZW50U2hpbSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBdWRpb0VsZW1lbnRTaGltKHJlbW90ZU9iamVjdE1hbmFnZXIsIGZhbGxiYWNrT2JqZWN0TWFuYWdlciwgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24sIG9yaWdpbmFsRWxlbWVudCkge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIgPSByZW1vdGVPYmplY3RNYW5hZ2VyO1xuICAgICAgICB0aGlzLmZhbGxiYWNrT2JqZWN0TWFuYWdlciA9IGZhbGxiYWNrT2JqZWN0TWFuYWdlcjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVsZW1lbnQgPSBvcmlnaW5hbEVsZW1lbnQ7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBOYU47XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IDA7XG4gICAgICAgIHRoaXMuc2Vla2luZyA9IGZhbHNlO1xuICAgICAgICAvLyBOb2RlIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5ub2RlVHlwZSA9IE5vZGUuRUxFTUVOVF9OT0RFO1xuICAgICAgICAvLyBFbGVtZW50IGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy50YWdOYW1lID0gXCJhdWRpb1wiO1xuICAgICAgICB0aGlzLm9yaWdpbmFsU2V0dGVycyA9IHt9O1xuICAgICAgICAvLyBWYXJpYWJsZXMgZm9yIGZhbGxiYWNrIHBhdGhcbiAgICAgICAgdGhpcy5wbGF5YmFja1BhdGhNb2RlID0gZWxlbWVudFNoaW1Db21tb25fMS5TaGltQ29tbW9uLmluaXRpYWxQbGF5YmFja1BhdGhNb2RlO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFNoaW06OkF1ZGlvRWxlbWVudFNoaW1cIik7XG4gICAgICAgIGlmICh0aGlzLnBsYXliYWNrUGF0aE1vZGUgIT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvRWxlbWVudFJlZGlyZWN0ID0gbmV3IGF1ZGlvRWxlbWVudF9yZWRpcmVjdF8xLkF1ZGlvRWxlbWVudFJlZGlyZWN0KHJlbW90ZU9iamVjdE1hbmFnZXIsIG9yaWdpbmFsRWxlbWVudCwgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3duZXJEb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcbiAgICAgICAgLy8gVGhpcyBpcyBqdXN0IGEgdHJhY2tpbmcsIGRvZXNuJ3QgbWF0dGVyIHRoYXQgaXQgc2F5cyB2aWRlbyBlbGVtZW50XG4gICAgICAgIHRoaXMuZmFsbGJhY2tPYmplY3RNYW5hZ2VyLmFkZEZhbGxiYWNrVmlkZW9FbGVtZW50KHRoaXMpO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRWxlbWVudFtlbGVtZW50U2hpbUNvbW1vbl8xLnNoaW1Qcm9wZXJ0eU5hbWVdID0gdGhpcztcbiAgICAgICAgdGhpcy50ZXh0VHJhY2tzID0gbmV3IGVsZW1lbnRTaGltQ29tbW9uXzEuVGV4dFRyYWNrTGlzdFByb3h5KCk7XG4gICAgICAgIHRoaXMuYnVmZmVyZWQgPSBlbGVtZW50U2hpbUNvbW1vbl8xLmNyZWF0ZVRpbWVSYW5nZXMobmV3IE9iamVjdCgpKTtcbiAgICAgICAgdGhpcy5zZWVrYWJsZSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuY3JlYXRlVGltZVJhbmdlcyhuZXcgT2JqZWN0KCkpO1xuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xuICAgICAgICBBdWRpb0VsZW1lbnRTaGltLnNoaW1tZWRNZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKGZ1bmN0aW9uU3RyaW5nKSB7XG4gICAgICAgICAgICBwcm94eVtmdW5jdGlvblN0cmluZyArICdfb3JpZ2luYWwnXSA9IG9yaWdpbmFsRWxlbWVudFtmdW5jdGlvblN0cmluZ107XG4gICAgICAgICAgICBvcmlnaW5hbEVsZW1lbnRbZnVuY3Rpb25TdHJpbmddID0gcHJveHlbZnVuY3Rpb25TdHJpbmddO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpc1snc2V0SWRsQXR0cmlidXRlX29yaWdpbmFsJ10gPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChwcm94eS5vcmlnaW5hbFNldHRlcnNbJ3NldF8nICsgbmFtZSArICdfb3JpZ2luYWwnXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJveHkub3JpZ2luYWxTZXR0ZXJzWydzZXRfJyArIG5hbWUgKyAnX29yaWdpbmFsJ10uYXBwbHkob3JpZ2luYWxFbGVtZW50LCBbdmFsdWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIG9yaWdpbmFsIHNldHRlciwgdGhlIGF0dHJpYnV0ZSBtaWdodCBiZSByZWFkLW9ubHksIG9yIG5vdCByZWNvZ25pemVkIGJ5IHRoZSBicm93c2VyLlxuICAgICAgICAgICAgICAgIC8vIFdlIHN0aWxsIG5lZWQgdG8gYmUgYWJsZSB0byBzdXBwb3J0IHNldHRpbmcgdGhlIGF0dHJpYnV0ZS4gVG8gYXZvaWQgaW5maW5pdGUgcmVjdXJzaW9uLCB3ZSBzdG9yZSBpdFxuICAgICAgICAgICAgICAgIC8vIHVzaW5nIGEgbW9kaWZpZWQgbmFtZS5cbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVsZW1lbnRbbmFtZSArIFwiX25vc2hpbV9cIl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgQXVkaW9FbGVtZW50U2hpbS5zaGltbWVkUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wZXJ0eVN0cmluZykge1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSBvcmlnaW5hbEVsZW1lbnRbcHJvcGVydHlTdHJpbmddO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgdmFyIG9yaWdHZXQgPSBvcmlnaW5hbEVsZW1lbnQuX19sb29rdXBHZXR0ZXJfXyhwcm9wZXJ0eVN0cmluZyk7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBvcmlnaW5hbCBnZXR0ZXIsIGl0IG1lYW5zIHRoYXQgdGhlIGF0dHJpYnV0ZSBpcyBub3QgcmVjb2duaXplZCBieSB0aGUgYnJvd3Nlci5cbiAgICAgICAgICAgIC8vIFdlIHByb3ZpZGUgYSBkZWZhdWx0IGZ1bmN0aW9uIHRvIHVzZSBpbiB0aGF0IHNpdHVhdGlvbi5cbiAgICAgICAgICAgIGlmIChvcmlnR2V0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG9yaWdHZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEVsZW1lbnRbcHJvcGVydHlTdHJpbmcgKyBcIl9ub3NoaW1fXCJdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBwcm94eS5vcmlnaW5hbFNldHRlcnNbJ3NldF8nICsgcHJvcGVydHlTdHJpbmcgKyAnX29yaWdpbmFsJ10gPSBvcmlnaW5hbEVsZW1lbnQuX19sb29rdXBTZXR0ZXJfXyhwcm9wZXJ0eVN0cmluZyk7XG4gICAgICAgICAgICAvLyBEZWZpbmUgb3VyIHNldCBmdW5jdGlvbiBiYXNlZCBvbiB3aGV0aGVyIHRoZSBwcm9wZXJ0eSBpcyBhIGJvb2wgdHlwZSBvciBub3RcbiAgICAgICAgICAgIHZhciBzZXRGdW5jdGlvbiA9IEF1ZGlvRWxlbWVudFNoaW0uYm9vbFNoaW1tZWRQcm9wZXJ0aWVzLmluY2x1ZGVzKHByb3BlcnR5U3RyaW5nKSA/XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb3h5LnNldElkbEF0dHJpYnV0ZShwcm9wZXJ0eVN0cmluZywgdmFsdWUgPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHkuc2V0SWRsQXR0cmlidXRlKHByb3BlcnR5U3RyaW5nLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3JpZ2luYWxFbGVtZW50LCBwcm9wZXJ0eVN0cmluZywge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJveHkucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnR2V0LmFwcGx5KG9yaWdpbmFsRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRTaGltW1wiICsgcHJveHkuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6Z2V0IC0gXCIgKyBwcm9wZXJ0eVN0cmluZyArIFwiPVwiICsgcHJveHlbcHJvcGVydHlTdHJpbmddKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5W3Byb3BlcnR5U3RyaW5nXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHByb3h5LmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OnNldCAtIFwiICsgcHJvcGVydHlTdHJpbmcgKyBcIj1cIiArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RnVuY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEZpbmFsbHkgc3RvcmUgdGhlIHZhbHVlIG9idGFpbmVkIGZyb20gdGhlIG9yaWdpbmFsIGVsZW1lbnQgb24gb3VyIHByb3h5LlxuICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHdlIGRvbid0IHNldCB0aGUgdmFsdWUgb24gdGhlIG9yaWdpbmFsIGVsZW1lbnQsIGJlY2F1c2UgZXhwbGljaXRseSBzZXR0aW5nIGEgdmFsdWUgY2FuIGNoYW5nZSB0aGVcbiAgICAgICAgICAgIC8vIGludGVybmFsIHN0YXRlIG9mIHRoZSBvcmlnaW5hbCBlbGVtZW50LCBldmVuIGlmIHRoZSB2YWx1ZSBiZWluZyBzZXQgaXMgdW5jaGFuZ2VkLlxuICAgICAgICAgICAgdmFyIHNldFZhbHVlID0gQXVkaW9FbGVtZW50U2hpbS5ib29sU2hpbW1lZFByb3BlcnRpZXMuaW5jbHVkZXMocHJvcGVydHlTdHJpbmcpID9cbiAgICAgICAgICAgICAgICAob3JpZ2luYWxWYWx1ZSA/IHRydWUgOiBmYWxzZSkgOiBvcmlnaW5hbFZhbHVlO1xuICAgICAgICAgICAgcHJveHlbcHJvcGVydHlTdHJpbmddID0gc2V0VmFsdWU7XG4gICAgICAgICAgICBpZiAocHJvcGVydHlTdHJpbmcgPT0gJ3NyYycgJiYgc2V0VmFsdWUgIT0gbnVsbCAmJiBzZXRWYWx1ZSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgLy8gbm9uLWVtcHR5IHNyYyBpc24ndCBzdXBwb3J0ZWQgZm9yIFdlYlJUQyBzY2VuYXJpb1xuICAgICAgICAgICAgICAgIHByb3h5LnN3aXRjaFRvTG9jYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHJlZGlyZWN0aW9uIGhhcyBub3QgYWxyZWFkeSBiZWVuIGRpc2FibGVkLCBhbHNvIHNldCB0aGUgdmFsdWUgb24gdGhlIHJlZGlyZWN0aW9uIG9iamVjdC5cbiAgICAgICAgICAgIGlmIChwcm94eS5wbGF5YmFja1BhdGhNb2RlICE9IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgICAgIHByb3h5LmF1ZGlvRWxlbWVudFJlZGlyZWN0WydzZXRJZGxBdHRyaWJ1dGUnXS5hcHBseShwcm94eS5hdWRpb0VsZW1lbnRSZWRpcmVjdCwgW3Byb3BlcnR5U3RyaW5nLCBzZXRWYWx1ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgQXVkaW9FbGVtZW50U2hpbS5ldmVudEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50TmFtZSkge1xuICAgICAgICAgICAgLy8gaW1wbGVtZW50YXRpb24gYmFzZWQgb24gb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UgZnJvbSBodHRwczovL3dlYnJ0Yy5naXRodWIuaW8vYWRhcHRlci9hZGFwdGVyLWxhdGVzdC5qc1xuICAgICAgICAgICAgdmFyIHByb3BOYW1lID0gJ19vbicgKyBldmVudE5hbWUgKyAnZXZlbnRIYW5kbGVyJztcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcmlnaW5hbEVsZW1lbnQsICdvbicgKyBldmVudE5hbWUsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByb3h5W3Byb3BOYW1lXSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3h5W3Byb3BOYW1lXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBwcm94eVtwcm9wTmFtZV0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHByb3h5W3Byb3BOYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eVtwcm9wTmFtZV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBwcm94eVtwcm9wTmFtZV0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUuc2V0RmFsbGJhY2tPYmplY3RJZCA9IGZ1bmN0aW9uIChmYWxsYmFja09iamVjdElkKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6ZmFsbGJhY2tPYmplY3RJZFwiKTtcbiAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdElkID0gZmFsbGJhY2tPYmplY3RJZDtcbiAgICB9O1xuICAgIEF1ZGlvRWxlbWVudFNoaW0ucHJvdG90eXBlLnN3aXRjaFRvTG9jYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c3dpdGNoVG9Mb2NhbFwiKTtcbiAgICAgICAgaWYgKHRoaXMucGxheWJhY2tQYXRoTW9kZSA9PSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuVU5LTk9XTikge1xuICAgICAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnRSZWRpcmVjdC5jYW5jZWxSZW1vdGUoKTtcbiAgICAgICAgICAgIHRoaXMucGxheWJhY2tQYXRoTW9kZSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTDtcbiAgICAgICAgICAgIHRoaXMuZmFsbGJhY2tPYmplY3RNYW5hZ2VyLnN3aXRjaFRvTG9jYWwodGhpcy5mYWxsYmFja09iamVjdElkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUuc3dpdGNoVG9SZW1vdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c3dpdGNoVG9SZW1vdGVcIik7XG4gICAgICAgIGlmICh0aGlzLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV04pIHtcbiAgICAgICAgICAgIHRoaXMucGxheWJhY2tQYXRoTW9kZSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5SRU1PVEU7XG4gICAgICAgICAgICB0aGlzLmZhbGxiYWNrT2JqZWN0TWFuYWdlci5zd2l0Y2hUb1JlbW90ZSh0aGlzLmZhbGxiYWNrT2JqZWN0SWQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRTaGltLnByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFNoaW06OmFwcGVuZENoaWxkOiBcIiArIGNoaWxkLm5vZGVOYW1lKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBzaGltWydhcHBlbmRDaGlsZF9vcmlnaW5hbCddLmFwcGx5KHNoaW0ub3JpZ2luYWxFbGVtZW50LCBbY2hpbGRdKTtcbiAgICAgICAgLy8gT25lIG9yIG1vcmUgc291cmNlIGVsZW1lbnRzIG1heSBiZSBhZGRlZCBhcyBjaGlsZHJlbiBvZiBhbiBhdWRpbyBlbGVtZW50IG5vZGUuXG4gICAgICAgIC8vIFRoZSBwdXJwb3NlIG9mIGVhY2ggc291cmNlIGVsZW1lbnQgaXMgdG8gcHJvdmlkZSBhICdzcmMnIGF0dHJpYnV0ZS4gU2luY2UgJ3NyYycgYXR0cmlidXRlc1xuICAgICAgICAvLyBpbXBseSBsb2NhbCBwbGF5YmFjaywgd2UgaW1tZWRpYXRlbHkgc3dpdGNoIHRvIGxvY2FsIHBsYXliYWNrIGF0IHRoaXMgcG9pbnQuXG4gICAgICAgIGlmIChjaGlsZC5ub2RlTmFtZSA9PSBcIlNPVVJDRVwiKSB7XG4gICAgICAgICAgICBzaGltLnN3aXRjaFRvTG9jYWwoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUubG9jYWxPclJlbW90ZUV4ZWN1dGUgPSBmdW5jdGlvbiAoZnVuY3Rpb25OYW1lLCBhcmdzQXJyYXkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9BU1NFUlQoQXVkaW9FbGVtZW50U2hpbS5zaGltbWVkTWV0aG9kcy5pbmNsdWRlcyhmdW5jdGlvbk5hbWUpIHx8IGZ1bmN0aW9uTmFtZSA9PSAnc2V0SWRsQXR0cmlidXRlJyk7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIGxvY2FsRnVuY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXNbZnVuY3Rpb25OYW1lICsgJ19vcmlnaW5hbCddLmFwcGx5KF90aGlzLm9yaWdpbmFsRWxlbWVudCwgYXJnc0FycmF5KTtcbiAgICAgICAgfTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnBsYXliYWNrUGF0aE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlJFTU9URTpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMuYXVkaW9FbGVtZW50UmVkaXJlY3RbZnVuY3Rpb25OYW1lXS5hcHBseSh0aGlzLmF1ZGlvRWxlbWVudFJlZGlyZWN0LCBhcmdzQXJyYXkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuVU5LTk9XTjpcbiAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSA9IHRoaXMuYXVkaW9FbGVtZW50UmVkaXJlY3RbZnVuY3Rpb25OYW1lXS5hcHBseSh0aGlzLmF1ZGlvRWxlbWVudFJlZGlyZWN0LCBhcmdzQXJyYXkpO1xuICAgICAgICAgICAgICAgIGlmIChBdWRpb0VsZW1lbnRTaGltLnBvc3RGYWxsYmFja1F1ZXVlTWV0aG9kcy5pbmNsdWRlcyhmdW5jdGlvbk5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFsbGJhY2tPYmplY3RNYW5hZ2VyLnF1ZXVlRmFsbGJhY2tGdW5jdGlvbih0aGlzLmZhbGxiYWNrT2JqZWN0SWQsIGxvY2FsRnVuY3Rpb24sIGZhbGxiYWNrT2JqZWN0TWFuYWdlcl8xLlF1ZXVlVHlwZS5QT1NURkFMTEJBQ0spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdE1hbmFnZXIucXVldWVGYWxsYmFja0Z1bmN0aW9uKHRoaXMuZmFsbGJhY2tPYmplY3RJZCwgbG9jYWxGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUw6XG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsdWUgPSBsb2NhbEZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpsb2NhbE9yUmVtb3RlRXhlY3V0ZSAtIGZ1bmN0aW9uTmFtZT1cIiArIGZ1bmN0aW9uTmFtZSArIFwiIGFyZ3M9XCIgKyBhcmdzQXJyYXkgKyBcIiByZXR1cm49XCIgKyByZXR1cm5WYWx1ZSk7XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgICB9O1xuICAgIC8vIFVzZWQgZm9yICdwbGF5Jywgd2hpY2ggaGFzIHNvbWUgY29tcGxleCBsb2dpYyB3aXRoIGNoYWluaW5nIHByb21pc2VzXG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUubG9jYWxPclJlbW90ZUV4ZWN1dGVGdW5jdGlvbnMgPSBmdW5jdGlvbiAobG9jYWxGdW5jdGlvbiwgcmVtb3RlRnVuY3Rpb24pIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnBsYXliYWNrUGF0aE1vZGUpIHtcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlJFTU9URTpcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3RlRnVuY3Rpb24oKTtcbiAgICAgICAgICAgIGNhc2UgZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV046XG4gICAgICAgICAgICAgICAgdGhpcy5mYWxsYmFja09iamVjdE1hbmFnZXIucXVldWVGYWxsYmFja0Z1bmN0aW9uKHRoaXMuZmFsbGJhY2tPYmplY3RJZCwgbG9jYWxGdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZUZ1bmN0aW9uKCk7XG4gICAgICAgICAgICBjYXNlIGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxGdW5jdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zZXRDb250ZW50QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c2V0Q29udGVudEF0dHJpYnV0ZSAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyB2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnBsYXliYWNrUGF0aE1vZGUgPT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLlVOS05PV04pIHtcbiAgICAgICAgICAgIGlmIChuYW1lID09ICdzcmMnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBub24tZW1wdHkgc3JjIGlzbid0IHN1cHBvcnRlZCBmb3IgV2ViUlRDIHNjZW5hcmlvXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9Mb2NhbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wbGF5YmFja1BhdGhNb2RlICE9IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgdGhpcy5hdWRpb0VsZW1lbnRSZWRpcmVjdC5vbkNvbnRlbnRBdHRyaWJ1dGVVcGRhdGVkKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUuc2V0SWRsQXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c2V0SWRsQXR0cmlidXRlIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICAgICAgICBpZiAobmFtZSA9PSAnc3JjT2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBJcyB0aGUgc291cmNlIG91ciBNZWRpYVN0cmVhbT9cbiAgICAgICAgICAgICAgICBpZiAodmFsdWVbJ2lzTVNSRENPYmplY3QnXSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaFRvUmVtb3RlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFNoaW1bXCIgKyB0aGlzLmZhbGxiYWNrT2JqZWN0SWQgKyBcIl06OnNldElkbEF0dHJpYnV0ZSAtIHNyY09iamVjdCBiZWluZyBzZXQgdG8gbm9uLVdlYlJUQyBvYmplY3RcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3dpdGNoVG9Mb2NhbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChuYW1lID09ICdzcmMnICYmIHZhbHVlICE9IG51bGwgJiYgdmFsdWUgIT0gXCJcIikge1xuICAgICAgICAgICAgLy8gbm9uLWVtcHR5IHNyYyBpc24ndCBzdXBwb3J0ZWQgZm9yIFdlYlJUQyBzY2VuYXJpb1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hUb0xvY2FsKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgnc2V0SWRsQXR0cmlidXRlJywgW25hbWUsIHZhbHVlXSk7XG4gICAgfTtcbiAgICAvLyBET00gRWxlbWVudCBtZXRob2RzIChub3QgaW5jbHVkaW5nIGV2ZW50IGxpc3RlbmVyIG1ldGhvZHMpXG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6c2V0QXR0cmlidXRlIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICAvLyBTZXQgb24gdGhlIG9yaWdpbmFsIGVsZW1lbnQgYW5kIHRoZW4gaGFuZGxlIG91cnNldmxlcyB0b28uIFxuICAgICAgICAvLyBXZSBkbyB0aGlzIGFzIHdlIHdhbnQgdG8gcHJvY2VzcyB0aGUgY2hhbmdlIHJpZ2h0IGF3YXkgYW5kIG5vdCB3YWl0IGZvciB0aGUgbXV0YXRpb24gY2FsbGJhY2suXG4gICAgICAgIHNoaW1bJ3NldEF0dHJpYnV0ZV9vcmlnaW5hbCddLmFwcGx5KHNoaW0ub3JpZ2luYWxFbGVtZW50LCBbbmFtZSwgdmFsdWVdKTtcbiAgICAgICAgc2hpbS5zZXRDb250ZW50QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuICAgIEF1ZGlvRWxlbWVudFNoaW0ucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbVtcIiArIHRoaXMuZmFsbGJhY2tPYmplY3RJZCArIFwiXTo6cmVtb3ZlQXR0cmlidXRlIC0gbmFtZTogXCIgKyBuYW1lKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICAvLyBDYWxsIG9uIHRoZSBvcmlnaW5hbCBlbGVtZW50IHRvIHJlbW92ZSBhbmQgdGhlbiBoYW5kbGUgb3Vyc2V2bGVzIHRvby4gXG4gICAgICAgIC8vIFdlIGRvIHRoaXMgYXMgd2Ugd2FudCB0byBwcm9jZXNzIHRoZSBjaGFuZ2UgcmlnaHQgYXdheSBhbmQgbm90IHdhaXQgZm9yIHRoZSBtdXRhdGlvbiBjYWxsYmFjay5cbiAgICAgICAgc2hpbVsncmVtb3ZlQXR0cmlidXRlX29yaWdpbmFsJ10uYXBwbHkoc2hpbS5vcmlnaW5hbEVsZW1lbnQsIFtuYW1lXSk7XG4gICAgICAgIHNoaW0uc2V0Q29udGVudEF0dHJpYnV0ZShuYW1lLCB1bmRlZmluZWQpO1xuICAgIH07XG4gICAgLy8gSFRNTE1lZGlhRWxlbWVudCBzaGltbWVkIG1ldGhvZHNcbiAgICBBdWRpb0VsZW1lbnRTaGltLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpwYXVzZVwiKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICBpZiAoc2hpbS5wbGF5YmFja1BhdGhNb2RlICE9IGVsZW1lbnRTaGltQ29tbW9uXzEuUGxheWJhY2tQYXRoTW9kZS5MT0NBTCkge1xuICAgICAgICAgICAgLy8gJ3dvcmthcm91bmQnIHRvIHNldCByZWFkb25seSBhdHRyaWJ1dGUgb24gZ2VuZXJpYyBvYmplY3RcbiAgICAgICAgICAgIGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNoaW0ubG9jYWxPclJlbW90ZUV4ZWN1dGUoJ3BhdXNlJywgW10pO1xuICAgIH07XG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpwbGF5XCIpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGlmIChzaGltLnBsYXliYWNrUGF0aE1vZGUgIT0gZWxlbWVudFNoaW1Db21tb25fMS5QbGF5YmFja1BhdGhNb2RlLkxPQ0FMKSB7XG4gICAgICAgICAgICAvLyAnd29ya2Fyb3VuZCcgdG8gc2V0IHJlYWRvbmx5IGF0dHJpYnV0ZSBvbiBnZW5lcmljIG9iamVjdFxuICAgICAgICAgICAgZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxQbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNoaW1bJ3BsYXlfb3JpZ2luYWwnXS5hcHBseShzaGltLm9yaWdpbmFsRWxlbWVudCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7IHJlc29sdmUoKTsgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7IHJlamVjdChlcnJvcik7IH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciByZW1vdGVQbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHNoaW0uYXVkaW9FbGVtZW50UmVkaXJlY3QucGxheSgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXNvbHZlKCk7IH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlRnVuY3Rpb25zKGxvY2FsUGxheSwgcmVtb3RlUGxheSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gVGhpcyBpcyBvbmx5IHByZXNlbnQgaW4gbmV3ZXIgdmVyc2lvbnMgb2YgdGhlIERPTS5cbiAgICBBdWRpb0VsZW1lbnRTaGltLnByb3RvdHlwZS5zZXRTaW5rSWQgPSBmdW5jdGlvbiAoc2lua0lkKSB7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRTaGltW1wiICsgdGhpcy5mYWxsYmFja09iamVjdElkICsgXCJdOjpzZXRTaW5rSWQ6IGVsZW1lbnRJZDogXCIgKyBzaGltLm9yaWdpbmFsRWxlbWVudC5pZCk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgbG9jYWxTZXRTaW5rSWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gU2luY2Ugd2UgcmVkaXJlY3QgTWVkaWFEZXZpY2VzLCB0aGUgZGV2aWNlIGlkcyB3aWxsIGFsbCBiZSByZWRpcmVjdGVkIG9uZXMsIGFuZCB3aWxsIG5vdCBiZSByZWNnb25pemVkIGJ5IHRoZSBsb2NhbCBtZWRpYSBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFdoZW4gYSBsb2NhbCBtZWRpYSBlbGVtZW50IGlzIHVzZWQgaW4gYSBSRCBzZXNzaW9uLCB0aGVyZSB3aWxsIGJlIGVpdGhlciB6ZXJvIG9yIG9uZSBhdWRpbyBkZXZpY2VzIGFueXdheSwgc28gd2UgY2FuIHNpbXBseSBhY2NlcHRcbiAgICAgICAgICAgICAgICAvLyB0aGUgZGV2aWNlIGlkIHRoYXQgd2FzIHBhc3NlZCBpbiBhbmQgbGV0IHRoZSBhdWRpbyBkZXZpY2UgdXNlIHRoZSBkZWZhdWx0IGF1ZGlvIG91dHB1dCBkZXZpY2UsIHdoaWNoIGlzIHRoZSBvbmx5IHBvc3NpYmxlIGNob2ljZS5cbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkFjY2VwdGluZyB0aGUgcmVxdWVzdGVkIGRldmljZSBpZCB3aGVuIGV4ZWN1dGluZyBzZXRTaW5rSWQgb24gbG9jYWwgZWxlbWVudFwiKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIHJlbW90ZVNldFNpbmtJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzaGltLmF1ZGlvRWxlbWVudFJlZGlyZWN0LnNldFNpbmtJZChzaW5rSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgeyByZXNvbHZlKCk7IH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgeyByZWplY3QoZXJyb3IpOyB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlRnVuY3Rpb25zKGxvY2FsU2V0U2lua0lkLCByZW1vdGVTZXRTaW5rSWQpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIENvbW1vbiBzaGltbWVkIG1ldGhvZHMgICAgXG4gICAgQXVkaW9FbGVtZW50U2hpbS5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFNoaW06OmFkZEV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA/IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdCh0aGlzKSA6IHRoaXM7XG4gICAgICAgIGlmICghQXVkaW9FbGVtZW50U2hpbS5ldmVudEhhbmRsZXJzLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2hpbVsnYWRkRXZlbnRMaXN0ZW5lcl9vcmlnaW5hbCddLmFwcGx5KHNoaW0ub3JpZ2luYWxFbGVtZW50LCBbdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnNdKTtcbiAgICAgICAgfVxuICAgICAgICBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdhZGRFdmVudExpc3RlbmVyJywgW3R5cGUsIGxpc3RlbmVyLCBvcHRpb25zXSk7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRTaGltLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50U2hpbTo6cmVtb3ZlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgIHZhciBzaGltID0gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpID8gZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHRoaXMpIDogdGhpcztcbiAgICAgICAgLy8gYWx3YXlzIGNhbGwgb3JpZ2luYWwgcmVtb3ZlRXZlbnRMaXN0ZW5lciBpbiBjYXNlIGxpc3RlbmVyIHdhcyByZWdpc3RlcmVkIHByZS1zaGltXG4gICAgICAgIHZhciByZXQgPSBzaGltWydyZW1vdmVFdmVudExpc3RlbmVyX29yaWdpbmFsJ10uYXBwbHkoc2hpbS5vcmlnaW5hbEVsZW1lbnQsIFt0eXBlLCBsaXN0ZW5lciwgb3B0aW9uc10pO1xuICAgICAgICBpZiAoQXVkaW9FbGVtZW50U2hpbS5ldmVudEhhbmRsZXJzLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgICAgICByZXQgPSBzaGltLmxvY2FsT3JSZW1vdGVFeGVjdXRlKCdyZW1vdmVFdmVudExpc3RlbmVyJywgW3R5cGUsIGxpc3RlbmVyLCBvcHRpb25zXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuICAgIEF1ZGlvRWxlbWVudFNoaW0ucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRTaGltOjpkaXNwYXRjaEV2ZW50IC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgPyBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcykgOiB0aGlzO1xuICAgICAgICByZXR1cm4gc2hpbS5sb2NhbE9yUmVtb3RlRXhlY3V0ZSgnZGlzcGF0Y2hFdmVudCcsIFtldmVudF0pO1xuICAgIH07XG4gICAgLy8gRXZlbnRzIHN1cHBvcnRlZCBieSBob3N0IGNvbXBvbmVudFxuICAgIEF1ZGlvRWxlbWVudFNoaW0uZXZlbnRIYW5kbGVycyA9IFsnYWJvcnQnLCAnY2FucGxheScsICdjYW5wbGF5dGhyb3VnaCcsICdkdXJhdGlvbmNoYW5nZScsICdlbXB0aWVkJywgJ2VuZGVkJywgJ2Vycm9yJywgJ2xvYWRlZGRhdGEnLCAnbG9hZGVkbWV0YWRhdGEnLFxuICAgICAgICAnbG9hZHN0YXJ0JywgJ3BhdXNlJywgJ3BsYXknLCAncGxheWluZycsICdwcm9ncmVzcycsICdyYXRlY2hhbmdlJywgJ3NlZWtlZCcsICdzZWVraW5nJywgJ3N0YWxsZWQnLCAnc3VzcGVuZCcsICd0aW1ldXBkYXRlJywgJ3ZvbHVtZWNoYW5nZScsICd3YWl0aW5nJ107XG4gICAgLy8gTGlzdCBvZiBvcmlnaW5hbEVsZW1lbnQgZnVuY3Rpb25zIHdlIHJlZGlyZWN0XG4gICAgQXVkaW9FbGVtZW50U2hpbS5zaGltbWVkTWV0aG9kcyA9IFsnYXBwZW5kQ2hpbGQnLCAnc2V0QXR0cmlidXRlJywgJ3JlbW92ZUF0dHJpYnV0ZScsICdwbGF5JywgJ3BhdXNlJywgJ3NldFNpbmtJZCcsICdhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInLCAnZGlzcGF0Y2hFdmVudCddO1xuICAgIEF1ZGlvRWxlbWVudFNoaW0uc2hpbW1lZFByb3BlcnRpZXMgPSBhdWRpb0VsZW1lbnRfcmVkaXJlY3RfMS5BdWRpb0VsZW1lbnRSZWRpcmVjdC5yZWRpcmVjdEF0dHJpYnV0ZXM7XG4gICAgQXVkaW9FbGVtZW50U2hpbS5ib29sU2hpbW1lZFByb3BlcnRpZXMgPSBhdWRpb0VsZW1lbnRfcmVkaXJlY3RfMS5BdWRpb0VsZW1lbnRSZWRpcmVjdC5ib29sUmVkaXJlY3RBdHRyaWJ1dGVzO1xuICAgIC8vIER1cmluZyBzd2l0Y2hUb0xvY2FsLCBldmVudCBsaXN0ZW5lciBtZXRob2RzIHNob3VsZCBiZSBleGVjdXRlZCBhZnRlcndhcmRzIHNvIHRoYXRcbiAgICAvLyBjYWxsZXJzIGRvIG5vdCByZWNlaXZlIGV2ZW50IG5vdGlmaWNhdGlvbnMgdHdpY2UgKG9uY2UgZnJvbSBzaGltLCBhbmQgb25jZSBmcm9tIG9yaWdpbmFsKVxuICAgIEF1ZGlvRWxlbWVudFNoaW0ucG9zdEZhbGxiYWNrUXVldWVNZXRob2RzID0gWydhZGRFdmVudExpc3RlbmVyJywgJ3JlbW92ZUV2ZW50TGlzdGVuZXInXTtcbiAgICByZXR1cm4gQXVkaW9FbGVtZW50U2hpbTtcbn0oKSk7XG5leHBvcnRzLkF1ZGlvRWxlbWVudFNoaW0gPSBBdWRpb0VsZW1lbnRTaGltO1xuZnVuY3Rpb24gc2V0dXBBdWRpb0VsZW1lbnRTaGltcyhyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uLCBhdWRpb0VsZW1lbnQpIHtcbiAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlNoaW1taW5nIGF1ZGlvIGVsZW1lbnQ6IFwiICsgYXVkaW9FbGVtZW50Lm91dGVySFRNTCk7XG4gICAgdmFyIGF1ZGlvRWxlbWVudFNoaW0gPSBuZXcgQXVkaW9FbGVtZW50U2hpbShyZW1vdGVPYmplY3RNYW5hZ2VyLCBmYWxsYmFja09iamVjdE1hbmFnZXIsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uLCBhdWRpb0VsZW1lbnQpO1xuICAgIHJldHVybiBhdWRpb0VsZW1lbnQ7XG59XG5leHBvcnRzLnNldHVwQXVkaW9FbGVtZW50U2hpbXMgPSBzZXR1cEF1ZGlvRWxlbWVudFNoaW1zO1xuZnVuY3Rpb24gc2hpbUF1ZGlvQ2xhc3MocmVtb3RlT2JqZWN0TWFuYWdlciwgZmFsbGJhY2tPYmplY3RNYW5hZ2VyLCBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbikge1xuICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiU2hpbW1pbmcgSmF2YVNjcmlwdCBBdWRpbyBjbGFzc1wiKTtcbiAgICBNbXJBdWRpby5yZW1vdGVPYmplY3RNYW5hZ2VyID0gcmVtb3RlT2JqZWN0TWFuYWdlcjtcbiAgICBNbXJBdWRpby5mYWxsYmFja09iamVjdE1hbmFnZXIgPSBmYWxsYmFja09iamVjdE1hbmFnZXI7XG4gICAgTW1yQXVkaW8ub2NjbHVzaW9uU3VwcG9ydFZlcnNpb24gPSBvY2NsdXNpb25TdXBwb3J0VmVyc2lvbjtcbiAgICB3aW5kb3cuQXVkaW8gPSBNbXJBdWRpbztcbn1cbmV4cG9ydHMuc2hpbUF1ZGlvQ2xhc3MgPSBzaGltQXVkaW9DbGFzcztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5BdWRpb0VsZW1lbnRSZWRpcmVjdCA9IHZvaWQgMDtcbnZhciBlbGVtZW50U2hpbUNvbW1vbl8xID0gcmVxdWlyZShcIi4vZWxlbWVudFNoaW1Db21tb25cIik7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBBdWRpb0VsZW1lbnRSZWRpcmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBdWRpb0VsZW1lbnRSZWRpcmVjdChyZW1vdGVPYmplY3RNYW5hZ2VyLCBvcmlnaW5hbEVsZW1lbnQsIG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uKSB7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlciA9IHJlbW90ZU9iamVjdE1hbmFnZXI7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFbGVtZW50ID0gb3JpZ2luYWxFbGVtZW50O1xuICAgICAgICB0aGlzLm9jY2x1c2lvblN1cHBvcnRWZXJzaW9uID0gb2NjbHVzaW9uU3VwcG9ydFZlcnNpb247XG4gICAgICAgIC8vIFNoaW0gYXR0cmlidXRlc1xuICAgICAgICB0aGlzLmxvY2FsT2JqZWN0SWQgPSAwO1xuICAgICAgICB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN3aXRjaFRvTG9jYWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmNyZWF0ZU9iamVjdCh0aGlzLCBcIkF1ZGlvRWxlbWVudFwiLCB7IFwib2NjbHVzaW9uU3VwcG9ydFZlcnNpb25cIjogb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24gfSk7XG4gICAgICAgIC8vIE11dGF0aW9uIG9ic2VydmVyIGZvciBjb250ZW50IChIVE1MKSBhdHRyaWJ1dGUgc2V0IG9uIHRoZSBvcmlnaW5hbCBlbGVtZW50XG4gICAgICAgIHZhciBwcm94eSA9IHRoaXM7XG4gICAgICAgIHZhciBtdXRhdGlvblRhcmdldCA9IG9yaWdpbmFsRWxlbWVudDtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSB9O1xuICAgICAgICB2YXIgbXV0YXRpb25DYWxsYmFjayA9IGZ1bmN0aW9uIChtdXRhdGlvbnNMaXN0LCBvYnNlcnZlcikge1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtdXRhdGlvbnNMaXN0XzEgPSBtdXRhdGlvbnNMaXN0OyBfaSA8IG11dGF0aW9uc0xpc3RfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbXV0YXRpb24gPSBtdXRhdGlvbnNMaXN0XzFbX2ldO1xuICAgICAgICAgICAgICAgIHByb3h5Lm9uQ29udGVudEF0dHJpYnV0ZVVwZGF0ZWQobXV0YXRpb24uYXR0cmlidXRlTmFtZSwgbXV0YXRpb25UYXJnZXQuaGFzQXR0cmlidXRlKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpID8gbXV0YXRpb25UYXJnZXQuZ2V0QXR0cmlidXRlKG11dGF0aW9uLmF0dHJpYnV0ZU5hbWUpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIobXV0YXRpb25DYWxsYmFjayk7XG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKG11dGF0aW9uVGFyZ2V0LCBjb25maWcpO1xuICAgIH1cbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUub25Db250ZW50QXR0cmlidXRlVXBkYXRlZCA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpvbkNvbnRlbnRBdHRyaWJ1dGVVcGRhdGVkIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5vcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICAvLyBTZXR0aW5nL3JlbW92aW5nIHRoZSBtdXRlZCBhdHRyaWJ1dGUgZG9lcyBub3QgY2hhbmdlIHRoZSBtdXRlZCBzdGF0ZVxuICAgICAgICBpZiAobmFtZSAhPSBcIm11dGVkXCIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIG5vdCBsb2NhbCBhbmQgdGhpcyBpcyBhIHJlZGlyZWN0ZWQgYXR0cmlidXRlIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHRoZXJlIGlzIGFjdHVhbGx5IGEgY2hhbmdlIGluIHZhbHVlIHNvIHdlIGRvbid0IG5vdGlmeSBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSBib29sIGF0dHJpYnV0ZSB3ZSBhbHNvIGNvbnZlcnQgdG8gYSBib29sIGJhc2VkIHZhbHVlLCB3aGVyZSBzdHJpbmcgcHJlc2VuY2UgPSB0cnVlIGFuZCB1bmRlZmluZWQgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKHNoaW0ucGxheWJhY2tQYXRoTW9kZSAhPSBlbGVtZW50U2hpbUNvbW1vbl8xLlBsYXliYWNrUGF0aE1vZGUuTE9DQUwpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXVkaW9FbGVtZW50UmVkaXJlY3QucmVkaXJlY3RBdHRyaWJ1dGVzLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBdWRpb0VsZW1lbnRSZWRpcmVjdC5ib29sUmVkaXJlY3RBdHRyaWJ1dGVzLmluY2x1ZGVzKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9vbFZhbHVlID0gdmFsdWUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGltW25hbWVdICE9IGJvb2xWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoaW1bbmFtZV0gPSBib29sVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJZGxBdHRyaWJ1dGUobmFtZSwgYm9vbFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaGltW25hbWVdICE9IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hpbVtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SWRsQXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLnNldElkbEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRJZGxBdHRyaWJ1dGVbQkVHSU5dIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIHZhbHVlKTtcbiAgICAgICAgdmFyIHNlbmRWYWx1ZSA9IHZhbHVlO1xuICAgICAgICBpZiAobmFtZSA9PSBcInNyY09iamVjdFwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldE5ld01lZGlhU3RyZWFtKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXVkaW9FbGVtZW50UmVkaXJlY3QuYm9vbFJlZGlyZWN0QXR0cmlidXRlcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlQXR0cmlidXRlIGlzIGludGVycHJldGVkIGFzIFwidW5kZWZpbmVkXCIgdmFsdWVcbiAgICAgICAgICAgIC8vIEFjY29yZGluZyB0byB0aGUgSFRNTCBkb2NzLCBhdXRvUGxheT1cImZhbHNlXCIgb3IgYXV0b1BsYXk9XCJcIiBkb2VzIG5vdCBkaXNhYmxlIGF1dG9QbGF5IGJlY2F1c2UgYXMgbG9uZyBhcyB0aGUgYXR0cmlidXRlIGlzIHByZXNlbnQsIHRydWUgaXMgaW5mZXJyZWQuXG4gICAgICAgICAgICAvLyBUaGUgb25seSB3YXkgdG8gcHJldmVudCBhdXRvUGxheSBpcyB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZS4gVG8gaW1wbGVtZW50IHRoaXMsIHdlIGNoZWNrIGZvciBzdHJpY3QgZXF1YWxpdHkgd2l0aCBcIj09PVwiLlxuICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmUgdGhhdCBlbXB0eSBzdHJpbmcsIFwiXCIgZG9lcyBub3QgZ2V0IGNhc3RlZCB0byBmYWxzZS5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNlbmRWYWx1ZSA9ICdmYWxzZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZW5kVmFsdWUgPSAndHJ1ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKEF1ZGlvRWxlbWVudFJlZGlyZWN0LnJlZGlyZWN0QXR0cmlidXRlcy5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgICAgICAgdmFyIHByb3h5XzEgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdzZXRBdHRyaWJ1dGUnLCB7ICduYW1lJzogbmFtZSwgJ3ZhbHVlJzogc2VuZFZhbHVlIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgcHJveHlfMS5sb2NhbE9iamVjdElkICsgXCJdOjpzZXRJZGxBdHRyaWJ1dGVbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZW5kIGV2ZW50cyBmb3Igd2hlbiBzcmNPYmplY3QgaXMgc2V0IHRvIGEgdmFsaWQgc291cmNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBXaGF0IGV2ZW50cywgaWYgYW55LCBzaG91bGQgYmUgc2VudCB3aGVuIHNyY09iamVjdCBpcyBzZXQgdG8gbnVsbD9cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJzcmNPYmplY3RcIiAmJiB2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eV8xLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdsb2FkZWRkYXRhJywge30pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5XzEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2NhbnBsYXknLCB7fSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHlfMS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2FucGxheXRocm91Z2gnLCB7fSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QocHJveHlfMS5vcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoaW1bJ2F1dG9wbGF5J10gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5XzEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3BsYXknLCB7fSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5XzEuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3BsYXlpbmcnLCB7fSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUgPT0gXCJ2b2x1bWVcIiB8fCBuYW1lID09IFwibXV0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHlfMS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgndm9sdW1lY2hhbmdlJywge30pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuc2V0TmV3TWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAobWVkaWFTdHJlYW0pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKG1lZGlhU3RyZWFtICE9IHRoaXMubWVkaWFTdHJlYW0pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhU3RyZWFtKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbS5yZW1vdmVFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIHRoaXMuYWRkVHJhY2tSZWYpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFTdHJlYW0ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVtb3ZldHJhY2snLCB0aGlzLnJlbW92ZVRyYWNrUmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVkaWFTdHJlYW0gPSBtZWRpYVN0cmVhbTtcbiAgICAgICAgICAgIHZhciBhdWRpb1RyYWNrID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWFTdHJlYW0pIHtcbiAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIHRoaXMuYWRkVHJhY2tSZWYgPSBmdW5jdGlvbiAoZXYpIHsgdGhhdC5tZWRpYVN0cmVhbVRyYWNrVXBkYXRlKGV2KTsgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZWRpYVN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCdyZW1vdmV0cmFjaycsIHRoaXMucmVtb3ZlVHJhY2tSZWYgPSBmdW5jdGlvbiAoZXYpIHsgdGhhdC5tZWRpYVN0cmVhbVRyYWNrVXBkYXRlKGV2KTsgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLm1lZGlhU3RyZWFtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0QXVkaW9UcmFja3MoKS5sZW5ndGgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1RyYWNrID0gKF9iID0gdGhpcy5tZWRpYVN0cmVhbSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdldEF1ZGlvVHJhY2tzKClbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRBdWRpb1RyYWNrKGF1ZGlvVHJhY2spO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUubWVkaWFTdHJlYW1UcmFja1VwZGF0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIga2luZCA9IGV2ZW50LnRyYWNrLmtpbmQ7XG4gICAgICAgIHZhciB0cmFjayA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGtpbmQgPT0gXCJhdWRpb1wiKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tZWRpYVN0cmVhbSAmJiAoKF9hID0gdGhpcy5tZWRpYVN0cmVhbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RoKSA+IDApIHtcbiAgICAgICAgICAgICAgICB0cmFjayA9IChfYiA9IHRoaXMubWVkaWFTdHJlYW0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXRBdWRpb1RyYWNrcygpWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRBdWRpb1RyYWNrKHRyYWNrLCBldmVudC50eXBlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLnNldEF1ZGlvVHJhY2sgPSBmdW5jdGlvbiAodHJhY2ssIGV2ZW50VHlwZSkge1xuICAgICAgICBpZiAodHJhY2sgIT0gdGhpcy5hdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvVHJhY2sgPSB0cmFjaztcbiAgICAgICAgICAgIHZhciBpZCA9IG51bGw7XG4gICAgICAgICAgICB2YXIgbmFtZV8xID0gXCJzcmNPYmplY3RcIjtcbiAgICAgICAgICAgIGlmICh0aGlzLmF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICBpZCA9IHRoaXMuYXVkaW9UcmFjay5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm94eV8yID0gdGhpcztcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50UmVkaXJlY3RbXCIgKyBwcm94eV8yLmxvY2FsT2JqZWN0SWQgKyBcIl06OnNldEF1ZGlvVHJhY2tbQkVHSU5dIC0gdHJhY2s6IFwiICsgaWQpO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdzZXRBdHRyaWJ1dGUnLCB7ICduYW1lJzogbmFtZV8xLCAndmFsdWUnOiBpZCB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRSZWRpcmVjdFtcIiArIHByb3h5XzIubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0QXVkaW9UcmFja1tFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSAwICYmIGV2ZW50VHlwZSAhPSAncmVtb3ZldHJhY2snKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNlbmQgZXZlbnRzIGZvciB3aGVuIHNyY09iamVjdCBpcyBzZXQgdG8gYSB2YWxpZCBzb3VyY2UuXG4gICAgICAgICAgICAgICAgICAgIHByb3h5XzIuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ2xvYWRlZGRhdGEnLCB7fSkpO1xuICAgICAgICAgICAgICAgICAgICBwcm94eV8yLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCdjYW5wbGF5Jywge30pKTtcbiAgICAgICAgICAgICAgICAgICAgcHJveHlfMi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnY2FucGxheXRocm91Z2gnLCB7fSkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2hpbSA9IGVsZW1lbnRTaGltQ29tbW9uXzEuZ2V0U2hpbU9iamVjdChwcm94eV8yLm9yaWdpbmFsRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaGltWydhdXRvcGxheSddID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3h5XzIuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoJ3BsYXknLCB7fSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJveHlfMi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGxheWluZycsIHt9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLnNldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAobG9jYWxPYmplY3RJZCkge1xuICAgICAgICB0aGlzLmxvY2FsT2JqZWN0SWQgPSBsb2NhbE9iamVjdElkO1xuICAgIH07XG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLmdldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxvY2FsT2JqZWN0SWQ7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuY2FuY2VsUmVtb3RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpjYW5jZWxSZW1vdGVbQkVHSU5dXCIpO1xuICAgICAgICB0aGlzLnN3aXRjaFRvTG9jYWwgPSB0cnVlO1xuICAgICAgICAvLyBTdG9wIG91ciBsaXN0ZW5lcnMvb2JzZXJ2ZXJzXG4gICAgICAgIHRoaXMubXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUub25SZW1vdGVPYmplY3RDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdEFjdGl2ZSA9IHRydWU7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuaW52b2tlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6aW52b2tlRXZlbnQgLSB0eXBlOiBcIiArIGV2ZW50LnR5cGUpO1xuICAgICAgICBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5vcmlnaW5hbEVsZW1lbnQpWydkaXNwYXRjaEV2ZW50X29yaWdpbmFsJ10uYXBwbHkodGhpcy5vcmlnaW5hbEVsZW1lbnQsIFtldmVudF0pO1xuICAgIH07XG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLmludm9rZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06Omludm9rZUV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIGV2ZW50LnR5cGUpO1xuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5vcmlnaW5hbEVsZW1lbnQpLnN3aXRjaFRvTG9jYWwoXCJBdWRpb0VsZW1lbnRSZWRpcmVjdCByZWNlaXZlZCBhbiBlcnJvciBldmVudC5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxpc3RlbmVyLmhhbmRsZUV2ZW50ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbGlzdGVuZXIuaGFuZGxlRXZlbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBzaGltID0gdGhpcy5vcmlnaW5hbEVsZW1lbnQ7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICd0YXJnZXQnLCB7IHZhbHVlOiBzaGltIH0pO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHsgdmFsdWU6IHNoaW0gfSk7XG4gICAgICAgICAgICBsaXN0ZW5lci5hcHBseShzaGltLCBbZXZlbnRdKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QucHJvdG90eXBlLm9uQXR0cmlidXRlVXBkYXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpvbkF0dHJpYnV0ZVVwZGF0ZSAtIG5hbWU6IFwiICsgbmFtZSArIFwiLCB2YWx1ZTogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgdmFyIHNoaW0gPSBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5vcmlnaW5hbEVsZW1lbnQpO1xuICAgICAgICBpZiAobmFtZSA9PSBcImJ1ZmZlcmVkXCIgfHwgbmFtZSA9PSBcInNlZWthYmxlXCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gZWxlbWVudFNoaW1Db21tb25fMS5jcmVhdGVUaW1lUmFuZ2VzKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBzaGltW25hbWVdID0gdmFsdWU7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUub25Db25uZWN0aW9uRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06Om9uQ29ubmVjdGlvbkV2ZW50IC0gZXZlbnRUeXBlOiBcIiArIGV2ZW50VHlwZSk7XG4gICAgICAgIGlmIChldmVudFR5cGUgPT0gXCJjbGllbnREaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFR5cGUgPT0gXCJzd2l0Y2hUb1JlbW90ZVwiKSB7XG4gICAgICAgICAgICBlbGVtZW50U2hpbUNvbW1vbl8xLmdldFNoaW1PYmplY3QodGhpcy5vcmlnaW5hbEVsZW1lbnQpLnN3aXRjaFRvUmVtb3RlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIEhUTUxNZWRpYUVsZW1lbnQgbWV0aG9kc1xuICAgIEF1ZGlvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6cGF1c2VbQkVHSU5dXCIpO1xuICAgICAgICB2YXIgcHJveHkgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3BhdXNlJywgeyB0eXBlOiAnYXVkaW8nIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50UmVkaXJlY3RbXCIgKyBwcm94eS5sb2NhbE9iamVjdElkICsgXCJdOjpwYXVzZVtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09IDApIHtcbiAgICAgICAgICAgICAgICBwcm94eS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGF1c2UnLCB7fSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF1ZGlvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpwbGF5W0JFR0lOXVwiKTtcbiAgICAgICAgdmFyIHByb3h5ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHByb3h5LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHByb3h5LmxvY2FsT2JqZWN0SWQsICdwbGF5JywgeyB0eXBlOiAnYXVkaW8nIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpwbGF5W0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFNoaW1Db21tb25fMS5nZXRTaGltT2JqZWN0KHByb3h5Lm9yaWdpbmFsRWxlbWVudCkucGF1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGxheScsIHt9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgncGxheWluZycsIHt9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm94eS5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCgnd2FpdGluZycsIHt9KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF1ZGlvRWxlbWVudFJlZGlyZWN0LnByb3RvdHlwZS5zZXRTaW5rSWQgPSBmdW5jdGlvbiAoc2lua0lkKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OnNldFNpbmtJZFtCRUdJTl0gLSBzaW5rSWQ6IFwiICsgc2lua0lkKTtcbiAgICAgICAgdmFyIHByb3h5ID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHByb3h5LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHByb3h5LmxvY2FsT2JqZWN0SWQsICdzZXRTaW5rSWQnLCB7IFwic2lua0lkXCI6IHNpbmtJZCB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJBdWRpb0VsZW1lbnRSZWRpcmVjdFtcIiArIHRoaXMubG9jYWxPYmplY3RJZCArIFwiXTo6c2V0U2lua0lkW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVsZW1lbnRTaGltQ29tbW9uXzEubW1yV2ViUnRjU3RhdHVzVG9ET01FcnJvcihyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gICBsZXQgc3JjID0gdGhpcy5vcmlnaW5hbEVsZW1lbnRbc2hpbVByb3h5UHJvcGVydHlOYW1lXS5zcmM7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiQXVkaW9FbGVtZW50UmVkaXJlY3RbXCIgKyB0aGlzLmxvY2FsT2JqZWN0SWQgKyBcIl06OmxvYWRbQkVHSU5dIC0gc3JjOlwiKTtcbiAgICAgICAgLyogdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdsb2FkJywgeyAnc3JjJzogc3JjIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICBNTVJfTE9HKFwiQXVkaW9FbGVtZW50UmVkaXJlY3Q6OmxvYWRbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgfSk7Ki9cbiAgICB9O1xuICAgIC8vIENvbW1vbiBzaGltbWVkIG1ldGhvZHNcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjphZGRFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5sb2NhbE9iamVjdElkLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpyZW1vdmVFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5sb2NhbE9iamVjdElkLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBBdWRpb0VsZW1lbnRSZWRpcmVjdC5wcm90b3R5cGUuZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIkF1ZGlvRWxlbWVudFJlZGlyZWN0W1wiICsgdGhpcy5sb2NhbE9iamVjdElkICsgXCJdOjpkaXNwYXRjaEV2ZW50IC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5kaXNwYXRjaEV2ZW50KHRoaXMubG9jYWxPYmplY3RJZCwgZXZlbnQpO1xuICAgIH07XG4gICAgLy8gVE9ETzogSW1wbGVtZW50IGFsbCBhdHRyaWJ1dGVzIHRoYXQgYXJlIGNvbW1lbnRlZCBvdXQuXG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QucmVkaXJlY3RBdHRyaWJ1dGVzID0gWydhdXRvcGxheScsICd2b2x1bWUnLCAnc3JjJywgJ3NyY09iamVjdCcsICdtdXRlZCcsICdwYXVzZWQnIC8qLCAnYXVkaW9UcmFja3MnLCAnYnVmZmVyZWQnLCAnY29udHJvbHMnLCAnY3VycmVudFRpbWUnLCAnZGVmYXVsdFBsYXliYWNrUmF0ZScsICdkdXJhdGlvbicsICdlbmRlZCcsICdlcnJvcicsICdsb29wJywgJ25ldHdvcmtTdGF0ZScsICdwbGF5YmFja1JhdGUnLCAncHJlbG9hZCcsICdyZWFkeVN0YXRlJywgJ3NlZWthYmxlJywgJ3NlZWtpbmcnLCAndHJhY2tzJyovXTtcbiAgICAvLyBUaGVzZSBhcmUgYXR0cmlidXRlcyB0aGF0IHJldHVybiBhIGJvb2xlYW4uXG4gICAgLy8gVE9ETzogSW1wbGVtZW50IGFsbCBhdHRyaWJ1dGVzIHRoYXQgYXJlIGNvbW1lbnRlZCBvdXQuXG4gICAgQXVkaW9FbGVtZW50UmVkaXJlY3QuYm9vbFJlZGlyZWN0QXR0cmlidXRlcyA9IFsnYXV0b3BsYXknLCAnbXV0ZWQnLCAncGF1c2VkJyAvKiwgJ2xvb3AnKi9dO1xuICAgIHJldHVybiBBdWRpb0VsZW1lbnRSZWRpcmVjdDtcbn0oKSk7XG5leHBvcnRzLkF1ZGlvRWxlbWVudFJlZGlyZWN0ID0gQXVkaW9FbGVtZW50UmVkaXJlY3Q7XG4iLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xudmFyIF9fYXNzaWduID0gKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHwgZnVuY3Rpb24gKCkge1xuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbih0KSB7XG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSlcbiAgICAgICAgICAgICAgICB0W3BdID0gc1twXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc2V0dXBSVENQZWVyQ29ubmVjdGlvblNoaW1zID0gZXhwb3J0cy5SVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0ID0gdm9pZCAwO1xudmFyIGVsZW1lbnRTaGltQ29tbW9uXzEgPSByZXF1aXJlKFwiLi9lbGVtZW50U2hpbUNvbW1vblwiKTtcbnZhciBtZWRpYVN0cmVhbV9zaGltXzEgPSByZXF1aXJlKFwiLi9tZWRpYVN0cmVhbV9zaGltXCIpO1xudmFyIG1lZGlhU3RyZWFtVHJhY2tfcmVkaXJlY3RfMSA9IHJlcXVpcmUoXCIuL21lZGlhU3RyZWFtVHJhY2tfcmVkaXJlY3RcIik7XG52YXIgbG9nZ2luZ0NvbW1vbl8xID0gcmVxdWlyZShcIi4vbG9nZ2luZ0NvbW1vblwiKTtcbnZhciBydGNEYXRhQ2hhbm5lbF9yZWRpcmVjdF8xID0gcmVxdWlyZShcIi4vcnRjRGF0YUNoYW5uZWxfcmVkaXJlY3RcIik7XG5mdW5jdGlvbiBDcmVhdGVTdGF0c1JlcG9ydChhcmdzKSB7XG4gICAgdmFyIHN0YXRzUmVwb3J0ID0gbmV3IE1hcCgpO1xuICAgIGFyZ3NbJ3N0YXRzJ10uZm9yRWFjaChmdW5jdGlvbiAoc3RhdHMpIHtcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhzdGF0cykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdzdGF0c19tYXAnKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9IHN0YXRzW3Byb3BdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGVudHJ5IGluIG1hcCkge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBlbnRyeSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hcFtlbnRyeV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIHByb3AsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHN0YXRzW3Byb3BdLFxuICAgICAgICAgICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHN0YXRzUmVwb3J0LnNldChzdGF0c1tcImlkXCJdLCBvYmopO1xuICAgIH0pO1xuICAgIHJldHVybiBzdGF0c1JlcG9ydDtcbn1cbnZhciBNbXJSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1tclJUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXQodHlwZSwgc2RwKSB7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuc2RwID0gc2RwO1xuICAgIH1cbiAgICByZXR1cm4gTW1yUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdDtcbn0oKSk7XG52YXIgTW1yUlRDRFRNRlNlbmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTW1yUlRDRFRNRlNlbmRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNbXJSVENEVE1GU2VuZGVyKHBhcmVudExvY2FsT2JqZWN0SWQsIGlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNhbkluc2VydERUTUYgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudG9uZUJ1ZmZlciA9IFwiXCI7XG4gICAgICAgIF90aGlzLnBhcmVudExvY2FsT2JqZWN0SWQgPSBwYXJlbnRMb2NhbE9iamVjdElkO1xuICAgICAgICBfdGhpcy5pZCA9IGlkO1xuICAgICAgICBfdGhpcy5ldmVudFRhcmdldCA9IF90aGlzO1xuICAgICAgICBfdGhpcy5zaGltRXZlbnRIYW5kbGVycyhfdGhpcywgWyd0b25lY2hhbmdlJ10pO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE1tclJUQ0RUTUZTZW5kZXIucHJvdG90eXBlLmluc2VydERUTUYgPSBmdW5jdGlvbiAodG9uZXMsIGR1cmF0aW9uLCBpbnRlclRvbmVHYXApIHtcbiAgICAgICAgLy8gRXJyb3IgaWYgdGhlIGlucHV0IGlzIG5vdCBhLWQsIG51bWJlciwgJyMnLCAnKicgb3IgJywnXG4gICAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1teYS1kQS1EMC05IyosXScpO1xuICAgICAgICBpZiAocmVnZXgudGVzdCh0b25lcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJJbnZhbGlkIERUTUYgdG9uZSBjaGFyYWN0ZXJcIiwgXCJJbnZhbGlkQ2hhcmFjdGVyRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2F2ZSB0aGUgc3RyaW5nIHRoYXQgaXMgYmVpbmcgcGxheWVkXG4gICAgICAgIHRoaXMudG9uZUJ1ZmZlciA9IHRvbmVzO1xuICAgICAgICAvLyBXaGVuIHNlbmRpbmcgdGhlIG1lc3NhZ2UsIHVzZSB0aGUgZGVmYXVsdCBkdXJhdGlvbiBvZiAxMDAgbXMgYW5kIGRlZmF1bHQgaW50ZXItdG9uZSBnYXAgb2YgNzAgbXMuXG4gICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5wYXJlbnRMb2NhbE9iamVjdElkLCAnaW5zZXJ0RFRNRicsIHsgJ3RyYWNrSWQnOiB0aGlzLmlkLFxuICAgICAgICAgICAgJ3RvbmVzJzogdG9uZXMsXG4gICAgICAgICAgICAnZHVyYXRpb24nOiAoZHVyYXRpb24gIT0gdW5kZWZpbmVkKSA/IGR1cmF0aW9uIDogMTAwLFxuICAgICAgICAgICAgJ2ludGVyVG9uZUdhcCc6IChpbnRlclRvbmVHYXAgIT0gdW5kZWZpbmVkKSA/IGludGVyVG9uZUdhcCA6IDcwXG4gICAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTW1yUlRDUnRwU2VuZGVyOjppbnNlcnREVE1GW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gU2luY2Ugc29tZXRoaW5nIHdlbnQgd3JvbmcsIGltbWVkaWF0ZWx5IGNsZWFyIHRoZSBzdHJpbmdcbiAgICAgICAgICAgICAgICB0aGlzLnRvbmVCdWZmZXIgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1tclJUQ0RUTUZTZW5kZXIucHJvdG90eXBlLnByb2Nlc3NUb25lQ2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciB0b25lUGxheWVkID0gdmFsdWVbJ3RvbmUnXTtcbiAgICAgICAgdGhpcy50b25lQnVmZmVyID0gdmFsdWVbJ3RvbmVCdWZmZXInXTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBSVENEVE1GVG9uZUNoYW5nZUV2ZW50KFwidG9uZWNoYW5nZVwiLCB7IFwidG9uZVwiOiB0b25lUGxheWVkIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBNbXJSVENEVE1GU2VuZGVyO1xufShtZWRpYVN0cmVhbV9zaGltXzEuTW1yRXZlbnRUYXJnZXQpKTtcbnZhciBNbXJSVENSdHBTZW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTW1yUlRDUnRwU2VuZGVyKHBhcmVudExvY2FsT2JqZWN0SWQsIHRyYWNrLCBpZCkge1xuICAgICAgICB0aGlzLnRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIHRoaXMucnRjcFRyYW5zcG9ydCA9IG51bGw7XG4gICAgICAgIHRoaXMucGFyZW50TG9jYWxPYmplY3RJZCA9IHBhcmVudExvY2FsT2JqZWN0SWQ7XG4gICAgICAgIHRoaXMudHJhY2sgPSB0cmFjaztcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmR0bWYgPSBuZXcgTW1yUlRDRFRNRlNlbmRlcihwYXJlbnRMb2NhbE9iamVjdElkLCBpZCk7XG4gICAgICAgIHRoaXMucGFyYW1ldGVycyA9IHsgXCJlbmNvZGluZ3NcIjogW10sIFwidHJhbnNhY3Rpb25JZFwiOiBcIlwiLCBcImNvZGVjc1wiOiBbXSwgXCJoZWFkZXJFeHRlbnNpb25zXCI6IFtdLCBcInJ0Y3BcIjoge30gfTtcbiAgICB9XG4gICAgTW1yUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oe30sIHRoaXMucGFyYW1ldGVycyk7XG4gICAgfTtcbiAgICBNbXJSVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFN0YXRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tclJUQ1J0cFNlbmRlcjo6Z2V0U3RhdHNbQkVHSU5dXCIpO1xuICAgICAgICB2YXIgc2hpbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ucGFyZW50TG9jYWxPYmplY3RJZCwgJ2dldFN0YXRzJywgeyAndHJhY2tJZCc6IHNoaW0udHJhY2suaWQgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTW1yUlRDUnRwU2VuZGVyOjpnZXRTdGF0c1tFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0c1JlcG9ydCA9IENyZWF0ZVN0YXRzUmVwb3J0KGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHN0YXRzUmVwb3J0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlbGVtZW50U2hpbUNvbW1vbl8xLm1tcldlYlJ0Y1N0YXR1c1RvRE9NRXJyb3IocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTW1yUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5yZXBsYWNlVHJhY2sgPSBmdW5jdGlvbiAod2l0aFRyYWNrKSB7XG4gICAgICAgIHZhciB3aXRoVHJhY2tTdHJpbmcgPSB3aXRoVHJhY2sgPyB3aXRoVHJhY2suaWQgOiBcIlwiO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tclJUQ1J0cFNlbmRlcjo6cmVwbGFjZVRyYWNrW0JFR0lOXSAtIHNlbmRlcjogXCIgKyB0aGlzLmlkICsgXCIgLSB0cmFjazogXCIgKyB3aXRoVHJhY2tTdHJpbmcpO1xuICAgICAgICB2YXIgc2hpbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ucGFyZW50TG9jYWxPYmplY3RJZCwgJ3JlcGxhY2VUcmFjaycsIHsgJ3NlbmRlcklkJzogc2hpbS5pZCwgJ3RyYWNrSWQnOiB3aXRoVHJhY2tTdHJpbmcgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTW1yUlRDUnRwU2VuZGVyOjpyZXBsYWNlVHJhY2tbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzaGltW1widHJhY2tcIl0gPSB3aXRoVHJhY2s7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlbGVtZW50U2hpbUNvbW1vbl8xLm1tcldlYlJ0Y1N0YXR1c1RvRE9NRXJyb3IocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTW1yUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5zZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24gKHBhcmFtZXRlcnMpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJSVENSdHBTZW5kZXI6OnNldFBhcmFtZXRlcnNbQkVHSU5dXCIpO1xuICAgICAgICB2YXIgc2hpbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ucGFyZW50TG9jYWxPYmplY3RJZCwgJ3NldFBhcmFtZXRlcnMnLCB7ICd0cmFja0lkJzogc2hpbS50cmFjay5pZCwgJ3BhcmFtZXRlcnMnOiBwYXJhbWV0ZXJzIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tclJUQ1J0cFNlbmRlcjo6c2V0UGFyYW1ldGVyc1tFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjYWxsYmFjayBjYXJyaWVzIHRoZSB1cGRhdGVkIHBhcmFtZXRlcnMuXG4gICAgICAgICAgICAgICAgICAgIHNoaW0uaW5pdGlhbGl6ZShhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVsZW1lbnRTaGltQ29tbW9uXzEubW1yV2ViUnRjU3RhdHVzVG9ET01FcnJvcihyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNbXJSVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFN0cmVhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdHJlYW1zID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBzdHJlYW1zW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJSVENSdHBTZW5kZXI6OnNldFN0cmVhbXNbQkVHSU5dXCIpO1xuICAgICAgICAvLyBBZGQgdGhlIHRyYWNrIHRvIGVhY2ggc3RyZWFtLCB0aGlzIGlzIG5vLW9wIGlmIGl0cyBhbHJlYWR5IGNvbnRhaW5lZC5cbiAgICAgICAgdmFyIHNoaW0gPSB0aGlzO1xuICAgICAgICBzdHJlYW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uYWRkVHJhY2soc2hpbS50cmFjayk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc3RyZWFtSWRzID0gQXJyYXkuZnJvbShzdHJlYW1zLCBmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSk7XG4gICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5wYXJlbnRMb2NhbE9iamVjdElkLCAnc2V0U3RyZWFtcycsIHsgJ3RyYWNrSWQnOiB0aGlzLnRyYWNrLmlkLCAnc3RyZWFtSWRzJzogc3RyZWFtSWRzIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTW1yUlRDUnRwU2VuZGVyOjpzZXRTdHJlYW1zW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBQcml2YXRlIGZ1bmN0aW9uIHRoYXQgaXMgaW52b2tlZCBieSBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0IGFuZCBieSB0aGUgc2V0UGFyYW1ldGVycyBjYWxsYmFjay5cbiAgICBNbXJSVENSdHBTZW5kZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICB2YXIgZW5jb2RpbmdzID0gYXJnc1snZW5jb2RpbmdzJ107XG4gICAgICAgIHZhciBjb2RlY3MgPSBhcmdzWydjb2RlY3MnXTtcbiAgICAgICAgdmFyIGhlYWRlckV4dGVuc2lvbnMgPSBhcmdzWydoZWFkZXJFeHRlbnNpb25zJ107XG4gICAgICAgIHZhciBydGNwUGFyYW1zID0gYXJnc1sncnRjcCddO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSB7IFwiZW5jb2RpbmdzXCI6IGVuY29kaW5ncywgXCJ0cmFuc2FjdGlvbklkXCI6IGFyZ3NbJ3RyYW5zYWN0aW9uSWQnXSwgXCJjb2RlY3NcIjogY29kZWNzLCBcImhlYWRlckV4dGVuc2lvbnNcIjogaGVhZGVyRXh0ZW5zaW9ucywgXCJydGNwXCI6IHJ0Y3BQYXJhbXMgfTtcbiAgICAgICAgdGhpcy5kdG1mLmNhbkluc2VydERUTUYgPSBhcmdzWydjYW5JbnNlcnREVE1GJ107XG4gICAgfTtcbiAgICBNbXJSVENSdHBTZW5kZXIucHJvdG90eXBlLnNldElkID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICB9O1xuICAgIHJldHVybiBNbXJSVENSdHBTZW5kZXI7XG59KCkpO1xudmFyIE1tclJUQ1J0cFJlY2VpdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1tclJUQ1J0cFJlY2VpdmVyKHBhcmVudExvY2FsT2JqZWN0SWQsIHRyYWNrLCBwYXJhbWV0ZXJzQXJncykge1xuICAgICAgICB0aGlzLmNzcmNzID0gW107XG4gICAgICAgIHRoaXMuc3NyY3MgPSBbXTtcbiAgICAgICAgdGhpcy5ydGNwVHJhbnNwb3J0ID0gbnVsbDtcbiAgICAgICAgdGhpcy50cmFuc3BvcnQgPSBudWxsO1xuICAgICAgICB0aGlzLnBhcmVudExvY2FsT2JqZWN0SWQgPSBwYXJlbnRMb2NhbE9iamVjdElkO1xuICAgICAgICB0aGlzLnRyYWNrID0gdHJhY2s7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzQXJncykge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKHBhcmFtZXRlcnNBcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBNbXJSVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0Q29udHJpYnV0aW5nU291cmNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJSVENSdHBSZWNlaXZlcjo6Z2V0Q29udHJpYnV0aW5nU291cmNlc1tCRUdJTl1cIik7XG4gICAgICAgIC8vIFdlIGFyZSBjaGVhdGluZyBhIGxpdHRsZSBiaXQgaGVyZS4gVGhlIGZpcnN0IHRpbWUgdGhpcyBpcyBjYWxsZWQsIHdlIHJldHVybiBhbiBlbXB0eSBhcnJheSBidXQgd2VcbiAgICAgICAgLy8ga2ljayBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uIHRvIHJldHJpZXZlIHRoZSByZWFsIGRhdGEuIEFwcHMgdGhhdCBjYWxsIHVzIHVzdWFsbHkgY2FsbCB1c1xuICAgICAgICAvLyByZXBlYXRlZGx5IG9uIGEgdGltZXIsIHNvIHRoZSBuZXh0IHRpbWUgdGhleSBjYWxsIHVzLCB3ZSB3aWxsIGhhdmUgc29tZSB2YWxpZCBkYXRhIHRvIHJldHVybi5cbiAgICAgICAgdmFyIHNoaW0gPSB0aGlzO1xuICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ucGFyZW50TG9jYWxPYmplY3RJZCwgJ2dldENvbnRyaWJ1dGluZ1NvdXJjZXMnLCB7ICd0cmFja0lkJzogc2hpbS50cmFjay5pZCB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tclJUQ1J0cFJlY2VpdmVyOjpnZXRDb250cmlidXRpbmdTb3VyY2VzW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHNoaW0uY3NyY3MgPSBhcmdzWydjc3JjcyddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3NyY3M7XG4gICAgfTtcbiAgICBNbXJSVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyYW1ldGVycztcbiAgICB9O1xuICAgIE1tclJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJSVENSdHBSZWNlaXZlcjo6Z2V0U3RhdHNbU1RBUlRdXCIpO1xuICAgICAgICB2YXIgc2hpbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ucGFyZW50TG9jYWxPYmplY3RJZCwgJ2dldFN0YXRzJywgeyAndHJhY2tJZCc6IHNoaW0udHJhY2suaWQgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiTW1yUlRDUnRwUmVjZWl2ZXI6OmdldFN0YXRzW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRzUmVwb3J0ID0gQ3JlYXRlU3RhdHNSZXBvcnQoYXJncyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoc3RhdHNSZXBvcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVsZW1lbnRTaGltQ29tbW9uXzEubW1yV2ViUnRjU3RhdHVzVG9ET01FcnJvcihyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBNbXJSVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3luY2hyb25pemF0aW9uU291cmNlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJNbXJSVENSdHBSZWNlaXZlcjo6Z2V0U3luY2hyb25pemF0aW9uU291cmNlc1tCRUdJTl1cIik7XG4gICAgICAgIC8vIFdlIGFyZSBjaGVhdGluZyBhIGxpdHRsZSBiaXQgaGVyZS4gVGhlIGZpcnN0IGl0bWUgdGhpcyBpcyBjYWxsZWQsIHdlIHJldHVybiBhbiBlbXB0eSBhcnJheSBidXQgd2VcbiAgICAgICAgLy8ga2ljayBvZiBhbiBhc3luY2hyb25vdXMgb3BlcmF0aW9uIHRvIHJldHJpZXZlIHRoZSByZWFsIGRhdGEuIEFwcHMgdGhhdCBjYWxsIHVzIHVzdWFsbHkgY2FsbCB1c1xuICAgICAgICAvLyByZXBlYXRlZGx5IG9uIGEgdGltZXIsIHNvIHRoZSBuZXh0IHRpbWUgdGhleSBjYWxsIHVzLCB3ZSB3aWxsIGhhdmUgc29tZSB2YWxpZCBkYXRhIHRvIHJldHVybi5cbiAgICAgICAgdmFyIHNoaW0gPSB0aGlzO1xuICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ucGFyZW50TG9jYWxPYmplY3RJZCwgJ2dldFN5bmNocm9uaXphdGlvblNvdXJjZXMnLCB7ICd0cmFja0lkJzogc2hpbS50cmFjay5pZCB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tclJUQ1J0cFJlY2VpdmVyOjpnZXRTeW5jaHJvbml6YXRpb25Tb3VyY2VzW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgIHNoaW0uc3NyY3MgPSBhcmdzWydzc3JjcyddO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3NyY3M7XG4gICAgfTtcbiAgICAvLyBQcml2YXRlIGZ1bmN0aW9uIHRoYXQgaXMgaW52b2tlZCBieSBvdXIgY29uc3RydWN0b3IgYW5kIGJ5IFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3RcbiAgICBNbXJSVENSdHBSZWNlaXZlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciBjb2RlY3MgPSBhcmdzWydjb2RlY3MnXTtcbiAgICAgICAgdmFyIGhlYWRlckV4dGVuc2lvbnMgPSBhcmdzWydoZWFkZXJFeHRlbnNpb25zJ107XG4gICAgICAgIHZhciBydGNwUGFyYW1zID0gYXJnc1sncnRjcCddO1xuICAgICAgICAvLyBUaGUgdmVyc2lvbiBvZiB0aGUgRE9NIHdlIGFyZSB1c2luZyBoYXMgYW4gZW5jb2RpbmdzIHByb3BlcnR5LCBidXQgdGhpcyBpc24ndCBkb2N1bWVudGVkIGluIHRoZSB3M2Mgc3BlYy4gc2V0IHRvIG51bGwgZm9yIG5vd1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSB7IFwiZW5jb2RpbmdzXCI6IG51bGwsIFwiY29kZWNzXCI6IGNvZGVjcywgXCJoZWFkZXJFeHRlbnNpb25zXCI6IGhlYWRlckV4dGVuc2lvbnMsIFwicnRjcFwiOiBydGNwUGFyYW1zIH07XG4gICAgfTtcbiAgICByZXR1cm4gTW1yUlRDUnRwUmVjZWl2ZXI7XG59KCkpO1xudmFyIE1tclJUQ1J0cFRyYW5zY2VpdmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1tclJUQ1J0cFRyYW5zY2VpdmVyKG1pZCwgcGFyZW50UGVlckNvbm5lY3Rpb24sIHNlbmRlciwgcmVjZWl2ZXIpIHtcbiAgICAgICAgdGhpcy5taWQgPSBtaWQ7XG4gICAgICAgIHRoaXMucGFyZW50UGVlckNvbm5lY3Rpb24gPSBwYXJlbnRQZWVyQ29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5zZW5kZXIgPSBzZW5kZXI7XG4gICAgICAgIHRoaXMucmVjZWl2ZXIgPSByZWNlaXZlcjtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1tclJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZSwgXCJkaXJlY3Rpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmludGVybmFsRGlyZWN0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJNbXJSVENSdHBUcmFuc2NlaXZlcjo6c2V0RGlyZWN0aW9uW0JFR0lOXSAtIFwiICsgdmFsdWUpO1xuICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50UGVlckNvbm5lY3Rpb25bXCJpc0Nsb3NlZFwiXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24gaXMgY2xvc2VkXCIsIFwiSW52YWxpZFN0YXRlRXJyb3JcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmludGVybmFsRGlyZWN0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB2YXIgc2hpbSA9IHRoaXM7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ucGFyZW50UGVlckNvbm5lY3Rpb24ubG9jYWxPYmplY3RJZCwgJ3NldFRyYW5zY2VpdmVyRGlyZWN0aW9uJywgeyAnbWlkJzogc2hpbS5taWQsICdkaXJlY3Rpb24nOiB2YWx1ZSB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNbXJSVENSdHBUcmFuc2NlaXZlcjo6c2V0RGlyZWN0aW9uW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTW1yUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlLnNldENvZGVjUHJlZmVyZW5jZXMgPSBmdW5jdGlvbiAoY29kZWNzKSB7XG4gICAgICAgIC8vIFRvRG86IEltcGxlbWVudCB0aGlzLlxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tclJUQ1J0cFRyYW5zY2VpdmVyOjpzZXRDb2RlY1ByZWZlcmVuY2VzIC0gbm90IGltcGxlbWVudGVkXCIpO1xuICAgIH07XG4gICAgTW1yUlRDUnRwVHJhbnNjZWl2ZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIFRvRG86IEltcGxlbWVudCB0aGlzLlxuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIk1tclJUQ1J0cFRyYW5zY2VpdmVyOjpzdG9wIC0gbm90IGltcGxlbWVudGVkXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIE1tclJUQ1J0cFRyYW5zY2VpdmVyO1xufSgpKTtcbnZhciBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QoY29uZmlndXJhdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTaGltIGF0dHJpYnV0ZXNcbiAgICAgICAgdGhpcy5sb2NhbE9iamVjdElkID0gMDtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0Nsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZV9zaGltID0gXCJuZXdcIjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJUQ1BlZXJDb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5zZW5kZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMucmVjZWl2ZXJNYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMudHJhbnNjZWl2ZXJzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuY2hhbm5lbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5zdHJlYW1NYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMubmV4dENoYW5uZWxJZCA9IDA7XG4gICAgICAgIC8vIFJUQ1BlZXJDb25uZWN0aW9uIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5jYW5Ucmlja2xlSWNlQ2FuZGlkYXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VycmVudExvY2FsRGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuaWNlQ29ubmVjdGlvblN0YXRlID0gXCJuZXdcIjtcbiAgICAgICAgdGhpcy5pY2VHYXRoZXJpbmdTdGF0ZSA9IFwibmV3XCI7XG4gICAgICAgIHRoaXMuaWRwRXJyb3JJbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5pZHBMb2dpblVybCA9IG51bGw7XG4gICAgICAgIHRoaXMucGVlcklkZW50aXR5ID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgcmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGVuZGluZ0xvY2FsRGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuc2lnbmFsaW5nU3RhdGUgPSBcInN0YWJsZVwiO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QgY29uc3RydWN0b3IsIGNvbmZpZ3VyYXRpb246IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KGNvbmZpZ3VyYXRpb24pKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgbm9uLXNoaW1tZWQgdmVyc2lvbiBvZiBSVENQZWVyQ29ubmVjdGlvbi4gVGhpcyBzaG91bGQganVzdCBiZSBuZWVkZWQgdGVtcG9yYXJpbHkgZHVyaW5nIGRldmVsb3BtZW50LlxuICAgICAgICAvLyBFdmVudHVhbGx5LCB3ZSB3aWxsIGJlIHJlbW90aW5nIGFsbCBvZiB0aGUgbWV0aG9kcywgYW5kIHRoZW4gdGhpcyBzaG91bGQgbm90IGJlIG5lZWRlZCBhbnltb3JlLlxuICAgICAgICB0aGlzLm9yaWdpbmFsUlRDUGVlckNvbm5lY3Rpb24gPSBuZXcgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5vcmlnaW5hbFJUQ1BlZXJDb25uZWN0aW9uQ2xhc3MoY29uZmlndXJhdGlvbik7XG4gICAgICAgIC8vIFdlIG9ubHkgc3VwcG9ydCBVbmlmaWVkIFBsYW4gYW5kIGFkYXB0ZXIuanMgZXhwZWN0cyB0aGlzIHZhbHVlIHRvIGJlIHNldCwgc28gZXhwbGljaXRseSBzZXQgaXQgaWYgaXQgaXMgbWlzc2luZy5cbiAgICAgICAgaWYgKGNvbmZpZ3VyYXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZ3VyYXRpb25bJ3NkcFNlbWFudGljcyddID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlndXJhdGlvblsnc2RwU2VtYW50aWNzJ10gPSBcInVuaWZpZWQtcGxhblwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0geyBzZHBTZW1hbnRpY3M6IFwidW5pZmllZC1wbGFuXCIgfTtcbiAgICAgICAgfVxuICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LmV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiBvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSBmcm9tIGh0dHBzOi8vd2VicnRjLmdpdGh1Yi5pby9hZGFwdGVyL2FkYXB0ZXItbGF0ZXN0LmpzXG4gICAgICAgICAgICB2YXIgcHJvcE5hbWUgPSAnX29uJyArIGV2ZW50TmFtZSArICdldmVudEhhbmRsZXInO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCAnb24nICsgZXZlbnROYW1lLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3Byb3BOYW1lXSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzW3Byb3BOYW1lXSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpc1twcm9wTmFtZV0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIHJlbW90ZWQgUlRDUGVlckNvbm5lY3Rpb24gb2JqZWN0XG4gICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlci5jcmVhdGVPYmplY3QodGhpcywgXCJSVENQZWVyQ29ubmVjdGlvblwiLCB7IFwiY29uZmlndXJhdGlvblwiOiBjb25maWd1cmF0aW9uLCBcIm9jY2x1c2lvblN1cHBvcnRWZXJzaW9uXCI6IFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Qub2NjbHVzaW9uU3VwcG9ydFZlcnNpb24gfSk7XG4gICAgfVxuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Qgc2V0QXR0cmlidXRlIFwiICsgbmFtZSArIFwiPVwiICsgdmFsdWUpO1xuICAgICAgICAvLyBNb3N0IHJlYWQtb25seSBhdHRyaWJ1dGVzIGNhbiBiZSBzZXQgYnkgY2FzdGluZyAndGhpcycgdG8gJ29iamVjdCcuXG4gICAgICAgIC8vIFwiY29ubmVjdGlvblN0YXRlXCIgaXMgYW4gZXhjZXB0aW9uLCB0aGUgY2FzdGluZyB0cmljayByZXN1bHRzIGluIGEgcnVuLXRpbWUgZXJyb3IsIHNvIGl0IGlzIHNwZWNpYWwtY2FzZWQuIFxuICAgICAgICBpZiAobmFtZSA9PSBcImNvbm5lY3Rpb25TdGF0ZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZV9zaGltID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIENvbnZlcnQgdGhlIEN1c3RvbUV2ZW50IHRoYXQgd2UgcmVjZWl2ZWQgZnJvbSB0aGUgSG9zdCB0byBhIFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQuXG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUucHJvY2Vzc0ljZUNhbmRpZGF0ZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpbnB1dEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHZhciBjYW5kaWRhdGVPYmplY3QgPSBudWxsO1xuICAgICAgICAvLyBJZiB0aGUgJ2NhbmRpZGF0ZScgZmllbGQgaXMgbm90IHByZXNlbnQgaXQgaW5kaWNhdGVzIHRoYXQgSUNFIGNhbmRpZGF0ZSBnYXRoZXJpbmcgaGFzIGVuZGVkLlxuICAgICAgICAvLyBJbiB0aGF0IGNhc2UsIHRoZSBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50LmNhbmRpZGF0ZSBldmVudCBzaGFsbCBiZSBudWxsLlxuICAgICAgICBpZiAoaW5wdXRFdmVudC5kZXRhaWwuY2FuZGlkYXRlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSZWNlaXZlZCBuZXcgSUNFIGNhbmRpZGF0ZTogXCIgKyBlbGVtZW50U2hpbUNvbW1vbl8xLnRyeUpzb25TdHJpbmdpZnkoaW5wdXRFdmVudC5kZXRhaWwuY2FuZGlkYXRlKSk7XG4gICAgICAgICAgICBjYW5kaWRhdGVPYmplY3QgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKHsgY2FuZGlkYXRlOiBpbnB1dEV2ZW50LmRldGFpbC5jYW5kaWRhdGUsIHNkcE1MaW5lSW5kZXg6IGlucHV0RXZlbnQuZGV0YWlsLnNkcF9tbGluZV9pbmRleCwgc2RwTWlkOiBpbnB1dEV2ZW50LmRldGFpbC5zZHBfbWlkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJOdWxsIElDRSBjYW5kaWRhdGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KFwiaWNlY2FuZGlkYXRlXCIsIHsgY2FuZGlkYXRlOiBjYW5kaWRhdGVPYmplY3QgfSk7XG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5wcm9jZXNzSWNlQ2FuZGlkYXRlRXJyb3JFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgaW5wdXRFdmVudCA9IGV2ZW50O1xuICAgICAgICB2YXIgZXZlbnRJbml0ID0ge1xuICAgICAgICAgICAgYWRkcmVzczogKGlucHV0RXZlbnQuZGV0YWlsLmFkZHJlc3MgIT0gdW5kZWZpbmVkKSA/IGlucHV0RXZlbnQuZGV0YWlsLmFkZHJlc3MgOiBudWxsLFxuICAgICAgICAgICAgZXJyb3JDb2RlOiBpbnB1dEV2ZW50LmRldGFpbC5lcnJvcl9jb2RlLFxuICAgICAgICAgICAgZXJyb3JUZXh0OiBpbnB1dEV2ZW50LmRldGFpbC5lcnJvcl90ZXh0LFxuICAgICAgICAgICAgcG9ydDogKGlucHV0RXZlbnQuZGV0YWlsLnBvcnQgIT0gdW5kZWZpbmVkKSA/IGlucHV0RXZlbnQuZGV0YWlsLnBvcnQgOiBudWxsLFxuICAgICAgICAgICAgdXJsOiBpbnB1dEV2ZW50LmRldGFpbC51cmxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBSVENQZWVyQ29ubmVjdGlvbkljZUVycm9yRXZlbnQoXCJpY2VjYW5kaWRhdGVlcnJvclwiLCBldmVudEluaXQpO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUucHJvY2Vzc1RyYWNrRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGlucHV0RXZlbnQgPSBldmVudDtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0Ojpwcm9jZXNzVHJhY2tFdmVudCAtIHRyYWNrOiBcIiArIGlucHV0RXZlbnQuZGV0YWlsLnRyYWNrSWQpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OnByb2Nlc3NUcmFja0V2ZW50IC0gZXZlbnQ6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KGlucHV0RXZlbnQuZGV0YWlsKSk7XG4gICAgICAgIHZhciB0cmFjayA9IG1lZGlhU3RyZWFtVHJhY2tfcmVkaXJlY3RfMS5jcmVhdGVUcmFja1JlZGlyZWN0KFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlciwgaW5wdXRFdmVudC5kZXRhaWwudHJhY2tJZCwgaW5wdXRFdmVudC5kZXRhaWwudHJhY2tMYWJlbCwgKGlucHV0RXZlbnQuZGV0YWlsLnNldHRpbmdzICE9IHVuZGVmaW5lZCkgPyBpbnB1dEV2ZW50LmRldGFpbC5zZXR0aW5ncyA6IG51bGwsIGlucHV0RXZlbnQuZGV0YWlsLmtpbmQpO1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OnByb2Nlc3NUcmFja0V2ZW50IC0gc3RyZWFtMDogXCIgKyBpbnB1dEV2ZW50LmRldGFpbC5zdHJlYW1JZHNbMF0pO1xuICAgICAgICB2YXIgc3RyZWFtcyA9IGlucHV0RXZlbnQuZGV0YWlsLnN0cmVhbUlkcztcbiAgICAgICAgdmFyIHN0cmVhbUFycmF5ID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHN0cmVhbXMuZm9yRWFjaChmdW5jdGlvbiAoc3RyZWFtSWQpIHtcbiAgICAgICAgICAgIHZhciBzdHJlYW0gPSBfdGhpcy5zdHJlYW1NYXAuZ2V0KHN0cmVhbUlkKTtcbiAgICAgICAgICAgIGlmIChzdHJlYW0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0Ojpwcm9jZXNzVHJhY2tFdmVudCAtIHVzaW5nIGV4aXN0aW5nIHN0cmVhbTogXCIgKyBzdHJlYW1JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OnByb2Nlc3NUcmFja0V2ZW50IC0gY3JlYXRpbmcgbmV3IHN0cmVhbTogXCIgKyBzdHJlYW1JZCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1N0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHN0cmVhbSA9IG1lZGlhU3RyZWFtX3NoaW1fMS5jcmVhdGVNZWRpYVN0cmVhbVNoaW0obmV3U3RyZWFtLCBzdHJlYW1JZCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3RyZWFtTWFwLnNldChzdHJlYW1JZCwgc3RyZWFtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0cmVhbS5hZGRUcmFjayh0cmFjayk7XG4gICAgICAgICAgICBzdHJlYW1BcnJheS5wdXNoKHN0cmVhbSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcmVjZWl2ZXIgPSBuZXcgTW1yUlRDUnRwUmVjZWl2ZXIodGhpcy5sb2NhbE9iamVjdElkLCB0cmFjaywgaW5wdXRFdmVudC5kZXRhaWwpO1xuICAgICAgICB0aGlzLnJlY2VpdmVyTWFwLnNldCh0cmFjay5pZCwgcmVjZWl2ZXIpO1xuICAgICAgICB2YXIgc2VuZGVySWQgPSBpbnB1dEV2ZW50LmRldGFpbC5sb2NhbFRyYWNrSWQ7XG4gICAgICAgIHZhciBzZW5kZXIgPSBuZXcgTW1yUlRDUnRwU2VuZGVyKHRoaXMubG9jYWxPYmplY3RJZCwgbnVsbCwgc2VuZGVySWQpO1xuICAgICAgICB0aGlzLnNlbmRlck1hcC5zZXQoc2VuZGVySWQsIHNlbmRlcik7XG4gICAgICAgIHZhciB0cmFuc2NlaXZlciA9IG5ldyBNbXJSVENSdHBUcmFuc2NlaXZlcihpbnB1dEV2ZW50LmRldGFpbC50cmFuc2NlaXZlck1pZCwgdGhpcywgc2VuZGVyLCByZWNlaXZlcik7XG4gICAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLnB1c2godHJhbnNjZWl2ZXIpO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIHJldHVybiBhbiBSVENUcmFja0V2ZW50IGJ1dCB3ZSBjYW4ndCBjb25zdHJ1Y3QgYW4gUlRDVHJhY2tFdmVudCB3aXRoIG91ciBjdXN0b20gb2JqZWN0IHR5cGVzLlxuICAgICAgICAvLyBJbnN0ZWFkIHdlIHVzZSBhIGN1c3RvbSBldmVudCBhbmQgZGVmaW5lIHRoZSBwcm9wZXJ0aWVzIHRoYXQgUlRDVHJhY2tFdmVudCBoYXMgaW4gb3JkZXIgdG8gbWF0Y2guXG4gICAgICAgIHZhciByZXR1cm5FdmVudCA9IG5ldyBDdXN0b21FdmVudChcInRyYWNrXCIsIHt9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJldHVybkV2ZW50LCBcInJlY2VpdmVyXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNlaXZlcixcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXR1cm5FdmVudCwgXCJzdHJlYW1zXCIsIHtcbiAgICAgICAgICAgIHZhbHVlOiBzdHJlYW1BcnJheSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXR1cm5FdmVudCwgXCJ0cmFja1wiLCB7XG4gICAgICAgICAgICB2YWx1ZTogdHJhY2ssXG4gICAgICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0dXJuRXZlbnQsIFwidHJhbnNjZWl2ZXJcIiwge1xuICAgICAgICAgICAgdmFsdWU6IHRyYW5zY2VpdmVyLFxuICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJldHZhbCA9IHJldHVybkV2ZW50O1xuICAgICAgICByZXR1cm4gcmV0dmFsO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUucHJvY2Vzc0RhdGFDaGFubmVsRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGlucHV0RXZlbnQgPSBldmVudDtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgcnRjRGF0YUNoYW5uZWxfcmVkaXJlY3RfMS5SVENEYXRhQ2hhbm5lbFJlZGlyZWN0KFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlciwgdGhpcy5sb2NhbE9iamVjdElkLCBpbnB1dEV2ZW50LmRldGFpbC5pZCwgaW5wdXRFdmVudC5kZXRhaWwubGFiZWwsIGlucHV0RXZlbnQuZGV0YWlsLnBhcmFtZXRlcnMsIGlucHV0RXZlbnQuZGV0YWlsLnV1aWQpO1xuICAgICAgICBpZiAoaW5wdXRFdmVudC5kZXRhaWwuaWQgPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsTWFwW2lucHV0RXZlbnQuZGV0YWlsLmlkXSA9IGNoYW5uZWw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGUgc3BlYyBzYXlzIHRoYXQgdGhlIGNoYW5uZWwgaWQgbWlnaHQgYmUgLTEgaW5pdGlhbGx5LiBJbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gYWRkIHRoZSBpZCB0byB0aGUgbWFwIGxhdGVyLlxuICAgICAgICAgICAgLy8gVE9ETzogSW52ZXN0aWdhdGUgaWYgdGhpcyBldmVyIGhhcHBlbnMuXG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcInByb2Nlc3NEYXRhQ2hhbm5lbEV2ZW50OiBjaGFubmVsIGlkIGlzIG5vdCB5ZXQgYXZhaWxhYmxlXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gcmV0dXJuIGFuIFJUQ0RhdGFDaGFubmVsRXZlbnQgYnV0IHdlIGNhbid0IGNvbnN0cnVjdCBhbiBSVENEYXRhQ2hhbm5lbEV2ZW50IHdpdGggb3VyIGN1c3RvbSBvYmplY3QgdHlwZXMuXG4gICAgICAgIC8vIEluc3RlYWQgd2UgdXNlIGEgY3VzdG9tIGV2ZW50IGFuZCBkZWZpbmUgdGhlIHByb3BlcnRpZXMgdGhhdCBSVENEYXRhQ2hhbm5lbEV2ZW50IGhhcyBpbiBvcmRlciB0byBtYXRjaC5cbiAgICAgICAgdmFyIHJldHVybkV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KFwiZGF0YWNoYW5uZWxcIiwge30pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmV0dXJuRXZlbnQsIFwiY2hhbm5lbFwiLCB7XG4gICAgICAgICAgICB2YWx1ZTogY2hhbm5lbCxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByZXR2YWwgPSByZXR1cm5FdmVudDtcbiAgICAgICAgcmV0dXJuIHJldHZhbDtcbiAgICB9O1xuICAgIC8vIFVwZGF0ZSBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbiBvciBwZW5kaW5nTG9jYWxEZXNjcmlwdGlvbiBhcyBhcHByb3ByaWF0ZS5cbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5wcm9jZXNzTG9jYWxEZXNjcmlwdGlvblVwZGF0ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzY3JpcHRpb247XG4gICAgICAgIGlmICh2YWx1ZVsnc2RwJ10gIT0gdW5kZWZpbmVkICYmIHZhbHVlWyd0eXBlJ10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oeyB0eXBlOiB2YWx1ZVsndHlwZSddLCBzZHA6IHZhbHVlWydzZHAnXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZW5kaW5nTG9jYWxEZXNjcmlwdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInBlbmRpbmdMb2NhbERlc2NyaXB0aW9uXCIsIGRlc2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKFwiY3VycmVudExvY2FsRGVzY3JpcHRpb25cIiwgZGVzY3JpcHRpb24pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBVcGRhdGUgdGhlIFJUUCBTZW5kZXIgcGFyYW1ldGVyc1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnByb2Nlc3NTZW5kZXJzVXBkYXRlID0gZnVuY3Rpb24gKHRyYWNrSWRUb1BhcmFtZXRlck1hcCkge1xuICAgICAgICB0aGlzLnNlbmRlck1hcC5mb3JFYWNoKGZ1bmN0aW9uIChzZW5kZXIsIHRyYWNrSWQpIHtcbiAgICAgICAgICAgIGlmICh0cmFja0lkVG9QYXJhbWV0ZXJNYXBbdHJhY2tJZF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2VuZGVyLmluaXRpYWxpemUodHJhY2tJZFRvUGFyYW1ldGVyTWFwW3RyYWNrSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBVcGRhdGUgdGhlIFJUUCBSZWNlaXZlciBwYXJhbWV0ZXJzXG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUucHJvY2Vzc1JlY2VpdmVyc1VwZGF0ZSA9IGZ1bmN0aW9uICh0cmFja0lkVG9QYXJhbWV0ZXJNYXApIHtcbiAgICAgICAgdGhpcy5yZWNlaXZlck1hcC5mb3JFYWNoKGZ1bmN0aW9uIChyZWNlaXZlciwgdHJhY2tJZCkge1xuICAgICAgICAgICAgaWYgKHRyYWNrSWRUb1BhcmFtZXRlck1hcFt0cmFja0lkXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZWNlaXZlci5pbml0aWFsaXplKHRyYWNrSWRUb1BhcmFtZXRlck1hcFt0cmFja0lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gVXBkYXRlIHRoZSBSVFAgVHJhbnNjZWl2ZXJzIG1pZHNcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5wcm9jZXNzVHJhbnNjZWl2ZXJzVXBkYXRlID0gZnVuY3Rpb24gKHNlbmRlcklkVG9UcmFuc2NlaXZlcklkKSB7XG4gICAgICAgIHRoaXMudHJhbnNjZWl2ZXJzLmZvckVhY2goZnVuY3Rpb24gKHRyYW5zY2VpdmVyKSB7XG4gICAgICAgICAgICBpZiAoc2VuZGVySWRUb1RyYW5zY2VpdmVySWRbdHJhbnNjZWl2ZXIuc2VuZGVyWydpZCddXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2NlaXZlclsnbWlkJ10gPSBzZW5kZXJJZFRvVHJhbnNjZWl2ZXJJZFt0cmFuc2NlaXZlci5zZW5kZXJbJ2lkJ11dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnByb2Nlc3NUb25lQ2hhbmdlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBydHBTZW5kZXIgPSB0aGlzLnNlbmRlck1hcC5nZXQodmFsdWVbJ3RyYWNrSWQnXSk7XG4gICAgICAgIGlmIChydHBTZW5kZXIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBydHBTZW5kZXIuZHRtZi5wcm9jZXNzVG9uZUNoYW5nZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFJlbW90ZU9iamVjdE1hbmFnZXJDbGllbnQgbWV0aG9kc1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnNldExvY2FsT2JqZWN0SWQgPSBmdW5jdGlvbiAobG9jYWxPYmplY3RJZCkge1xuICAgICAgICB0aGlzLmxvY2FsT2JqZWN0SWQgPSBsb2NhbE9iamVjdElkO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuZ2V0TG9jYWxPYmplY3RJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxPYmplY3RJZDtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLm9uUmVtb3RlT2JqZWN0Q3JlYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSB0cnVlO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuaW52b2tlRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHsgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5pbnZva2VFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6Omludm9rZUV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIGV2ZW50LnR5cGUpO1xuICAgICAgICBpZiAodGhpcy5pc0Nsb3NlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjppbnZva2VFdmVudExpc3RlbmVyOiBJZ25vcmluZyBldmVudCB3aGVuIGNsb3NlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSBcImljZWNhbmRpZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSB0aGlzLnByb2Nlc3NJY2VDYW5kaWRhdGVFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwiaWNlY2FuZGlkYXRlZXJyb3JcIikge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gdGhpcy5wcm9jZXNzSWNlQ2FuZGlkYXRlRXJyb3JFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwidHJhY2tcIikge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gdGhpcy5wcm9jZXNzVHJhY2tFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChldmVudC50eXBlID09IFwiZGF0YWNoYW5uZWxcIikge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gdGhpcy5wcm9jZXNzRGF0YUNoYW5uZWxFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIuaGFuZGxlRXZlbnQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIuaGFuZGxlRXZlbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ3RhcmdldCcsIHsgdmFsdWU6IHRoaXMgfSk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAnY3VycmVudFRhcmdldCcsIHsgdmFsdWU6IHRoaXMgfSk7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5vbkF0dHJpYnV0ZVVwZGF0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6Om9uQXR0cmlidXRlVXBkYXRlIC0gbmFtZTogXCIgKyBuYW1lICsgXCIsIHZhbHVlOiBcIiArIGVsZW1lbnRTaGltQ29tbW9uXzEudHJ5SnNvblN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgICAgICBpZiAodGhpcy5pc0Nsb3NlZCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpvbkF0dHJpYnV0ZVVwZGF0ZTogSWdub3JpbmcgYXR0cmlidXRlIHVwZGF0ZSB3aGVuIGNsb3NlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PSBcImxvY2FsRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc0xvY2FsRGVzY3JpcHRpb25VcGRhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSA9PSBcInNlbmRlcnNcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1NlbmRlcnNVcGRhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSA9PSBcInJlY2VpdmVyc1wiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzUmVjZWl2ZXJzVXBkYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUgPT0gXCJ0cmFuc2NlaXZlcnNcIikge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1RyYW5zY2VpdmVyc1VwZGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuYW1lID09IFwidG9uZWNoYW5nZVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9jZXNzVG9uZUNoYW5nZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLm9uQ29ubmVjdGlvbkV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50VHlwZSkge1xuICAgICAgICBpZiAoZXZlbnRUeXBlID09IFwiY2xpZW50Q29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6b25Db25uZWN0aW9uRXZlbnQgLSBjbGllbnRDb25uZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUeXBlID09IFwiY2xpZW50RGlzY29ubmVjdGVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3RlT2JqZWN0QWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnRUeXBlID09IFwic3dpdGNoVG9SZW1vdGVcIikge1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUsIFwiY29ubmVjdGlvblN0YXRlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLmNvbm5lY3Rpb25TdGF0ZV9zaGltOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLCBcImxvY2FsRGVzY3JpcHRpb25cIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5wZW5kaW5nTG9jYWxEZXNjcmlwdGlvbiAhPSBudWxsKSA/IHRoaXMucGVuZGluZ0xvY2FsRGVzY3JpcHRpb24gOiB0aGlzLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLCBcInJlbW90ZURlc2NyaXB0aW9uXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uICE9IG51bGwpID8gdGhpcy5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24gOiB0aGlzLmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZSwgXCJzY3RwXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6IHNjdHA6IE5vdCB5ZXQgaW1wbGVtZW50ZWRcIik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8vIFJUQ1BlZXJDb25uZWN0aW9uIG1ldGhvZHNcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGUgPSBmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6YWRkSWNlQ2FuZGlkYXRlW0JFR0lOXSAtIGNhbmRpZGF0ZTogXCIgKyBjYW5kaWRhdGUuY2FuZGlkYXRlKTtcbiAgICAgICAgLy8gQ2FwdHVyZSB0aGUgJ3RoaXMnIHBvaW50ZXIgc28gdGhhdCB3ZSB1c2UgdGhlIGNvcnJlY3Qgb25lIGluIHRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICB2YXIgc2hpbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ubG9jYWxPYmplY3RJZCwgJ2FkZEljZUNhbmRpZGF0ZScsIHsgJ2NhbmRpZGF0ZSc6IGNhbmRpZGF0ZS5jYW5kaWRhdGUsIFwic2RwTUxpbmVJbmRleFwiOiBjYW5kaWRhdGUuc2RwTUxpbmVJbmRleCwgXCJzZHBNaWRcIjogY2FuZGlkYXRlLnNkcE1pZCB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjphZGRJY2VDYW5kaWRhdGVbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgcmVtb3RlRGVzY3JpcHRpb24gZnJvbSBhcmdzXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcmdzWydzZHAnXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IG5ldyBNbXJSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KGFyZ3NbJ3R5cGUnXSwgYXJnc1snc2RwJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNoaW0ucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGltLnNldEF0dHJpYnV0ZShcInBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvblwiLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGltLnNldEF0dHJpYnV0ZShcImN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvblwiLCBkZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVsZW1lbnRTaGltQ29tbW9uXzEubW1yV2ViUnRjU3RhdHVzVG9ET01FcnJvcihyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5hZGRUcmFjayA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgc3RyZWFtcyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgc3RyZWFtc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OkFkZFRyYWNrW0JFR0lOXSAtIHRyYWNrOiBcIiArIHRyYWNrLmlkKTtcbiAgICAgICAgaWYgKHRyYWNrW2VsZW1lbnRTaGltQ29tbW9uXzEuc2hpbVByb3BlcnR5TmFtZV0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIHRyYWNrIGlzIG5vdCBhIE1TUkRDIHRyYWNrXCIsIFwiTm90U3VwcG9ydGVkRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24gaXMgY2xvc2VkXCIsIFwiSW52YWxpZFN0YXRlRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc2VuZGVyTWFwLmhhcyh0cmFjay5pZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgc3BlY2lmaWVkIHRyYWNrIGlzIGFscmVhZHkgcGFydCBvZiB0aGUgUlRDUGVlckNvbm5lY3Rpb25cIiwgXCJJbnZhbGlkQWNjZXNzRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWRkIHRoZSB0cmFjayB0byBlYWNoIHN0cmVhbSwgdGhpcyBpcyBuby1vcCBpZiBpdHMgYWxyZWFkeSBjb250YWluZWQuIFxuICAgICAgICBzdHJlYW1zLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIGl0ZW0uYWRkVHJhY2sodHJhY2spO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gVHJhY2sgaWQgYW5kIHNlbmRlciBpZCBzaG91bGQgYmUgdGhlIHNhbWUsIHNvIHdlJ3JlIG9rYXkgdG8gdXNlIHRoZW0gaW50ZXJjaGFuZ2VhYmx5IGhlcmVcbiAgICAgICAgdmFyIHJ0cFNlbmRlciA9IG5ldyBNbXJSVENSdHBTZW5kZXIodGhpcy5sb2NhbE9iamVjdElkLCB0cmFjaywgdHJhY2suaWQpO1xuICAgICAgICB0aGlzLnNlbmRlck1hcC5zZXQodHJhY2suaWQsIHJ0cFNlbmRlcik7XG4gICAgICAgIHZhciBzdHJlYW1JZHMgPSBBcnJheS5mcm9tKHN0cmVhbXMsIGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KTtcbiAgICAgICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdhZGRUcmFjaycsIHsgJ3RyYWNrSWQnOiB0cmFjay5pZCwgJ3N0cmVhbUlkcyc6IHN0cmVhbUlkcyB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OkFkZFRyYWNrW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgcGFyYW1ldGVycyBvbiB0aGUgUlRQU2VuZGVyIG9iamVjdC4gQmVjYXVzZSBhZGRUcmFjayBpcyBzeW5jaHJvbm91cywgdGhpcyBjb2RlIGlzIGV4ZWN1dGluZyBhZnRlciBhZGRUcmFja1xuICAgICAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IHJldHVybmVkIHRvIHRoZSBjYWxsZXIuIFRoaXMgbWlnaHQgc3RpbGwgYmUgT0sgaWYgdGhlIGFwcCB3YWl0cyB0byBpbnNwZWN0IHRoZSBSVFBTZW5kZXIgb2JqZWN0IHVudGlsXG4gICAgICAgICAgICAgICAgLy8gaXQgaGFzIHJlY2VpdmVkIHRoZSBcIm5lZ290aWF0aW9ubmVlZGVkXCIgZXZlbnQuXG4gICAgICAgICAgICAgICAgcnRwU2VuZGVyLmluaXRpYWxpemUoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcnRwU2VuZGVyO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuYWRkVHJhbnNjZWl2ZXIgPSBmdW5jdGlvbiAodHJhY2tPcktpbmQsIGluaXQpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgICBpZiAodHlwZW9mIHRyYWNrT3JLaW5kID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBwYXJhbXNbJ2tpbmQnXSA9IHRyYWNrT3JLaW5kO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFyYW1zWyd0cmFja0lkJ10gPSB0cmFja09yS2luZC5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5pdCkge1xuICAgICAgICAgICAgaWYgKGluaXQuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcGFyYW1zWydkaXJlY3Rpb24nXSA9IGluaXQuZGlyZWN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluaXQuc3RyZWFtcykge1xuICAgICAgICAgICAgICAgIHBhcmFtc1snc3RyZWFtSWRzJ10gPSBBcnJheS5mcm9tKGluaXQuc3RyZWFtcywgZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluaXQuc2VuZEVuY29kaW5ncykge1xuICAgICAgICAgICAgICAgIHBhcmFtc1snZW5jb2RpbmdzJ10gPSBpbml0LnNlbmRFbmNvZGluZ3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjphZGRUcmFuc2NlaXZlcltCRUdJTl0gLSBQYXJhbXM6IFwiICsgSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgICAgIC8vIENyZWF0ZSBlbXB0eSBzZW5kZXIvcmVjZWl2ZXJzLiBXZSdsbCBhZGQgdHJhY2tzIGxhdGVyIGFzIG5lZWRlZC4gXG4gICAgICAgIHZhciByZWNlaXZlciA9IG5ldyBNbXJSVENSdHBSZWNlaXZlcih0aGlzLmxvY2FsT2JqZWN0SWQsIG51bGwsIG51bGwpO1xuICAgICAgICB2YXIgc2VuZGVyID0gbmV3IE1tclJUQ1J0cFNlbmRlcih0aGlzLmxvY2FsT2JqZWN0SWQsIG51bGwsIFwiXCIpO1xuICAgICAgICB2YXIgdHJhbnNjZWl2ZXIgPSBuZXcgTW1yUlRDUnRwVHJhbnNjZWl2ZXIoXCJcIiwgdGhpcywgc2VuZGVyLCByZWNlaXZlcik7XG4gICAgICAgIC8vIFNldCB0aGUgcmVxdWVzdGVkIGRpcmVjdGlvbiBub3csIG9yIHRoZSBkZWZhdWx0IHNlbmRyZWN2XG4gICAgICAgIHRyYW5zY2VpdmVyW1wiaW50ZXJuYWxEaXJlY3Rpb25cIl0gPSAocGFyYW1zWydkaXJlY3Rpb24nXSA/IHBhcmFtc1snZGlyZWN0aW9uJ10gOiBcInNlbmRyZWN2XCIpO1xuICAgICAgICB0aGlzLnRyYW5zY2VpdmVycy5wdXNoKHRyYW5zY2VpdmVyKTtcbiAgICAgICAgdmFyIHByb3h5ID0gdGhpcztcbiAgICAgICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdhZGRUcmFuc2NlaXZlcicsIHBhcmFtcywgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjphZGRUcmFuc2NlaXZlcltFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAvLyBTZXQgZGlyZWN0aW9uIG9uIHRoZSBpbnRlcm5hbCBwcm9wZXJ0eSB0byBhdm9pZCB0cmlnZ2VyaW5nIG91ciBzZXQgbWV0aG9kLCB0aGlzIHNob3VsZCBiZSBhIG5vLW9wIHVubGVzcyB0aGUgY2xpZW50IFxuICAgICAgICAgICAgICAgIC8vIHdlYnJ0YyBpbXBsIG1vZGlmaWVkIHRoaXMgZm9yIHNvbWUgcmVhc29uLlxuICAgICAgICAgICAgICAgIHRyYW5zY2VpdmVyW1wiaW50ZXJuYWxEaXJlY3Rpb25cIl0gPSBhcmdzW1wiZGlyZWN0aW9uXCJdO1xuICAgICAgICAgICAgICAgIHByb3h5LnJlY2VpdmVyTWFwLnNldChhcmdzW1wicmVjZWl2ZXJJZFwiXSwgcmVjZWl2ZXIpO1xuICAgICAgICAgICAgICAgIHNlbmRlci5zZXRJZChhcmdzW1wic2VuZGVySWRcIl0pO1xuICAgICAgICAgICAgICAgIHByb3h5LnNlbmRlck1hcC5zZXQoYXJnc1tcInNlbmRlcklkXCJdLCBzZW5kZXIpO1xuICAgICAgICAgICAgICAgIHZhciB0cmFjayA9IG1lZGlhU3RyZWFtVHJhY2tfcmVkaXJlY3RfMS5jcmVhdGVUcmFja1JlZGlyZWN0KFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlciwgYXJnc1tcInRyYWNrSWRcIl0sIGFyZ3NbXCJ0cmFja0xhYmVsXCJdLCAoYXJnc1tcInNldHRpbmdzXCJdICE9IHVuZGVmaW5lZCkgPyBhcmdzW1wic2V0dGluZ3NcIl0gOiBudWxsLCBhcmdzW1wia2luZFwiXSk7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZXJbXCJ0cmFja1wiXSA9IHRyYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRyYW5zY2VpdmVyO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6Y2xvc2VbQkVHSU5dXCIpO1xuICAgICAgICBpZiAodGhpcy5pc0Nsb3NlZCkge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpjbG9zZVtFTkRdIC0gd2FzIGFscmVhZHkgY2xvc2VkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIENhcHR1cmUgdGhlICd0aGlzJyBwb2ludGVyIHNvIHRoYXQgd2UgdXNlIHRoZSBjb3JyZWN0IG9uZSBpbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICAgIHZhciBzaGltXzEgPSB0aGlzO1xuICAgICAgICAgICAgLy8gQ2hhbmdlIGFsbCBzdGF0ZSB2YXJpYWJsZXMgdG8gJ2Nsb3NlZCcgYXMgdGhpcyBpcyBleHBlY3RlZCB0byBoYXBwZW4gc3luY2hyb25vdXNseS5cbiAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gZmlyZSBldmVudHMgd2hlbiB0aGUgY2xvc2VkIHN0YXRlIHdhcyB0aGUgcmVzdWx0IG9mIHRoZSBjYWxsZXIncyBvd24gYWN0aW9uLlxuICAgICAgICAgICAgc2hpbV8xLnNldEF0dHJpYnV0ZShcImNvbm5lY3Rpb25TdGF0ZVwiLCBcImNsb3NlZFwiKTtcbiAgICAgICAgICAgIHNoaW1fMS5zZXRBdHRyaWJ1dGUoXCJpY2VDb25uZWN0aW9uU3RhdGVcIiwgXCJjbG9zZWRcIik7XG4gICAgICAgICAgICBzaGltXzEuc2V0QXR0cmlidXRlKFwiaWNlR2F0aGVyaW5nU3RhdGVcIiwgXCJjbG9zZWRcIik7XG4gICAgICAgICAgICBzaGltXzEuc2V0QXR0cmlidXRlKFwic2lnbmFsaW5nU3RhdGVcIiwgXCJjbG9zZWRcIik7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW1fMS5sb2NhbE9iamVjdElkLCAnY2xvc2UnLCB7fSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6Y2xvc2VbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIC8vIEFmdGVyIHdlIGNsb3NlIHRoZSBwZWVyQ29ubmVjdGlvbiwgdGhlIHJlbW90ZSBjbGllbnQgZG9lcyBub3Qgc2VuZCBhbnkgbW9yZSBldmVudHMuXG4gICAgICAgICAgICAgICAgc2hpbV8xLmlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5jcmVhdGVBbnN3ZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OmNyZWF0ZUFuc3dlcltCRUdJTl0gLSBvcHRpb25zOiBcIiArIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QoX3RoaXMubG9jYWxPYmplY3RJZCwgJ2NyZWF0ZUFuc3dlcicsIHsgJ29wdGlvbnMnOiBvcHRpb25zIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OmNyZWF0ZUFuc3dlcltFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgICAgICAgICAgdmFyIHJldHZhbCA9IG5ldyBNbXJSVENTZXNzaW9uRGVzY3JpcHRpb25Jbml0KGFyZ3NbJ3R5cGUnXSwgYXJnc1snc2RwJ10pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJldHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZWxlbWVudFNoaW1Db21tb25fMS5tbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yKHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsID0gZnVuY3Rpb24gKGxhYmVsLCBkYXRhQ2hhbm5lbERpY3QpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OiBjcmVhdGVEYXRhQ2hhbm5lbFtCRUdJTl0gLSBsYWJlbDogXCIgKyBsYWJlbCArIFwiIHBhcmFtczogXCIgKyBKU09OLnN0cmluZ2lmeShkYXRhQ2hhbm5lbERpY3QpKTtcbiAgICAgICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24gaXMgY2xvc2VkXCIsIFwiSW52YWxpZFN0YXRlRXJyb3JcIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVmFsaWRhdGUgaW5wdXQgcGFyYW1ldGVyc1xuICAgICAgICBpZiAobGFiZWwubGVuZ3RoID4gNjU1MzUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJMYWJlbCBsZW5ndGggaXMgdG9vIGxvbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFDaGFubmVsRGljdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoZGF0YUNoYW5uZWxEaWN0LnByb3RvY29sICE9IG51bGwgJiYgZGF0YUNoYW5uZWxEaWN0LnByb3RvY29sLmxlbmd0aCA+IDY1NTM1KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByb3RvY29sIGxlbmd0aCBpcyB0b28gbG9uZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhQ2hhbm5lbERpY3QubWF4UGFja2V0TGlmZVRpbWUgIT0gbnVsbCAmJiBkYXRhQ2hhbm5lbERpY3QubWF4UmV0cmFuc21pdHMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJtYXhQYWNrZXRMaWZlVGltZSBhbmQgbWF4UmV0cmFuc21pdHMgbXVzdCBub3QgYm90aCBiZSBzcGVjaWZpZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YUNoYW5uZWxEaWN0LmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUNoYW5uZWxEaWN0LmlkIDwgMCB8fCBkYXRhQ2hhbm5lbERpY3QuaWQgPj0gNjU1MzUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgY2hhbm5lbCBpZCB2YWx1ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbE1hcC5oYXMoZGF0YUNoYW5uZWxEaWN0LmlkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVGhlIGRhdGEgY2hhbm5lbCBpZCBpcyBhbHJlYWR5IGluIHVzZVwiLCBcIlJlc291cmNlSW5Vc2VcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFBpY2sgYSBjaGFubmVsIElELiBJZiB0aGUgY2FsbGVyIGhhcyBzcGVjaWZpZWQgYSBjaGFubmVsIGlkLCB3ZSB1c2UgaXQuIChXZSBoYXZlIGFscmVhZHkgdmFsaWRhdGVkIHRoYXQgaXQgaXMgbm90IGFscmVhZHkgaW4gdXNlLilcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIHBpY2sgb3VyIG93bi4gVGhlc2UgSURzIGFyZSB1bmlxdWUgb25seSB3aXRoaW4gdGhlIGN1cnJlbnQgUGVlciBDb25uZWN0aW9uLlxuICAgICAgICB2YXIgY2hhbm5lbElkO1xuICAgICAgICBpZiAoZGF0YUNoYW5uZWxEaWN0ICE9IG51bGwgJiYgZGF0YUNoYW5uZWxEaWN0LmlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNoYW5uZWxJZCA9IGRhdGFDaGFubmVsRGljdC5pZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhdHRlbXB0cyA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoYXR0ZW1wdHMgPCA2NTUzNSkge1xuICAgICAgICAgICAgICAgIC8vIENoYW5uZWwgaWRzIGFyZSBhbGxvd2VkIHRvIGJlIGluIHRoZSByYW5nZSBmcm9tIDAgdG8gNjU1MzQuXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0Q2hhbm5lbElkID0gKHRoaXMubmV4dENoYW5uZWxJZCArIDEpICUgNjU1MzU7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoYW5uZWxNYXAuaGFzKHRoaXMubmV4dENoYW5uZWxJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbElkID0gdGhpcy5uZXh0Q2hhbm5lbElkO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKythdHRlbXB0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdHRlbXB0cyA+PSA2NTUzNSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJUb28gbWFueSBkYXRhIGNoYW5uZWxzIGFyZSBhbHJlYWR5IGluIHVzZVwiLCBcIk9wZXJhdGlvbkVycm9yXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFubmVsID0gbmV3IHJ0Y0RhdGFDaGFubmVsX3JlZGlyZWN0XzEuUlRDRGF0YUNoYW5uZWxSZWRpcmVjdChSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIsIHRoaXMubG9jYWxPYmplY3RJZCwgY2hhbm5lbElkLCBsYWJlbCwgZGF0YUNoYW5uZWxEaWN0KTtcbiAgICAgICAgdGhpcy5jaGFubmVsTWFwW2NoYW5uZWxJZF0gPSBjaGFubmVsO1xuICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ2NyZWF0ZURhdGFDaGFubmVsJywgeyAnbGFiZWwnOiBsYWJlbCwgJ2lkJzogY2hhbm5lbElkLCAndXVpZCc6IGNoYW5uZWwudXVpZCwgJ3BhcmFtZXRlcnMnOiBkYXRhQ2hhbm5lbERpY3QgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpjcmVhdGVEYXRhQ2hhbm5lbFtFTkRdIC0gcmVzdWx0OiAweFwiICsgcmVzdWx0LnRvU3RyaW5nKDE2KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2hhbm5lbDtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpjcmVhdGVPZmZlcltCRUdJTl0gLSBvcHRpb25zOiBcIiArIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QoX3RoaXMubG9jYWxPYmplY3RJZCwgJ2NyZWF0ZU9mZmVyJywgeyAnb3B0aW9ucyc6IG9wdGlvbnMgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6Y3JlYXRlT2ZmZXJbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIHZhciByZXR2YWwgPSBuZXcgTW1yUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdChcIm9mZmVyXCIsIGFyZ3NbJ3NkcCddKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXR2YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVsZW1lbnRTaGltQ29tbW9uXzEubW1yV2ViUnRjU3RhdHVzVG9ET01FcnJvcihyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25maWd1cmF0aW9uO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuZ2V0SWRlbnRpdHlBc3NlcnRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbihcIlRoZSBvcGVyYXRpb24gaXMgbm90IHN1cHBvcnRlZFwiLCBcIk5vdFN1cHBvcnRlZEVycm9yXCIpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5nZXRSZWNlaXZlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucmVjZWl2ZXJNYXAudmFsdWVzKCkpO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuZ2V0U2VuZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zZW5kZXJNYXAudmFsdWVzKCkpO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpnZXRTdGF0c1tTVEFSVF0gc2VsZWN0b3I6IFwiICsgKHNlbGVjdG9yID09PSBudWxsIHx8IHNlbGVjdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzZWxlY3Rvci5pZCkpO1xuICAgICAgICB2YXIgc2hpbSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ubG9jYWxPYmplY3RJZCwgJ2dldFN0YXRzJywgeyAndHJhY2tJZCc6IChzZWxlY3RvciA9PT0gbnVsbCB8fCBzZWxlY3RvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0b3IuaWQpID09IHVuZGVmaW5lZCA/IFwiXCIgOiBzZWxlY3RvciA9PT0gbnVsbCB8fCBzZWxlY3RvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0b3IuaWQgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6Z2V0U3RhdHNbRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHNSZXBvcnQgPSBDcmVhdGVTdGF0c1JlcG9ydChhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzdGF0c1JlcG9ydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZWxlbWVudFNoaW1Db21tb25fMS5tbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yKHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLmdldFRyYW5zY2VpdmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNjZWl2ZXJzO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbiAoc2VuZGVyKSB7XG4gICAgICAgIHRoaXMuc2VuZGVyTWFwLmRlbGV0ZShzZW5kZXIudHJhY2suaWQpO1xuICAgICAgICAvLyBUT0RPOiBBbHNvIHNlbmQgbWVzc2FnZSB0byBjbGllbnQgdG8gcmVtb3ZlIHRyYWNrXG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5zZXRDb25maWd1cmF0aW9uID0gZnVuY3Rpb24gKGNvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpzZXRDb25maWd1cmF0aW9uW0JFR0lOXSAtIGNvbmZpZ3VyYXRpb246IFwiICsgSlNPTi5zdHJpbmdpZnkoY29uZmlndXJhdGlvbikpO1xuICAgICAgICAvLyBTaW5jZSB0aGlzIG1ldGhvZCBpcyBzeW5jaHJvbm91cywgd2UgY2Fubm90IGVhc2lseSByZXR1cm4gYW4gZXJyb3IgZnJvbSB0aGUgY2FsbGJhY2suXG4gICAgICAgIC8vIFRyeSB0byB2YWxpZGF0ZSB0aGUgcGFyYW1ldGVycyBiZWZvcmUgd2UgaW52b2tlIHRoZSBSZW1vdGVPYmplY3RNYW5hZ2VyLlxuICAgICAgICB2YXIgb2xkQnVuZGxlUG9saWN5ID0gKHRoaXMuY29uZmlndXJhdGlvbiAhPSBudWxsICYmIHRoaXMuY29uZmlndXJhdGlvblsnYnVuZGxlUG9saWN5J10gIT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlndXJhdGlvblsnYnVuZGxlUG9saWN5J10gOiBcImJhbGFuY2VkXCI7XG4gICAgICAgIHZhciBuZXdCdW5kbGVQb2xpY3kgPSAoY29uZmlndXJhdGlvbiAhPSBudWxsICYmIGNvbmZpZ3VyYXRpb25bJ2J1bmRsZVBvbGljeSddICE9IHVuZGVmaW5lZCkgPyBjb25maWd1cmF0aW9uWydidW5kbGVQb2xpY3knXSA6IFwiYmFsYW5jZWRcIjtcbiAgICAgICAgdmFyIG9sZFJ0Y3BNdXhQb2xpY3kgPSAodGhpcy5jb25maWd1cmF0aW9uICE9IG51bGwgJiYgdGhpcy5jb25maWd1cmF0aW9uWydydGNwTXV4UG9saWN5J10gIT0gdW5kZWZpbmVkKSA/IHRoaXMuY29uZmlndXJhdGlvblsncnRjcE11eFBvbGljeSddIDogXCJyZXF1aXJlXCI7XG4gICAgICAgIHZhciBuZXdSdGNwTXV4UG9saWN5ID0gKGNvbmZpZ3VyYXRpb24gIT0gbnVsbCAmJiBjb25maWd1cmF0aW9uWydydGNwTXV4UG9saWN5J10gIT0gdW5kZWZpbmVkKSA/IGNvbmZpZ3VyYXRpb25bJ3J0Y3BNdXhQb2xpY3knXSA6IFwicmVxdWlyZVwiO1xuICAgICAgICBpZiAobmV3QnVuZGxlUG9saWN5ICE9IG9sZEJ1bmRsZVBvbGljeSB8fCBuZXdSdGNwTXV4UG9saWN5ICE9IG9sZFJ0Y3BNdXhQb2xpY3kpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgb2JqZWN0IGNhbm5vdCBiZSBtb2RpZmllZCBpbiB0aGlzIHdheVwiLCBcIkludmFsaWRNb2RpZmljYXRpb25FcnJvclwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uO1xuICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3NldENvbmZpZ3VyYXRpb24nLCB7ICdjb25maWd1cmF0aW9uJzogY29uZmlndXJhdGlvbiB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OnNldENvbmZpZ3VyYXRpb25bRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgLy8gU2FkbHkgd2UgY2Fubm90IHRocm93IGFuIGVycm9yIGhlcmUgYmVjYXVzZSB0aGUgbWV0aG9kIGlzIHN5bmNocm9ub3VzLiBUaGUgY2FsbGJhY2sgaXMgaW52b2tlZCBhZnRlclxuICAgICAgICAgICAgLy8gY29udHJvbCBoYXMgYWxyZWFkeSByZXR1cm5lZCB0byB0aGUgY2FsbGVyLlxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnNldElkZW50aXR5UHJvdmlkZXIgPSBmdW5jdGlvbiAocHJvdmlkZXIsIG9wdGlvbnMpIHtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb24gPSBmdW5jdGlvbiAoZGVzY3JpcHRpb24pIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpzZXRMb2NhbERlc2NyaXB0aW9uW0JFR0lOXSAtIGRlc2NyaXB0aW9uOiBcIiArIEpTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKSk7XG4gICAgICAgIHZhciBzaGltID0gdGhpcztcbiAgICAgICAgc2hpbS5zZXRBdHRyaWJ1dGUoXCJwZW5kaW5nTG9jYWxEZXNjcmlwdGlvblwiLCBkZXNjcmlwdGlvbik7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAvLyBCeSBjb252ZXJ0aW5nIHRoZSBtZXNzYWdlIG9iamVjdCB0byBKU09OIGFuZCB0aGVuIGJhY2sgdG8gYW4gb2JqZWN0IGFnYWluLCB3ZSBhcmUgYXZvaWRpbmcgYSBwcm9ibGVtXG4gICAgICAgICAgICAvLyB0aGF0IHNvbWV0aW1lcyBvY2N1cnMgd2hlbiB0aGUgZG9jdW1lbnQgdGhpbmtzIHRoYXQgdGhlIG9yaWdpbmFsIG9iamVjdCBpcyB1bnRydXN0ZWQgYW5kIHJlbW92ZXMgaXQgZnJvbSB0aGUgZXZlbnQuXG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb25PYmplY3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKSk7XG4gICAgICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW0ubG9jYWxPYmplY3RJZCwgJ3NldExvY2FsRGVzY3JpcHRpb24nLCB7ICdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uT2JqZWN0IH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OnNldExvY2FsRGVzY3JpcHRpb25bRU5EXSAtIHJlc3VsdDogMHhcIiArIHJlc3VsdC50b1N0cmluZygxNikpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICBzaGltLnNldEF0dHJpYnV0ZShcImN1cnJlbnRMb2NhbERlc2NyaXB0aW9uXCIsIHNoaW0ucGVuZGluZ0xvY2FsRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICBzaGltLnNldEF0dHJpYnV0ZShcInBlbmRpbmdMb2NhbERlc2NyaXB0aW9uXCIsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaGltLnNldEF0dHJpYnV0ZShcInBlbmRpbmdMb2NhbERlc2NyaXB0aW9uXCIsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZWxlbWVudFNoaW1Db21tb25fMS5tbXJXZWJSdGNTdGF0dXNUb0RPTUVycm9yKHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID0gZnVuY3Rpb24gKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6c2V0UmVtb3RlRGVzY3JpcHRpb25bQkVHSU5dIC0gZGVzY3JpcHRpb246IFwiICsgSlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pKTtcbiAgICAgICAgdmFyIHNoaW0gPSB0aGlzO1xuICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZShcInBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvblwiLCBkZXNjcmlwdGlvbik7XG4gICAgICAgIC8vIFRoZSBzcGVjIHNheXMgdGhhdCB0aGlzIHNob3VsZCBiZSBzZXQgdG8gdHJ1ZSBvbmNlIHNldFJlbW90ZURlc2NyaXB0aW9uIGlzIGNhbGxlZC5cbiAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoXCJjYW5Ucmlja2xlSWNlQ2FuZGlkYXRlc1wiLCB0cnVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIC8vIEJ5IGNvbnZlcnRpbmcgdGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIEpTT04gYW5kIHRoZW4gYmFjayB0byBhbiBvYmplY3QgYWdhaW4sIHdlIGFyZSBhdm9pZGluZyBhIHByb2JsZW1cbiAgICAgICAgICAgIC8vIHRoYXQgc29tZXRpbWVzIG9jY3VycyB3aGVuIHRoZSBkb2N1bWVudCB0aGlua3MgdGhhdCB0aGUgb3JpZ2luYWwgb2JqZWN0IGlzIHVudHJ1c3RlZCBhbmQgcmVtb3ZlcyBpdCBmcm9tIHRoZSBldmVudC5cbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbk9iamVjdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pKTtcbiAgICAgICAgICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2Qoc2hpbS5sb2NhbE9iamVjdElkLCAnc2V0UmVtb3RlRGVzY3JpcHRpb24nLCB7ICdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uT2JqZWN0IH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OnNldFJlbW90ZURlc2NyaXB0aW9uW0VORF0gLSByZXN1bHQ6IDB4XCIgKyByZXN1bHQudG9TdHJpbmcoMTYpKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpbS5zZXRBdHRyaWJ1dGUoXCJjdXJyZW50UmVtb3RlRGVzY3JpcHRpb25cIiwgc2hpbS5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICBzaGltLnNldEF0dHJpYnV0ZShcInBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvblwiLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpbS5zZXRBdHRyaWJ1dGUoXCJwZW5kaW5nUmVtb3RlRGVzY3JpcHRpb25cIiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlbGVtZW50U2hpbUNvbW1vbl8xLm1tcldlYlJ0Y1N0YXR1c1RvRE9NRXJyb3IocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3Q6OmFkZEV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmxvY2FsT2JqZWN0SWQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0OjpyZW1vdmVFdmVudExpc3RlbmVyIC0gdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5yZW1vdGVPYmplY3RNYW5hZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5sb2NhbE9iamVjdElkLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDo6ZGlzcGF0Y2hFdmVudCAtIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIHJldHVybiBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0LnJlbW90ZU9iamVjdE1hbmFnZXIuZGlzcGF0Y2hFdmVudCh0aGlzLmxvY2FsT2JqZWN0SWQsIGV2ZW50KTtcbiAgICB9O1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QuZXZlbnRIYW5kbGVycyA9IFsnY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgJ2RhdGFjaGFubmVsJywgJ2ljZWNhbmRpZGF0ZScsICdpY2VjYW5kaWRhdGVlcnJvcicsICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCAnaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLCAnbmVnb3RpYXRpb25uZWVkZWQnLCAnc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCAnc3RhdHNlbmRlZCcsICd0cmFjayddO1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlciA9IG51bGw7XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5vY2NsdXNpb25TdXBwb3J0VmVyc2lvbiA9IDA7XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5vcmlnaW5hbFJUQ1BlZXJDb25uZWN0aW9uQ2xhc3MgPSBSVENQZWVyQ29ubmVjdGlvbjtcbiAgICByZXR1cm4gUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDtcbn0oKSk7XG5leHBvcnRzLlJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QgPSBSVENQZWVyQ29ubmVjdGlvblJlZGlyZWN0O1xuZnVuY3Rpb24gc2V0dXBSVENQZWVyQ29ubmVjdGlvblNoaW1zKHJlbW90ZU9iamVjdE1hbmFnZXIsIGZhbGxiYWNrT2JqZWN0TWFuYWdlciwgb2NjbHVzaW9uU3VwcG9ydFZlcnNpb24pIHtcbiAgICBjb25zb2xlLmxvZyhcIlNoaW1taW5nIFJUQ1BlZXJDb25uZWN0aW9uXCIpO1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uUmVkaXJlY3QucmVtb3RlT2JqZWN0TWFuYWdlciA9IHJlbW90ZU9iamVjdE1hbmFnZXI7XG4gICAgUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdC5vY2NsdXNpb25TdXBwb3J0VmVyc2lvbiA9IG9jY2x1c2lvblN1cHBvcnRWZXJzaW9uO1xuICAgIFJUQ1BlZXJDb25uZWN0aW9uID0gUlRDUGVlckNvbm5lY3Rpb25SZWRpcmVjdDtcbn1cbmV4cG9ydHMuc2V0dXBSVENQZWVyQ29ubmVjdGlvblNoaW1zID0gc2V0dXBSVENQZWVyQ29ubmVjdGlvblNoaW1zO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJUQ0RhdGFDaGFubmVsUmVkaXJlY3QgPSB2b2lkIDA7XG52YXIgZWxlbWVudFNoaW1Db21tb25fMSA9IHJlcXVpcmUoXCIuL2VsZW1lbnRTaGltQ29tbW9uXCIpO1xudmFyIGxvZ2dpbmdDb21tb25fMSA9IHJlcXVpcmUoXCIuL2xvZ2dpbmdDb21tb25cIik7XG52YXIgUlRDRGF0YUNoYW5uZWxSZWRpcmVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0KHJlbW90ZU9iamVjdE1hbmFnZXIsIHBhcmVudExvY2FsT2JqZWN0SWQsIGlkLCBsYWJlbCwgZGF0YUNoYW5uZWxEaWN0LCB1dWlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlciA9IHJlbW90ZU9iamVjdE1hbmFnZXI7XG4gICAgICAgIHRoaXMubG9jYWxPYmplY3RJZCA9IDA7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0QWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNDbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYnVmZmVyZWRBbW91bnQgPSAwO1xuICAgICAgICB0aGlzLl9idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCA9IDA7XG4gICAgICAgIC8vIFJUQ0RhdGFDaGFubmVsIHByb3BlcnRpZXNcbiAgICAgICAgdGhpcy5iaW5hcnlUeXBlID0gXCJibG9iXCI7XG4gICAgICAgIHRoaXMuaWQgPSBudWxsO1xuICAgICAgICB0aGlzLm1heFBhY2tldExpZmVUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5tYXhSZXRyYW5zbWl0cyA9IG51bGw7XG4gICAgICAgIHRoaXMubmVnb3RpYXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9yZGVyZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnByaW9yaXR5ID0gXCJtZWRpdW1cIjtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IFwiXCI7XG4gICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9IFwiY29ubmVjdGluZ1wiO1xuICAgICAgICB0aGlzLnBhcmVudExvY2FsT2JqZWN0SWQgPSBwYXJlbnRMb2NhbE9iamVjdElkO1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgaWYgKHV1aWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy51dWlkID0gdXVpZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRoaXMudXVpZCA9IGNyeXB0by5yYW5kb21VVUlEKCk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFDaGFubmVsRGljdCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm1heFBhY2tldExpZmVUaW1lID0gZGF0YUNoYW5uZWxEaWN0Lm1heFBhY2tldExpZmVUaW1lO1xuICAgICAgICAgICAgdGhpcy5tYXhSZXRyYW5zbWl0cyA9IGRhdGFDaGFubmVsRGljdC5tYXhSZXRyYW5zbWl0cztcbiAgICAgICAgICAgIHRoaXMubmVnb3RpYXRlZCA9IGRhdGFDaGFubmVsRGljdC5uZWdvdGlhdGVkO1xuICAgICAgICAgICAgdGhpcy5vcmRlcmVkID0gZGF0YUNoYW5uZWxEaWN0Lm9yZGVyZWQ7XG4gICAgICAgICAgICB0aGlzLnByaW9yaXR5ID0gZGF0YUNoYW5uZWxEaWN0LnByaW9yaXR5O1xuICAgICAgICAgICAgdGhpcy5wcm90b2NvbCA9IGRhdGFDaGFubmVsRGljdC5wcm90b2NvbDtcbiAgICAgICAgfVxuICAgICAgICBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0LmV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROYW1lKSB7XG4gICAgICAgICAgICAvLyBpbXBsZW1lbnRhdGlvbiBiYXNlZCBvbiBvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSBmcm9tIGh0dHBzOi8vd2VicnRjLmdpdGh1Yi5pby9hZGFwdGVyL2FkYXB0ZXItbGF0ZXN0LmpzXG4gICAgICAgICAgICB2YXIgcHJvcE5hbWUgPSAnX29uJyArIGV2ZW50TmFtZSArICdldmVudEhhbmRsZXInO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLCAnb24nICsgZXZlbnROYW1lLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW3Byb3BOYW1lXSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCB0aGlzW3Byb3BOYW1lXSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzW3Byb3BOYW1lXSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdGhpc1twcm9wTmFtZV0sIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuY3JlYXRlT2JqZWN0KHRoaXMsIFwiUlRDRGF0YUNoYW5uZWxcIiwgeyBcInV1aWRcIjogdGhpcy51dWlkIH0pO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUlRDRGF0YUNoYW5uZWxSZWRpcmVjdC5wcm90b3R5cGUsIFwiYnVmZmVyZWRBbW91bnRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgY3VycmVudCBjYWNoZWQgdmFsdWUgYW5kIHNlbmQgYSByZXF1ZXN0IHRvIHJldHJpZXZlIGFuIHVwZGF0ZWQgdmFsdWUuIEFwcHMgdGhhdCBpbnZva2UgdGhpcyBmdW5jdGlvbiBhcmUgbGlrZWx5IHRvIGRvIHNvXG4gICAgICAgICAgICAvLyByZWd1bGFybHksIHNvIHRoZSBuZXh0IHRpbWUgaXQgaXMgaW52b2tlZCB3ZSBzaG91bGQgaGF2ZSBhbiB1cGRhdGVkIHZhbHVlIHRvIHJldHVybi5cbiAgICAgICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5pbnZva2VNZXRob2QodGhpcy5sb2NhbE9iamVjdElkLCAnYnVmZmVyZWRBbW91bnQnLCB7IHZhbHVlOiB0aGlzLl9idWZmZXJlZEFtb3VudCB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlcmVkQW1vdW50O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJUQ0RhdGFDaGFubmVsUmVkaXJlY3QucHJvdG90eXBlLCBcImJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZDsgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDRGF0YUNoYW5uZWxSZWRpcmVjdDo6YnVmZmVyZWRBbW91bnRMb3dUaHJlc2hvbGQ9XCIgKyB2YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLl9idWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdidWZmZXJlZEFtb3VudExvd1RocmVzaG9sZCcsIHsgdmFsdWU6IHZhbHVlIH0sIGZ1bmN0aW9uIChyZXN1bHQsIGFyZ3MpIHsgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENEYXRhQ2hhbm5lbFJlZGlyZWN0OjpjbG9zZVwiKTtcbiAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdjbG9zZScsIHt9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7IH0pO1xuICAgIH07XG4gICAgUlRDRGF0YUNoYW5uZWxSZWRpcmVjdC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDRGF0YUNoYW5uZWxSZWRpcmVjdDo6c2VuZFwiKTtcbiAgICAgICAgZnVuY3Rpb24gX2FycmF5QnVmZmVyVG9CYXNlNjQoYnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgYmluYXJ5ID0gJyc7XG4gICAgICAgICAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICAgICAgdmFyIGxlbiA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5idG9hKGJpbmFyeSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgZ290IGFuIEFycmF5QnVmZmVyXG4gICAgICAgIGlmIChkYXRhWydieXRlTGVuZ3RoJ10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBCYXNlNjQtZW5jb2RlIHRoZSBBcnJheUJ1ZmZlci5cbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBkYXRhO1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RNYW5hZ2VyLmludm9rZU1ldGhvZCh0aGlzLmxvY2FsT2JqZWN0SWQsICdzZW5kJywgeyBtZXNzYWdlOiBfYXJyYXlCdWZmZXJUb0Jhc2U2NChidWZmZXIpLCBpc0JpbmFyeTogdHJ1ZSB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGFbJ2J1ZmZlciddICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gTG9va3MgbGlrZSBhbiBBcnJheUJ1ZmZlclZpZXcuIFdlIGNhbiBnZXQgdGhlIEFycmF5QnVmZmVyIGFuZCB0aGVuIHdlIEJhc2U2NCBlbmNvZGUgaXQuXG4gICAgICAgICAgICB2YXIgYnVmZmVyVmlldyA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3NlbmQnLCB7IG1lc3NhZ2U6IF9hcnJheUJ1ZmZlclRvQmFzZTY0KGJ1ZmZlclZpZXcuYnVmZmVyKSwgaXNCaW5hcnk6IHRydWUgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykgeyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhWyd0eXBlJ10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBJbnB1dCBhcHBlYXJzIHRvIGJlIGEgQmxvYi4gV2UgbmVlZCB0byBjb252ZXJ0IGl0IHRvIGFuIEFycmF5QnVmZmVyLlxuICAgICAgICAgICAgdmFyIGJsb2IgPSBkYXRhO1xuICAgICAgICAgICAgdmFyIHNoaW1fMSA9IHRoaXM7XG4gICAgICAgICAgICBibG9iLmFycmF5QnVmZmVyKCkudGhlbihmdW5jdGlvbiAoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgc2hpbV8xLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHNoaW1fMS5sb2NhbE9iamVjdElkLCAnc2VuZCcsIHsgbWVzc2FnZTogX2FycmF5QnVmZmVyVG9CYXNlNjQoYnVmZmVyKSwgaXNCaW5hcnk6IHRydWUgfSwgZnVuY3Rpb24gKHJlc3VsdCwgYXJncykgeyB9KTtcbiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDRGF0YUNoYW5uZWxSZWRpcmVjdDo6c2VuZCAtIGVycm9yIGNvbnZlcnRpbmcgQmxvYiB0byBBcnJheUJ1ZmZlcjogXCIgKyBlcnJvci50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gVHJlYXQgdGhlIGlucHV0IGFzIGEgcGxhaW4gc3RyaW5nLiBObyBCYXNlNjQgZW5jb2RpbmcuXG4gICAgICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIuaW52b2tlTWV0aG9kKHRoaXMubG9jYWxPYmplY3RJZCwgJ3NlbmQnLCB7IG1lc3NhZ2U6IGRhdGEsIGlzQmluYXJ5OiBmYWxzZSB9LCBmdW5jdGlvbiAocmVzdWx0LCBhcmdzKSB7IH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDRGF0YUNoYW5uZWxSZWRpcmVjdDo6YWRkRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgdHlwZSk7XG4gICAgICAgIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5hZGRFdmVudExpc3RlbmVyKHRoaXMubG9jYWxPYmplY3RJZCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgUlRDRGF0YUNoYW5uZWxSZWRpcmVjdC5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ0RhdGFDaGFubmVsUmVkaXJlY3Q6OnJlbW92ZUV2ZW50TGlzdGVuZXIgLSB0eXBlOiBcIiArIHR5cGUpO1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdE1hbmFnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmxvY2FsT2JqZWN0SWQsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJUQ0RhdGFDaGFubmVsUmVkaXJlY3QucHJvdG90eXBlLmRpc3BhdGNoRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENEYXRhQ2hhbm5lbFJlZGlyZWN0OjpkaXNwYXRjaEV2ZW50IC0gdHlwZTogXCIgKyBldmVudC50eXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlT2JqZWN0TWFuYWdlci5kaXNwYXRjaEV2ZW50KHRoaXMubG9jYWxPYmplY3RJZCwgZXZlbnQpO1xuICAgIH07XG4gICAgLy8gUmVtb3RlT2JqZWN0TWFuYWdlckNsaWVudCBtZXRob2RzXG4gICAgUlRDRGF0YUNoYW5uZWxSZWRpcmVjdC5wcm90b3R5cGUuc2V0TG9jYWxPYmplY3RJZCA9IGZ1bmN0aW9uIChsb2NhbE9iamVjdElkKSB7XG4gICAgICAgIHRoaXMubG9jYWxPYmplY3RJZCA9IGxvY2FsT2JqZWN0SWQ7XG4gICAgfTtcbiAgICBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0LnByb3RvdHlwZS5nZXRMb2NhbE9iamVjdElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbE9iamVjdElkO1xuICAgIH07XG4gICAgUlRDRGF0YUNoYW5uZWxSZWRpcmVjdC5wcm90b3R5cGUub25SZW1vdGVPYmplY3RDcmVhdGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnJlbW90ZU9iamVjdEFjdGl2ZSA9IHRydWU7XG4gICAgfTtcbiAgICBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0LnByb3RvdHlwZS5pbnZva2VFdmVudCA9IGZ1bmN0aW9uIChldmVudCkgeyB9O1xuICAgIFJUQ0RhdGFDaGFubmVsUmVkaXJlY3QucHJvdG90eXBlLmludm9rZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDRGF0YUNoYW5uZWxSZWRpcmVjdDo6aW52b2tlRXZlbnRMaXN0ZW5lciAtIHR5cGU6IFwiICsgZXZlbnQudHlwZSk7XG4gICAgICAgIC8vIFdlIGVudGVyIGNsb3NlZCBzdGF0ZSBiZWZvcmUgdGhlICdjbG9zZScgZXZlbnQgaXMgc2VudCwgc28gbWFrZSBzdXJlIHRvIGFsbG93IHRoYXQgZXZlbnQgdG8gYmUgc2VudCBldmVuIHdoZW4gY2xvc2VkLlxuICAgICAgICBpZiAodGhpcy5pc0Nsb3NlZCAmJiBldmVudC50eXBlICE9IFwiY2xvc2VcIikge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENEYXRhQ2hhbm5lbFJlZGlyZWN0OjppbnZva2VFdmVudExpc3RlbmVyOiBJZ25vcmluZyBldmVudCB3aGVuIGNsb3NlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSA9PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gdGhpcy5wcm9jZXNzTWVzc2FnZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSB0aGlzLnByb2Nlc3NFcnJvckV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaXN0ZW5lci5oYW5kbGVFdmVudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lci5oYW5kbGVFdmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAndGFyZ2V0JywgeyB2YWx1ZTogdGhpcyB9KTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXZlbnQsICdjdXJyZW50VGFyZ2V0JywgeyB2YWx1ZTogdGhpcyB9KTtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJUQ0RhdGFDaGFubmVsUmVkaXJlY3QucHJvdG90eXBlLm9uQXR0cmlidXRlVXBkYXRlID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGxvZ2dpbmdDb21tb25fMS5NTVJfTE9HKFwiUlRDRGF0YUNoYW5uZWxSZWRpcmVjdDo6b25BdHRyaWJ1dGVVcGRhdGUgLSBuYW1lOiBcIiArIG5hbWUgKyBcIiwgdmFsdWU6IFwiICsgZWxlbWVudFNoaW1Db21tb25fMS50cnlKc29uU3RyaW5naWZ5KHZhbHVlKSk7XG4gICAgICAgIGlmICh0aGlzLmlzQ2xvc2VkKSB7XG4gICAgICAgICAgICBsb2dnaW5nQ29tbW9uXzEuTU1SX0xPRyhcIlJUQ0RhdGFDaGFubmVsUmVkaXJlY3Q6Om9uQXR0cmlidXRlVXBkYXRlOiBJZ25vcmluZyBhdHRyaWJ1dGUgdXBkYXRlIHdoZW4gY2xvc2VkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUlRDRGF0YUNoYW5uZWxSZWRpcmVjdC5wcm90b3R5cGUub25Db25uZWN0aW9uRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnRUeXBlKSB7XG4gICAgICAgIGlmIChldmVudFR5cGUgPT0gXCJjbGllbnRDb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgbG9nZ2luZ0NvbW1vbl8xLk1NUl9MT0coXCJSVENEYXRhQ2hhbm5lbFJlZGlyZWN0OjpvbkNvbm5lY3Rpb25FdmVudCAtIGNsaWVudENvbm5lY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFR5cGUgPT0gXCJjbGllbnREaXNjb25uZWN0ZWRcIikge1xuICAgICAgICAgICAgdGhpcy5yZW1vdGVPYmplY3RBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChldmVudFR5cGUgPT0gXCJzd2l0Y2hUb1JlbW90ZVwiKSB7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJUQ0RhdGFDaGFubmVsUmVkaXJlY3QucHJvdG90eXBlLnNldEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAobmFtZSA9PSBcImJ1ZmZlcmVkQW1vdW50XCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcmVkQW1vdW50ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobmFtZSA9PSBcImJ1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcmVkQW1vdW50TG93VGhyZXNob2xkID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gXCJyZWFkeVN0YXRlXCIgJiYgdGhpcy5yZWFkeVN0YXRlID09IFwiY2xvc2VkXCIpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDbG9zZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0LnByb3RvdHlwZS5wcm9jZXNzTWVzc2FnZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpbnB1dEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHZhciByZXR1cm5FdmVudDtcbiAgICAgICAgaWYgKGlucHV0RXZlbnQuZGV0YWlsLmlzQmluYXJ5KSB7XG4gICAgICAgICAgICAvLyBCYXNlNjQgZGVjb2RlIHRoZSBtZXNzYWdlLiBUaGUgcmVzdWx0IGlzIGFuIFVpbnQ4QXJyYXkgYnV0IGl0IGhhcyBhIHByb3BlcnR5IHRoYXQgZ2l2ZXMgdXMgdGhlIEFycmF5QnVmZmVyLlxuICAgICAgICAgICAgdmFyIHR5cGVkQXJyYXkgPSBVaW50OEFycmF5LmZyb20oYXRvYihpbnB1dEV2ZW50LmRldGFpbC5tZXNzYWdlKSwgZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuY2hhckNvZGVBdCgwKTsgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5iaW5hcnlUeXBlID09IFwiYmxvYlwiKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VuZCBhIEJsb2IuIFRoZSBCbG9iIGlzIGJ1aWx0IGZyb20gdGhlIEFycmF5QnVmZmVyLlxuICAgICAgICAgICAgICAgIHJldHVybkV2ZW50ID0gbmV3IE1lc3NhZ2VFdmVudCgnbWVzc2FnZScsIHsgZGF0YTogbmV3IEJsb2IoW3R5cGVkQXJyYXkuYnVmZmVyXSkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZW5kIGFuIEFycmF5QnVmZmVyXG4gICAgICAgICAgICAgICAgcmV0dXJuRXZlbnQgPSBuZXcgTWVzc2FnZUV2ZW50KCdtZXNzYWdlJywgeyBkYXRhOiB0eXBlZEFycmF5LmJ1ZmZlciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoZSBtZXNzYWdlIGlzIGEgcGxhaW4gc3RyaW5nLiBObyBCYXNlNjQgZGVjb2RpbmcgbmVlZGVkLlxuICAgICAgICAgICAgdmFyIHN0cmluZ01lc3NhZ2UgPSBpbnB1dEV2ZW50LmRldGFpbC5tZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuRXZlbnQgPSBuZXcgTWVzc2FnZUV2ZW50KCdtZXNzYWdlJywgeyBkYXRhOiBzdHJpbmdNZXNzYWdlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXR1cm5FdmVudDtcbiAgICB9O1xuICAgIFJUQ0RhdGFDaGFubmVsUmVkaXJlY3QucHJvdG90eXBlLnByb2Nlc3NFcnJvckV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpbnB1dEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHZhciBydGNFcnJvciA9IG5ldyBSVENFcnJvcih7XG4gICAgICAgICAgICBlcnJvckRldGFpbDogaW5wdXRFdmVudC5kZXRhaWxbJ2Vycm9yRGV0YWlsJ10sXG4gICAgICAgICAgICByZWNlaXZlZEFsZXJ0OiBpbnB1dEV2ZW50LmRldGFpbFsncmVjZWl2ZWRBbGVydCddLFxuICAgICAgICAgICAgc2N0cENhdXNlQ29kZTogaW5wdXRFdmVudC5kZXRhaWxbJ3NjdHBDYXVzZUNvZGUnXSxcbiAgICAgICAgICAgIHNkcExpbmVOdW1iZXI6IGlucHV0RXZlbnQuZGV0YWlsWydzZHBMaW5lTnVtYmVyJ10sXG4gICAgICAgICAgICBzZW50QWxlcnQ6IGlucHV0RXZlbnQuZGV0YWlsWydzZW50QWxlcnQnXSxcbiAgICAgICAgfSwgaW5wdXRFdmVudC5kZXRhaWwubWVzc2FnZSk7XG4gICAgICAgIHJldHVybiBuZXcgUlRDRXJyb3JFdmVudCgnZXJyb3InLCB7IGVycm9yOiBydGNFcnJvciB9KTtcbiAgICB9O1xuICAgIFJUQ0RhdGFDaGFubmVsUmVkaXJlY3QuZXZlbnRIYW5kbGVycyA9IFsnYnVmZmVyZWRhbW91bnRsb3cnLCAnY2xvc2UnLCAnY2xvc2luZycsICdlcnJvcicsICdtZXNzYWdlJywgJ29wZW4nXTtcbiAgICByZXR1cm4gUlRDRGF0YUNoYW5uZWxSZWRpcmVjdDtcbn0oKSk7XG5leHBvcnRzLlJUQ0RhdGFDaGFubmVsUmVkaXJlY3QgPSBSVENEYXRhQ2hhbm5lbFJlZGlyZWN0O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==